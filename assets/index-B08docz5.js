(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pC(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var Qp={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function eR(){if(ZT)return Ll;ZT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Ll.Fragment=e,Ll.jsx=t,Ll.jsxs=t,Ll}var JT;function tR(){return JT||(JT=1,Qp.exports=eR()),Qp.exports}var Ke=tR(),Zp={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function iR(){if(e1)return dt;e1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function L(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function I(T,M,se){this.props=T,this.context=M,this.refs=A,this.updater=se||k}I.prototype.isReactComponent={},I.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},I.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=I.prototype;function H(T,M,se){this.props=T,this.context=M,this.refs=A,this.updater=se||k}var q=H.prototype=new P;q.constructor=H,j(q,I.prototype),q.isPureReactComponent=!0;var Q=Array.isArray,O={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function F(T,M,se,pe,oe,ge){return se=ge.ref,{$$typeof:n,type:T,key:M,ref:se!==void 0?se:null,props:ge}}function J(T,M){return F(T.type,M,void 0,void 0,void 0,T.props)}function x(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function S(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(se){return M[se]})}var z=/\/+/g;function W(T,M){return typeof T=="object"&&T!==null&&T.key!=null?S(""+T.key):M.toString(36)}function U(){}function Y(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(U,U):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ue(T,M,se,pe,oe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var Ee=!1;if(T===null)Ee=!0;else switch(ge){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(T.$$typeof){case n:case e:Ee=!0;break;case b:return Ee=T._init,ue(Ee(T._payload),M,se,pe,oe)}}if(Ee)return oe=oe(T),Ee=pe===""?"."+W(T,0):pe,Q(oe)?(se="",Ee!=null&&(se=Ee.replace(z,"$&/")+"/"),ue(oe,M,se,"",function(Ge){return Ge})):oe!=null&&(x(oe)&&(oe=J(oe,se+(oe.key==null||T&&T.key===oe.key?"":(""+oe.key).replace(z,"$&/")+"/")+Ee)),M.push(oe)),1;Ee=0;var ke=pe===""?".":pe+":";if(Q(T))for(var Be=0;Be<T.length;Be++)pe=T[Be],ge=ke+W(pe,Be),Ee+=ue(pe,M,se,ge,oe);else if(Be=L(T),typeof Be=="function")for(T=Be.call(T),Be=0;!(pe=T.next()).done;)pe=pe.value,ge=ke+W(pe,Be++),Ee+=ue(pe,M,se,ge,oe);else if(ge==="object"){if(typeof T.then=="function")return ue(Y(T),M,se,pe,oe);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ee(T,M,se){if(T==null)return T;var pe=[],oe=0;return ue(T,pe,"","",function(ge){return M.call(se,ge,oe++)}),pe}function C(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(se){(T._status===0||T._status===-1)&&(T._status=1,T._result=se)},function(se){(T._status===0||T._status===-1)&&(T._status=2,T._result=se)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var le=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function $(){}return dt.Children={map:ee,forEach:function(T,M,se){ee(T,function(){M.apply(this,arguments)},se)},count:function(T){var M=0;return ee(T,function(){M++}),M},toArray:function(T){return ee(T,function(M){return M})||[]},only:function(T){if(!x(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},dt.Component=I,dt.Fragment=t,dt.Profiler=s,dt.PureComponent=H,dt.StrictMode=i,dt.Suspense=h,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,dt.act=function(){throw Error("act(...) is not supported in production builds of React.")},dt.cache=function(T){return function(){return T.apply(null,arguments)}},dt.cloneElement=function(T,M,se){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var pe=j({},T.props),oe=T.key,ge=void 0;if(M!=null)for(Ee in M.ref!==void 0&&(ge=void 0),M.key!==void 0&&(oe=""+M.key),M)!N.call(M,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&M.ref===void 0||(pe[Ee]=M[Ee]);var Ee=arguments.length-2;if(Ee===1)pe.children=se;else if(1<Ee){for(var ke=Array(Ee),Be=0;Be<Ee;Be++)ke[Be]=arguments[Be+2];pe.children=ke}return F(T.type,oe,void 0,void 0,ge,pe)},dt.createContext=function(T){return T={$$typeof:l,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:o,_context:T},T},dt.createElement=function(T,M,se){var pe,oe={},ge=null;if(M!=null)for(pe in M.key!==void 0&&(ge=""+M.key),M)N.call(M,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(oe[pe]=M[pe]);var Ee=arguments.length-2;if(Ee===1)oe.children=se;else if(1<Ee){for(var ke=Array(Ee),Be=0;Be<Ee;Be++)ke[Be]=arguments[Be+2];oe.children=ke}if(T&&T.defaultProps)for(pe in Ee=T.defaultProps,Ee)oe[pe]===void 0&&(oe[pe]=Ee[pe]);return F(T,ge,void 0,void 0,null,oe)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(T){return{$$typeof:d,render:T}},dt.isValidElement=x,dt.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:C}},dt.memo=function(T,M){return{$$typeof:m,type:T,compare:M===void 0?null:M}},dt.startTransition=function(T){var M=O.T,se={};O.T=se;try{var pe=T(),oe=O.S;oe!==null&&oe(se,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then($,le)}catch(ge){le(ge)}finally{O.T=M}},dt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},dt.use=function(T){return O.H.use(T)},dt.useActionState=function(T,M,se){return O.H.useActionState(T,M,se)},dt.useCallback=function(T,M){return O.H.useCallback(T,M)},dt.useContext=function(T){return O.H.useContext(T)},dt.useDebugValue=function(){},dt.useDeferredValue=function(T,M){return O.H.useDeferredValue(T,M)},dt.useEffect=function(T,M){return O.H.useEffect(T,M)},dt.useId=function(){return O.H.useId()},dt.useImperativeHandle=function(T,M,se){return O.H.useImperativeHandle(T,M,se)},dt.useInsertionEffect=function(T,M){return O.H.useInsertionEffect(T,M)},dt.useLayoutEffect=function(T,M){return O.H.useLayoutEffect(T,M)},dt.useMemo=function(T,M){return O.H.useMemo(T,M)},dt.useOptimistic=function(T,M){return O.H.useOptimistic(T,M)},dt.useReducer=function(T,M,se){return O.H.useReducer(T,M,se)},dt.useRef=function(T){return O.H.useRef(T)},dt.useState=function(T){return O.H.useState(T)},dt.useSyncExternalStore=function(T,M,se){return O.H.useSyncExternalStore(T,M,se)},dt.useTransition=function(){return O.H.useTransition()},dt.version="19.0.0",dt}var t1;function er(){return t1||(t1=1,Zp.exports=iR()),Zp.exports}var De=er(),Jp={exports:{}},Pl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function nR(){return i1||(i1=1,function(n){function e(ee,C){var le=ee.length;ee.push(C);e:for(;0<le;){var $=le-1>>>1,T=ee[$];if(0<s(T,C))ee[$]=C,ee[le]=T,le=$;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var C=ee[0],le=ee.pop();if(le!==C){ee[0]=le;e:for(var $=0,T=ee.length,M=T>>>1;$<M;){var se=2*($+1)-1,pe=ee[se],oe=se+1,ge=ee[oe];if(0>s(pe,le))oe<T&&0>s(ge,pe)?(ee[$]=ge,ee[oe]=le,$=oe):(ee[$]=pe,ee[se]=le,$=se);else if(oe<T&&0>s(ge,le))ee[$]=ge,ee[oe]=le,$=oe;else break e}}return C}function s(ee,C){var le=ee.sortIndex-C.sortIndex;return le!==0?le:ee.id-C.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var h=[],m=[],b=1,w=null,L=3,k=!1,j=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function q(ee){for(var C=t(m);C!==null;){if(C.callback===null)i(m);else if(C.startTime<=ee)i(m),C.sortIndex=C.expirationTime,e(h,C);else break;C=t(m)}}function Q(ee){if(A=!1,q(ee),!j)if(t(h)!==null)j=!0,Y();else{var C=t(m);C!==null&&ue(Q,C.startTime-ee)}}var O=!1,N=-1,F=5,J=-1;function x(){return!(n.unstable_now()-J<F)}function S(){if(O){var ee=n.unstable_now();J=ee;var C=!0;try{e:{j=!1,A&&(A=!1,P(N),N=-1),k=!0;var le=L;try{t:{for(q(ee),w=t(h);w!==null&&!(w.expirationTime>ee&&x());){var $=w.callback;if(typeof $=="function"){w.callback=null,L=w.priorityLevel;var T=$(w.expirationTime<=ee);if(ee=n.unstable_now(),typeof T=="function"){w.callback=T,q(ee),C=!0;break t}w===t(h)&&i(h),q(ee)}else i(h);w=t(h)}if(w!==null)C=!0;else{var M=t(m);M!==null&&ue(Q,M.startTime-ee),C=!1}}break e}finally{w=null,L=le,k=!1}C=void 0}}finally{C?z():O=!1}}}var z;if(typeof H=="function")z=function(){H(S)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=S,z=function(){U.postMessage(null)}}else z=function(){I(S,0)};function Y(){O||(O=!0,z())}function ue(ee,C){N=I(function(){ee(n.unstable_now())},C)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){j||k||(j=!0,Y())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return L},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ee){switch(L){case 1:case 2:case 3:var C=3;break;default:C=L}var le=L;L=C;try{return ee()}finally{L=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,C){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var le=L;L=ee;try{return C()}finally{L=le}},n.unstable_scheduleCallback=function(ee,C,le){var $=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,ee){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=le+T,ee={id:b++,callback:C,priorityLevel:ee,startTime:le,expirationTime:T,sortIndex:-1},le>$?(ee.sortIndex=le,e(m,ee),t(h)===null&&ee===t(m)&&(A?(P(N),N=-1):A=!0,ue(Q,le-$))):(ee.sortIndex=T,e(h,ee),j||k||(j=!0,Y())),ee},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(ee){var C=L;return function(){var le=L;L=C;try{return ee.apply(this,arguments)}finally{L=le}}}}(tm)),tm}var n1;function rR(){return n1||(n1=1,em.exports=nR()),em.exports}var im={exports:{}},qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function sR(){if(r1)return qi;r1=1;var n=er();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:h,containerInfo:m,implementation:b}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qi.createPortal=function(h,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,b)},qi.flushSync=function(h){var m=l.T,b=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=m,i.p=b,i.d.f()}},qi.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},qi.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},qi.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var b=m.as,w=d(b,m.crossOrigin),L=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:L,fetchPriority:k}):b==="script"&&i.d.X(h,{crossOrigin:w,integrity:L,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qi.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=d(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},qi.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,w=d(b,m.crossOrigin);i.d.L(h,b,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qi.preloadModule=function(h,m){if(typeof h=="string")if(m){var b=d(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},qi.requestFormReset=function(h){i.d.r(h)},qi.unstable_batchedUpdates=function(h,m){return h(m)},qi.useFormState=function(h,m,b){return l.H.useFormState(h,m,b)},qi.useFormStatus=function(){return l.H.useHostTransitionStatus()},qi.version="19.0.0",qi}var s1;function aR(){if(s1)return im.exports;s1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),im.exports=sR(),im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function oR(){if(a1)return Pl;a1=1;var n=rR(),e=er(),t=aR();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Q=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case h:return"Fragment";case d:return"Portal";case b:return"Profiler";case m:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case k:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case j:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:J(r.type)||"Memo";case H:a=r._payload,r=r._init;try{return J(r(a))}catch{}}return null}var x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=Object.assign,z,W;function U(r){if(z===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||"",W=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+r+W}var Y=!1;function ue(r,a){if(!r||Y)return"";Y=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(Oe){var Te=Oe}Reflect.construct(r,[],Ne)}else{try{Ne.call()}catch(Oe){Te=Oe}r.call(Ne.prototype)}}else{try{throw Error()}catch(Oe){Te=Oe}(Ne=r())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(Oe){if(Oe&&Te&&typeof Oe.stack=="string")return[Oe.stack,Te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),R=y[0],G=y[1];if(R&&G){var ne=R.split(`
`),me=G.split(`
`);for(p=c=0;c<ne.length&&!ne[c].includes("DetermineComponentFrameRoot");)c++;for(;p<me.length&&!me[p].includes("DetermineComponentFrameRoot");)p++;if(c===ne.length||p===me.length)for(c=ne.length-1,p=me.length-1;1<=c&&0<=p&&ne[c]!==me[p];)p--;for(;1<=c&&0<=p;c--,p--)if(ne[c]!==me[p]){if(c!==1||p!==1)do if(c--,p--,0>p||ne[c]!==me[p]){var Re=`
`+ne[c].replace(" at new "," at ");return r.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",r.displayName)),Re}while(1<=c&&0<=p);break}}}finally{Y=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?U(u):""}function ee(r){switch(r.tag){case 26:case 27:case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function C(r){try{var a="";do a+=ee(r),r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function le(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function $(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function T(r){if(le(r)!==r)throw Error(i(188))}function M(r){var a=r.alternate;if(!a){if(a=le(r),a===null)throw Error(i(188));return a!==r?null:r}for(var u=r,c=a;;){var p=u.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){u=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===u)return T(p),r;if(y===c)return T(p),a;y=y.sibling}throw Error(i(188))}if(u.return!==c.return)u=p,c=y;else{for(var R=!1,G=p.child;G;){if(G===u){R=!0,u=p,c=y;break}if(G===c){R=!0,c=p,u=y;break}G=G.sibling}if(!R){for(G=y.child;G;){if(G===u){R=!0,u=y,c=p;break}if(G===c){R=!0,c=y,u=p;break}G=G.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==c)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:a}function se(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=se(r),a!==null)return a;r=r.sibling}return null}var pe=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ee=[],ke=-1;function Be(r){return{current:r}}function Ge(r){0>ke||(r.current=Ee[ke],Ee[ke]=null,ke--)}function Ve(r,a){ke++,Ee[ke]=r.current,r.current=a}var xe=Be(null),re=Be(null),he=Be(null),fe=Be(null);function be(r,a){switch(Ve(he,a),Ve(re,r),Ve(xe,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?AT(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=AT(r),a=DT(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ge(xe),Ve(xe,a)}function Me(){Ge(xe),Ge(re),Ge(he)}function Pe(r){r.memoizedState!==null&&Ve(fe,r);var a=xe.current,u=DT(a,r.type);a!==u&&(Ve(re,r),Ve(xe,u))}function Ie(r){re.current===r&&(Ge(xe),Ge(re)),fe.current===r&&(Ge(fe),Dl._currentValue=ge)}var He=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,ze=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,tt=n.unstable_requestPaint,Qe=n.unstable_now,vt=n.unstable_getCurrentPriorityLevel,St=n.unstable_ImmediatePriority,pt=n.unstable_UserBlockingPriority,Nt=n.unstable_NormalPriority,wt=n.unstable_LowPriority,si=n.unstable_IdlePriority,bi=n.log,lt=n.unstable_setDisableYieldValue,Qt=null,It=null;function Bt(r){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Qt,r,void 0,(r.current.flags&128)===128)}catch{}}function At(r){if(typeof bi=="function"&&lt(r),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Qt,r)}catch{}}var Gt=Math.clz32?Math.clz32:Lr,us=Math.log,ir=Math.LN2;function Lr(r){return r>>>=0,r===0?32:31-(us(r)/ir|0)|0}var Pr=128,B=4194304;function V(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ae(r,a){var u=r.pendingLanes;if(u===0)return 0;var c=0,p=r.suspendedLanes,y=r.pingedLanes,R=r.warmLanes;r=r.finishedLanes!==0;var G=u&134217727;return G!==0?(u=G&~p,u!==0?c=V(u):(y&=G,y!==0?c=V(y):r||(R=G&~R,R!==0&&(c=V(R))))):(G=u&~p,G!==0?c=V(G):y!==0?c=V(y):r||(R=u&~R,R!==0&&(c=V(R)))),c===0?0:a!==0&&a!==c&&(a&p)===0&&(p=c&-c,R=a&-a,p>=R||p===32&&(R&4194176)!==0)?a:c}function Se(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function qe(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var r=Pr;return Pr<<=1,(Pr&4194176)===0&&(Pr=128),r}function Dt(){var r=B;return B<<=1,(B&62914560)===0&&(B=4194304),r}function fi(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function Ri(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Gi(r,a,u,c,p,y){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var G=r.entanglements,ne=r.expirationTimes,me=r.hiddenUpdates;for(u=R&~u;0<u;){var Re=31-Gt(u),Ne=1<<Re;G[Re]=0,ne[Re]=-1;var Te=me[Re];if(Te!==null)for(me[Re]=null,Re=0;Re<Te.length;Re++){var Oe=Te[Re];Oe!==null&&(Oe.lane&=-536870913)}u&=~Ne}c!==0&&Vi(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(R&~a))}function Vi(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-Gt(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|u&4194218}function nn(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var c=31-Gt(u),p=1<<c;p&a|r[c]&a&&(r[c]|=a),u&=~p}}function $i(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Vt(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:$T(r.type))}function rn(r,a){var u=oe.p;try{return oe.p=r,a()}finally{oe.p=u}}var Ti=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ti,ct="__reactProps$"+Ti,sn="__reactContainer$"+Ti,mt="__reactEvents$"+Ti,Qa="__reactListeners$"+Ti,Za="__reactHandles$"+Ti,Ys="__reactResources$"+Ti,Ws="__reactMarker$"+Ti;function Gn(r){delete r[Ut],delete r[ct],delete r[mt],delete r[Qa],delete r[Za]}function xt(r){var a=r[Ut];if(a)return a;for(var u=r.parentNode;u;){if(a=u[sn]||u[Ut]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=kT(r);r!==null;){if(u=r[Ut])return u;r=kT(r)}return a}r=u,u=r.parentNode}return null}function Nr(r){if(r=r[Ut]||r[sn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function nr(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function ls(r){var a=r[Ys];return a||(a=r[Ys]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pi(r){r[Ws]=!0}var xc=new Set,Ru={};function Vn(r,a){rr(r,a),rr(r+"Capture",a)}function rr(r,a){for(Ru[r]=a,r=0;r<a.length;r++)xc.add(a[r])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Qs={};function Ja(r){return He.call(Qs,r)?!0:He.call(Ec,r)?!1:Jh.test(r)?Qs[r]=!0:(Ec[r]=!0,!1)}function Zs(r,a,u){if(Ja(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function sr(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function Ki(r,a,u,c){if(c===null)r.removeAttribute(u);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+c)}}function Si(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function cs(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ef(r){var a=cs(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(R){c=""+R,y.call(this,R)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Js(r){r._valueTracker||(r._valueTracker=ef(r))}function Cc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),c="";return r&&(c=cs(r)?r.checked?"true":"false":r.value),r=c,r!==u?(a.setValue(r),!0):!1}function eo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ar=/[\n"\\]/g;function ki(r){return r.replace(ar,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ku(r,a,u,c,p,y,R,G){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),a!=null?R==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Si(a)):r.value!==""+Si(a)&&(r.value=""+Si(a)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),a!=null?ea(r,R,Si(a)):u!=null?ea(r,R,Si(u)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?r.name=""+Si(G):r.removeAttribute("name")}function to(r,a,u,c,p,y,R,G){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;u=u!=null?""+Si(u):"",a=a!=null?""+Si(a):u,G||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=G?r.checked:!!c,r.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function ea(r,a,u){a==="number"&&eo(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function xi(r,a,u,c){if(r=r.options,a){a={};for(var p=0;p<u.length;p++)a["$"+u[p]]=!0;for(u=0;u<r.length;u++)p=a.hasOwnProperty("$"+r[u].value),r[u].selected!==p&&(r[u].selected=p),p&&c&&(r[u].defaultSelected=!0)}else{for(u=""+Si(u),a=null,p=0;p<r.length;p++){if(r[p].value===u){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function wc(r,a,u){if(a!=null&&(a=""+Si(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+Si(u):""}function ta(r,a,u,c){if(a==null){if(c!=null){if(u!=null)throw Error(i(92));if(pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}u=c}u==null&&(u=""),a=u}u=Si(a),r.defaultValue=u,c=r.textContent,c===u&&c!==""&&c!==null&&(r.value=c)}function Dn(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ir(r,a,u){var c=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,u):typeof u!="number"||u===0||io.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function no(r,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,u!=null){for(var c in u)!u.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&u[p]!==c&&Ir(r,p,c)}else for(var y in a)a.hasOwnProperty(y)&&Ir(r,y,a[y])}function ro(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(r){return tf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Lu=null;function ds(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Br=null,hs=null;function Pu(r){var a=Nr(r);if(a&&(r=a.stateNode)){var u=r[ct]||null;e:switch(r=a.stateNode,a.type){case"input":if(ku(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ki(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var c=u[a];if(c!==r&&c.form===r.form){var p=c[ct]||null;if(!p)throw Error(i(90));ku(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<u.length;a++)c=u[a],c.form===r.form&&Cc(c)}break e;case"textarea":wc(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&xi(r,!!u.multiple,a,!1)}}}var Nu=!1;function Iu(r,a,u){if(Nu)return r(a,u);Nu=!0;try{var c=r(a);return c}finally{if(Nu=!1,(Br!==null||hs!==null)&&(gd(),Br&&(a=Br,r=hs,hs=Br=null,Pu(a),r)))for(a=0;a<r.length;a++)Pu(r[a])}}function ia(r,a){var u=r.stateNode;if(u===null)return null;var c=u[ct]||null;if(c===null)return null;u=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var fs=!1;if(An)try{var or={};Object.defineProperty(or,"passive",{get:function(){fs=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{fs=!1}var $n=null,Bu=null,ao=null;function Uu(){if(ao)return ao;var r,a=Bu,u=a.length,c,p="value"in $n?$n.value:$n.textContent,y=p.length;for(r=0;r<u&&a[r]===p[r];r++);var R=u-r;for(c=1;c<=R&&a[u-c]===p[y-c];c++);return ao=p.slice(r,1<c?1-c:void 0)}function na(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function oo(){return!0}function Fu(){return!1}function Bi(r){function a(u,c,p,y,R){this._reactName=u,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var G in r)r.hasOwnProperty(G)&&(u=r[G],this[G]=u?u(y):y[G]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?oo:Fu,this.isPropagationStopped=Fu,this}return S(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),a}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Bi(Ur),ra=S({},Ur,{view:0,detail:0}),nf=Bi(ra),qu,sa,aa,oa=S({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==aa&&(aa&&r.type==="mousemove"?(qu=r.screenX-aa.screenX,sa=r.screenY-aa.screenY):sa=qu=0,aa=r),qu)},movementY:function(r){return"movementY"in r?r.movementY:sa}}),ua=Bi(oa),rf=S({},oa,{dataTransfer:0}),sf=Bi(rf),af=S({},ra,{relatedTarget:0}),ju=Bi(af),of=S({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=Bi(of),la=S({},Ur,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ca=Bi(la),co=S({},Ur,{data:0}),an=Bi(co),Kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uf(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ac[r])?!!a[r]:!1}function Hu(){return uf}var lf=S({},ra,{key:function(r){if(r.key){var a=Kn[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=na(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ho[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(r){return r.type==="keypress"?na(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?na(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cf=Bi(lf),Dc=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=Bi(Dc),fo=S({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),da=Bi(fo),po=S({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fr=Bi(po),df=S({},oa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oc=Bi(df),Rc=S({},Ur,{newState:0,oldState:0}),kc=Bi(Rc),hf=[9,13,27,32],Gu=An&&"CompositionEvent"in window,ha=null;An&&"documentMode"in document&&(ha=document.documentMode);var mo=An&&"TextEvent"in window&&!ha,Mc=An&&(!Gu||ha&&8<ha&&11>=ha),Vu=" ",Lc=!1;function Pc(r,a){switch(r){case"keyup":return hf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ur=!1;function ff(r,a){switch(r){case"compositionend":return $u(a);case"keypress":return a.which!==32?null:(Lc=!0,Vu);case"textInput":return r=a.data,r===Vu&&Lc?null:r;default:return null}}function pf(r,a){if(ur)return r==="compositionend"||!Gu&&Pc(r,a)?(r=Uu(),ao=Bu=$n=null,ur=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mc&&a.locale!=="ko"?null:a.data;default:return null}}var mf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!mf[r.type]:a==="textarea"}function Nc(r,a,u,c){Br?hs?hs.push(c):hs=[c]:Br=c,a=Td(a,"onChange"),0<a.length&&(u=new uo("onChange","change",null,u,c),r.push({event:u,listeners:a}))}var ps=null,fa=null;function gf(r){ST(r,0)}function pa(r){var a=nr(r);if(Cc(a))return r}function Ic(r,a){if(r==="change")return a}var Ku=!1;if(An){var yo;if(An){var vo="oninput"in document;if(!vo){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),vo=typeof Bc.oninput=="function"}yo=vo}else yo=!1;Ku=yo&&(!document.documentMode||9<document.documentMode)}function Uc(){ps&&(ps.detachEvent("onpropertychange",ma),fa=ps=null)}function ma(r){if(r.propertyName==="value"&&pa(fa)){var a=[];Nc(a,fa,r,ds(r)),Iu(gf,a)}}function yf(r,a,u){r==="focusin"?(Uc(),ps=a,fa=u,ps.attachEvent("onpropertychange",ma)):r==="focusout"&&Uc()}function vf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pa(fa)}function _f(r,a){if(r==="click")return pa(a)}function bf(r,a){if(r==="input"||r==="change")return pa(a)}function Fc(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Xi=typeof Object.is=="function"?Object.is:Fc;function Xn(r,a){if(Xi(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),c=Object.keys(a);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var p=u[c];if(!He.call(a,p)||!Xi(r[p],a[p]))return!1}return!0}function Xu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ga(r,a){var u=Xu(r);r=0;for(var c;u;){if(u.nodeType===3){if(c=r+u.textContent.length,r<=a&&c>=a)return{node:u,offset:a-r};r=c}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Xu(u)}}function ms(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?ms(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Kt(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=eo(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=eo(r.document)}return a}function lr(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Yu(r,a){var u=Kt(a);a=r.focusedElem;var c=r.selectionRange;if(u!==a&&a&&a.ownerDocument&&ms(a.ownerDocument.documentElement,a)){if(c!==null&&lr(a)){if(r=c.start,u=c.end,u===void 0&&(u=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(u,a.value.length);else if(u=(r=a.ownerDocument||document)&&r.defaultView||window,u.getSelection){u=u.getSelection();var p=a.textContent.length,y=Math.min(c.start,p);c=c.end===void 0?y:Math.min(c.end,p),!u.extend&&y>c&&(p=c,c=y,y=p),p=ga(a,y);var R=ga(a,c);p&&R&&(u.rangeCount!==1||u.anchorNode!==p.node||u.anchorOffset!==p.offset||u.focusNode!==R.node||u.focusOffset!==R.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),u.removeAllRanges(),y>c?(u.addRange(r),u.extend(R.node,R.offset)):(r.setEnd(R.node,R.offset),u.addRange(r)))}}for(r=[],u=a;u=u.parentNode;)u.nodeType===1&&r.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)u=r[a],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Tf=An&&"documentMode"in document&&11>=document.documentMode,gs=null,Wu=null,ya=null,_o=!1;function Qu(r,a,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_o||gs==null||gs!==eo(c)||(c=gs,"selectionStart"in c&&lr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ya&&Xn(ya,c)||(ya=c,c=Td(Wu,"onSelect"),0<c.length&&(a=new uo("onSelect","select",null,a,u),r.push({event:a,listeners:c}),a.target=gs)))}function cr(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var qr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},bo={},To={};An&&(To=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function dr(r){if(bo[r])return bo[r];if(!qr[r])return r;var a=qr[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in To)return bo[r]=a[u];return r}var So=dr("animationend"),qc=dr("animationiteration"),ys=dr("animationstart"),Sf=dr("transitionrun"),jc=dr("transitionstart"),Hc=dr("transitioncancel"),zc=dr("transitionend"),Gc=new Map,Zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function mn(r,a){Gc.set(r,a),Vn(a,[r])}var on=[],hr=0,Ju=0;function xo(){for(var r=hr,a=Ju=hr=0;a<r;){var u=on[a];on[a++]=null;var c=on[a];on[a++]=null;var p=on[a];on[a++]=null;var y=on[a];if(on[a++]=null,c!==null&&p!==null){var R=c.pending;R===null?p.next=p:(p.next=R.next,R.next=p),c.pending=p}y!==0&&Vc(u,p,y)}}function Eo(r,a,u,c){on[hr++]=r,on[hr++]=a,on[hr++]=u,on[hr++]=c,Ju|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function el(r,a,u,c){return Eo(r,a,u,c),Co(r)}function fr(r,a){return Eo(r,null,null,a),Co(r)}function Vc(r,a,u){r.lanes|=u;var c=r.alternate;c!==null&&(c.lanes|=u);for(var p=!1,y=r.return;y!==null;)y.childLanes|=u,c=y.alternate,c!==null&&(c.childLanes|=u),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;p&&a!==null&&r.tag===3&&(y=r.stateNode,p=31-Gt(u),y=y.hiddenUpdates,r=y[p],r===null?y[p]=[a]:r.push(a),a.lane=u|536870912)}function Co(r){if(50<Tl)throw Tl=0,Tp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var vs={},$c=new WeakMap;function un(r,a){if(typeof r=="object"&&r!==null){var u=$c.get(r);return u!==void 0?u:(a={value:r,source:a,stack:C(a)},$c.set(r,a),a)}return{value:r,source:a,stack:C(a)}}var _s=[],Yi=0,wo=null,Ao=0,ln=[],gn=0,pr=null,yn=1,On="";function Rn(r,a){_s[Yi++]=Ao,_s[Yi++]=wo,wo=r,Ao=a}function va(r,a,u){ln[gn++]=yn,ln[gn++]=On,ln[gn++]=pr,pr=r;var c=yn;r=On;var p=32-Gt(c)-1;c&=~(1<<p),u+=1;var y=32-Gt(a)+p;if(30<y){var R=p-p%5;y=(c&(1<<R)-1).toString(32),c>>=R,p-=R,yn=1<<32-Gt(a)+p|u<<p|c,On=y+r}else yn=1<<y|u<<p|c,On=r}function tl(r){r.return!==null&&(Rn(r,1),va(r,1,0))}function il(r){for(;r===wo;)wo=_s[--Yi],_s[Yi]=null,Ao=_s[--Yi],_s[Yi]=null;for(;r===pr;)pr=ln[--gn],ln[gn]=null,On=ln[--gn],ln[gn]=null,yn=ln[--gn],ln[gn]=null}var Mi=null,_i=null,bt=!1,Wi=null,kn=!1,nl=Error(i(519));function mr(r){var a=Error(i(418,""));throw Ui(un(a,r)),nl}function jr(r){var a=r.stateNode,u=r.type,c=r.memoizedProps;switch(a[Ut]=r,a[ct]=c,u){case"dialog":_t("cancel",a),_t("close",a);break;case"iframe":case"object":case"embed":_t("load",a);break;case"video":case"audio":for(u=0;u<xl.length;u++)_t(xl[u],a);break;case"source":_t("error",a);break;case"img":case"image":case"link":_t("error",a),_t("load",a);break;case"details":_t("toggle",a);break;case"input":_t("invalid",a),to(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Js(a);break;case"select":_t("invalid",a);break;case"textarea":_t("invalid",a),ta(a,c.value,c.defaultValue,c.children),Js(a)}u=c.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||c.suppressHydrationWarning===!0||wT(a.textContent,u)?(c.popover!=null&&(_t("beforetoggle",a),_t("toggle",a)),c.onScroll!=null&&_t("scroll",a),c.onScrollEnd!=null&&_t("scrollend",a),c.onClick!=null&&(a.onclick=Sd),a=!0):a=!1,a||mr(r)}function Et(r){for(Mi=r.return;Mi;)switch(Mi.tag){case 3:case 27:kn=!0;return;case 5:case 13:kn=!1;return;default:Mi=Mi.return}}function vn(r){if(r!==Mi)return!1;if(!bt)return Et(r),bt=!0,!1;var a=!1,u;if((u=r.tag!==3&&r.tag!==27)&&((u=r.tag===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Up(r.type,r.memoizedProps)),u=!u),u&&(a=!0),a&&_i&&mr(r),Et(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(a===0){_i=Qn(r.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;r=r.nextSibling}_i=null}}else _i=Mi?Qn(r.stateNode.nextSibling):null;return!0}function ci(){_i=Mi=null,bt=!1}function Ui(r){Wi===null?Wi=[r]:Wi.push(r)}var _a=Error(i(460)),rl=Error(i(474)),sl={then:function(){}};function Kc(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Do(){}function Xc(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(Do,Do),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===_a?Error(i(483)):r;default:if(typeof a.status=="string")a.then(Do,Do);else{if(r=jt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===_a?Error(i(483)):r}throw ba=a,_a}}var ba=null;function Yc(){if(ba===null)throw Error(i(459));var r=ba;return ba=null,r}var bs=null,Ts=0;function f(r){var a=Ts;return Ts+=1,bs===null&&(bs=[]),Xc(bs,r,a)}function g(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function _(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function v(r){var a=r._init;return a(r._payload)}function E(r){function a(ye,de){if(r){var _e=ye.deletions;_e===null?(ye.deletions=[de],ye.flags|=16):_e.push(de)}}function u(ye,de){if(!r)return null;for(;de!==null;)a(ye,de),de=de.sibling;return null}function c(ye){for(var de=new Map;ye!==null;)ye.key!==null?de.set(ye.key,ye):de.set(ye.index,ye),ye=ye.sibling;return de}function p(ye,de){return ye=ks(ye,de),ye.index=0,ye.sibling=null,ye}function y(ye,de,_e){return ye.index=_e,r?(_e=ye.alternate,_e!==null?(_e=_e.index,_e<de?(ye.flags|=33554434,de):_e):(ye.flags|=33554434,de)):(ye.flags|=1048576,de)}function R(ye){return r&&ye.alternate===null&&(ye.flags|=33554434),ye}function G(ye,de,_e,Le){return de===null||de.tag!==6?(de=fp(_e,ye.mode,Le),de.return=ye,de):(de=p(de,_e),de.return=ye,de)}function ne(ye,de,_e,Le){var We=_e.type;return We===h?Re(ye,de,_e.props.children,Le,_e.key):de!==null&&(de.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&v(We)===de.type)?(de=p(de,_e.props),g(de,_e),de.return=ye,de):(de=dd(_e.type,_e.key,_e.props,null,ye.mode,Le),g(de,_e),de.return=ye,de)}function me(ye,de,_e,Le){return de===null||de.tag!==4||de.stateNode.containerInfo!==_e.containerInfo||de.stateNode.implementation!==_e.implementation?(de=pp(_e,ye.mode,Le),de.return=ye,de):(de=p(de,_e.children||[]),de.return=ye,de)}function Re(ye,de,_e,Le,We){return de===null||de.tag!==7?(de=Ma(_e,ye.mode,Le,We),de.return=ye,de):(de=p(de,_e),de.return=ye,de)}function Ne(ye,de,_e){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=fp(""+de,ye.mode,_e),de.return=ye,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return _e=dd(de.type,de.key,de.props,null,ye.mode,_e),g(_e,de),_e.return=ye,_e;case d:return de=pp(de,ye.mode,_e),de.return=ye,de;case H:var Le=de._init;return de=Le(de._payload),Ne(ye,de,_e)}if(pe(de)||N(de))return de=Ma(de,ye.mode,_e,null),de.return=ye,de;if(typeof de.then=="function")return Ne(ye,f(de),_e);if(de.$$typeof===k)return Ne(ye,ud(ye,de),_e);_(ye,de)}return null}function Te(ye,de,_e,Le){var We=de!==null?de.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return We!==null?null:G(ye,de,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===We?ne(ye,de,_e,Le):null;case d:return _e.key===We?me(ye,de,_e,Le):null;case H:return We=_e._init,_e=We(_e._payload),Te(ye,de,_e,Le)}if(pe(_e)||N(_e))return We!==null?null:Re(ye,de,_e,Le,null);if(typeof _e.then=="function")return Te(ye,de,f(_e),Le);if(_e.$$typeof===k)return Te(ye,de,ud(ye,_e),Le);_(ye,_e)}return null}function Oe(ye,de,_e,Le,We){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ye=ye.get(_e)||null,G(de,ye,""+Le,We);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case l:return ye=ye.get(Le.key===null?_e:Le.key)||null,ne(de,ye,Le,We);case d:return ye=ye.get(Le.key===null?_e:Le.key)||null,me(de,ye,Le,We);case H:var gt=Le._init;return Le=gt(Le._payload),Oe(ye,de,_e,Le,We)}if(pe(Le)||N(Le))return ye=ye.get(_e)||null,Re(de,ye,Le,We,null);if(typeof Le.then=="function")return Oe(ye,de,_e,f(Le),We);if(Le.$$typeof===k)return Oe(ye,de,_e,ud(de,Le),We);_(de,Le)}return null}function Je(ye,de,_e,Le){for(var We=null,gt=null,et=de,rt=de=0,wi=null;et!==null&&rt<_e.length;rt++){et.index>rt?(wi=et,et=null):wi=et.sibling;var Ct=Te(ye,et,_e[rt],Le);if(Ct===null){et===null&&(et=wi);break}r&&et&&Ct.alternate===null&&a(ye,et),de=y(Ct,de,rt),gt===null?We=Ct:gt.sibling=Ct,gt=Ct,et=wi}if(rt===_e.length)return u(ye,et),bt&&Rn(ye,rt),We;if(et===null){for(;rt<_e.length;rt++)et=Ne(ye,_e[rt],Le),et!==null&&(de=y(et,de,rt),gt===null?We=et:gt.sibling=et,gt=et);return bt&&Rn(ye,rt),We}for(et=c(et);rt<_e.length;rt++)wi=Oe(et,ye,rt,_e[rt],Le),wi!==null&&(r&&wi.alternate!==null&&et.delete(wi.key===null?rt:wi.key),de=y(wi,de,rt),gt===null?We=wi:gt.sibling=wi,gt=wi);return r&&et.forEach(function(Us){return a(ye,Us)}),bt&&Rn(ye,rt),We}function ot(ye,de,_e,Le){if(_e==null)throw Error(i(151));for(var We=null,gt=null,et=de,rt=de=0,wi=null,Ct=_e.next();et!==null&&!Ct.done;rt++,Ct=_e.next()){et.index>rt?(wi=et,et=null):wi=et.sibling;var Us=Te(ye,et,Ct.value,Le);if(Us===null){et===null&&(et=wi);break}r&&et&&Us.alternate===null&&a(ye,et),de=y(Us,de,rt),gt===null?We=Us:gt.sibling=Us,gt=Us,et=wi}if(Ct.done)return u(ye,et),bt&&Rn(ye,rt),We;if(et===null){for(;!Ct.done;rt++,Ct=_e.next())Ct=Ne(ye,Ct.value,Le),Ct!==null&&(de=y(Ct,de,rt),gt===null?We=Ct:gt.sibling=Ct,gt=Ct);return bt&&Rn(ye,rt),We}for(et=c(et);!Ct.done;rt++,Ct=_e.next())Ct=Oe(et,ye,rt,Ct.value,Le),Ct!==null&&(r&&Ct.alternate!==null&&et.delete(Ct.key===null?rt:Ct.key),de=y(Ct,de,rt),gt===null?We=Ct:gt.sibling=Ct,gt=Ct);return r&&et.forEach(function(JO){return a(ye,JO)}),bt&&Rn(ye,rt),We}function ui(ye,de,_e,Le){if(typeof _e=="object"&&_e!==null&&_e.type===h&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var We=_e.key;de!==null;){if(de.key===We){if(We=_e.type,We===h){if(de.tag===7){u(ye,de.sibling),Le=p(de,_e.props.children),Le.return=ye,ye=Le;break e}}else if(de.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&v(We)===de.type){u(ye,de.sibling),Le=p(de,_e.props),g(Le,_e),Le.return=ye,ye=Le;break e}u(ye,de);break}else a(ye,de);de=de.sibling}_e.type===h?(Le=Ma(_e.props.children,ye.mode,Le,_e.key),Le.return=ye,ye=Le):(Le=dd(_e.type,_e.key,_e.props,null,ye.mode,Le),g(Le,_e),Le.return=ye,ye=Le)}return R(ye);case d:e:{for(We=_e.key;de!==null;){if(de.key===We)if(de.tag===4&&de.stateNode.containerInfo===_e.containerInfo&&de.stateNode.implementation===_e.implementation){u(ye,de.sibling),Le=p(de,_e.children||[]),Le.return=ye,ye=Le;break e}else{u(ye,de);break}else a(ye,de);de=de.sibling}Le=pp(_e,ye.mode,Le),Le.return=ye,ye=Le}return R(ye);case H:return We=_e._init,_e=We(_e._payload),ui(ye,de,_e,Le)}if(pe(_e))return Je(ye,de,_e,Le);if(N(_e)){if(We=N(_e),typeof We!="function")throw Error(i(150));return _e=We.call(_e),ot(ye,de,_e,Le)}if(typeof _e.then=="function")return ui(ye,de,f(_e),Le);if(_e.$$typeof===k)return ui(ye,de,ud(ye,_e),Le);_(ye,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,de!==null&&de.tag===6?(u(ye,de.sibling),Le=p(de,_e),Le.return=ye,ye=Le):(u(ye,de),Le=fp(_e,ye.mode,Le),Le.return=ye,ye=Le),R(ye)):u(ye,de)}return function(ye,de,_e,Le){try{Ts=0;var We=ui(ye,de,_e,Le);return bs=null,We}catch(et){if(et===_a)throw et;var gt=Pn(29,et,null,ye.mode);return gt.lanes=Le,gt.return=ye,gt}finally{}}}var D=E(!0),K=E(!1),X=Be(null),Z=Be(0);function ie(r,a){r=Qr,Ve(Z,r),Ve(X,a),Qr=r|a.baseLanes}function ce(){Ve(Z,Qr),Ve(X,X.current)}function Ce(){Qr=Z.current,Ge(X),Ge(Z)}var Ue=Be(null),we=null;function Ze(r){var a=r.alternate;Ve(kt,kt.current&1),Ve(Ue,r),we===null&&(a===null||X.current!==null||a.memoizedState!==null)&&(we=r)}function at(r){if(r.tag===22){if(Ve(kt,kt.current),Ve(Ue,r),we===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(we=r)}}else Ft()}function Ft(){Ve(kt,kt.current),Ve(Ue,Ue.current)}function Zt(r){Ge(Ue),we===r&&(we=null),Ge(kt)}var kt=Be(0);function gr(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ta=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},Sa=n.unstable_scheduleCallback,xa=n.unstable_NormalPriority,Xt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rt(){return{controller:new Ta,data:new Map,refCount:0}}function Yn(r){r.refCount--,r.refCount===0&&Sa(xa,function(){r.controller.abort()})}var Li=null,xf=0,Oo=0,Ro=null;function zD(r,a){if(Li===null){var u=Li=[];xf=0,Oo=Op(),Ro={status:"pending",value:void 0,then:function(c){u.push(c)}}}return xf++,a.then(D_,D_),a}function D_(){if(--xf===0&&Li!==null){Ro!==null&&(Ro.status="fulfilled");var r=Li;Li=null,Oo=0,Ro=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function GD(r,a){var u=[],c={status:"pending",value:null,reason:null,then:function(p){u.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<u.length;p++)(0,u[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<u.length;p++)(0,u[p])(void 0)}),c}var O_=x.S;x.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&zD(r,a),O_!==null&&O_(r,a)};var Ea=Be(null);function Ef(){var r=Ea.current;return r!==null?r:jt.pooledCache}function Wc(r,a){a===null?Ve(Ea,Ea.current):Ve(Ea,a.pool)}function R_(){var r=Ef();return r===null?null:{parent:Xt._currentValue,pool:r}}var Ss=0,ht=null,Mt=null,mi=null,Qc=!1,ko=!1,Ca=!1,Zc=0,al=0,Mo=null,VD=0;function di(){throw Error(i(321))}function Cf(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!Xi(r[u],a[u]))return!1;return!0}function wf(r,a,u,c,p,y){return Ss=y,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,x.H=r===null||r.memoizedState===null?wa:xs,Ca=!1,y=u(c,p),Ca=!1,ko&&(y=M_(a,u,c,p)),k_(r),y}function k_(r){x.H=yr;var a=Mt!==null&&Mt.next!==null;if(Ss=0,mi=Mt=ht=null,Qc=!1,al=0,Mo=null,a)throw Error(i(300));r===null||Ei||(r=r.dependencies,r!==null&&od(r)&&(Ei=!0))}function M_(r,a,u,c){ht=r;var p=0;do{if(ko&&(Mo=null),al=0,ko=!1,25<=p)throw Error(i(301));if(p+=1,mi=Mt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}x.H=Aa,y=a(u,c)}while(ko);return y}function $D(){var r=x.H,a=r.useState()[0];return a=typeof a.then=="function"?ol(a):a,r=r.useState()[0],(Mt!==null?Mt.memoizedState:null)!==r&&(ht.flags|=1024),a}function Af(){var r=Zc!==0;return Zc=0,r}function Df(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function Of(r){if(Qc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Qc=!1}Ss=0,mi=Mt=ht=null,ko=!1,al=Zc=0,Mo=null}function cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?ht.memoizedState=mi=r:mi=mi.next=r,mi}function gi(){if(Mt===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var a=mi===null?ht.memoizedState:mi.next;if(a!==null)mi=a,Mt=r;else{if(r===null)throw ht.alternate===null?Error(i(467)):Error(i(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},mi===null?ht.memoizedState=mi=r:mi=mi.next=r}return mi}var Jc;Jc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ol(r){var a=al;return al+=1,Mo===null&&(Mo=[]),r=Xc(Mo,r,a),a=ht,(mi===null?a.memoizedState:mi.next)===null&&(a=a.alternate,x.H=a===null||a.memoizedState===null?wa:xs),r}function ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ol(r);if(r.$$typeof===k)return Fi(r)}throw Error(i(438,String(r)))}function Rf(r){var a=null,u=ht.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var c=ht.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Jc(),ht.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),c=0;c<r;c++)u[c]=Q;return a.index++,u}function Hr(r,a){return typeof a=="function"?a(r):a}function td(r){var a=gi();return kf(a,Mt,r)}function kf(r,a,u){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=u;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var R=p.next;p.next=y.next,y.next=R}a.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var G=R=null,ne=null,me=a,Re=!1;do{var Ne=me.lane&-536870913;if(Ne!==me.lane?(Tt&Ne)===Ne:(Ss&Ne)===Ne){var Te=me.revertLane;if(Te===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Ne===Oo&&(Re=!0);else if((Ss&Te)===Te){me=me.next,Te===Oo&&(Re=!0);continue}else Ne={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(G=ne=Ne,R=y):ne=ne.next=Ne,ht.lanes|=Te,Ms|=Te;Ne=me.action,Ca&&u(y,Ne),y=me.hasEagerState?me.eagerState:u(y,Ne)}else Te={lane:Ne,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ne===null?(G=ne=Te,R=y):ne=ne.next=Te,ht.lanes|=Ne,Ms|=Ne;me=me.next}while(me!==null&&me!==a);if(ne===null?R=y:ne.next=G,!Xi(y,r.memoizedState)&&(Ei=!0,Re&&(u=Ro,u!==null)))throw u;r.memoizedState=y,r.baseState=R,r.baseQueue=ne,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Mf(r){var a=gi(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var c=u.dispatch,p=u.pending,y=a.memoizedState;if(p!==null){u.pending=null;var R=p=p.next;do y=r(y,R.action),R=R.next;while(R!==p);Xi(y,a.memoizedState)||(Ei=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,c]}function L_(r,a,u){var c=ht,p=gi(),y=bt;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=a();var R=!Xi((Mt||p).memoizedState,u);if(R&&(p.memoizedState=u,Ei=!0),p=p.queue,Nf(I_.bind(null,c,p,r),[r]),p.getSnapshot!==a||R||mi!==null&&mi.memoizedState.tag&1){if(c.flags|=2048,Lo(9,N_.bind(null,c,p,u,a),{destroy:void 0},null),jt===null)throw Error(i(349));y||(Ss&60)!==0||P_(c,a,u)}return u}function P_(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=ht.updateQueue,a===null?(a=Jc(),ht.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function N_(r,a,u,c){a.value=u,a.getSnapshot=c,B_(a)&&U_(r)}function I_(r,a,u){return u(function(){B_(a)&&U_(r)})}function B_(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!Xi(r,u)}catch{return!0}}function U_(r){var a=fr(r,2);a!==null&&Qi(a,r,2)}function Lf(r){var a=cn();if(typeof r=="function"){var u=r;if(r=u(),Ca){At(!0);try{u()}finally{At(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:r},a}function F_(r,a,u,c){return r.baseState=u,kf(r,Mt,typeof c=="function"?c:Hr)}function KD(r,a,u,c,p){if(rd(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};x.T!==null?u(!0):y.isTransition=!1,c(y),u=a.pending,u===null?(y.next=a.pending=y,q_(a,y)):(y.next=u.next,a.pending=u.next=y)}}function q_(r,a){var u=a.action,c=a.payload,p=r.state;if(a.isTransition){var y=x.T,R={};x.T=R;try{var G=u(p,c),ne=x.S;ne!==null&&ne(R,G),j_(r,a,G)}catch(me){Pf(r,a,me)}finally{x.T=y}}else try{y=u(p,c),j_(r,a,y)}catch(me){Pf(r,a,me)}}function j_(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(c){H_(r,a,c)},function(c){return Pf(r,a,c)}):H_(r,a,u)}function H_(r,a,u){a.status="fulfilled",a.value=u,z_(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,q_(r,u)))}function Pf(r,a,u){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=u,z_(a),a=a.next;while(a!==c)}r.action=null}function z_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function G_(r,a){return a}function V_(r,a){if(bt){var u=jt.formState;if(u!==null){e:{var c=ht;if(bt){if(_i){t:{for(var p=_i,y=kn;p.nodeType!==8;){if(!y){p=null;break t}if(p=Qn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){_i=Qn(p.nextSibling),c=p.data==="F!";break e}}mr(c)}c=!1}c&&(a=u[0])}}return u=cn(),u.memoizedState=u.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:a},u.queue=c,u=lb.bind(null,ht,c),c.dispatch=u,c=Lf(!1),y=qf.bind(null,ht,!1,c.queue),c=cn(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,u=KD.bind(null,ht,p,y,u),p.dispatch=u,c.memoizedState=r,[a,u,!1]}function $_(r){var a=gi();return K_(a,Mt,r)}function K_(r,a,u){a=kf(r,a,G_)[0],r=td(Hr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?ol(a):a;var c=gi(),p=c.queue,y=p.dispatch;return u!==c.memoizedState&&(ht.flags|=2048,Lo(9,XD.bind(null,p,u),{destroy:void 0},null)),[a,y,r]}function XD(r,a){r.action=a}function X_(r){var a=gi(),u=Mt;if(u!==null)return K_(a,u,r);gi(),a=a.memoizedState,u=gi();var c=u.queue.dispatch;return u.memoizedState=r,[a,c,!1]}function Lo(r,a,u,c){return r={tag:r,create:a,inst:u,deps:c,next:null},a=ht.updateQueue,a===null&&(a=Jc(),ht.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(c=u.next,u.next=r,r.next=c,a.lastEffect=r),r}function Y_(){return gi().memoizedState}function id(r,a,u,c){var p=cn();ht.flags|=r,p.memoizedState=Lo(1|a,u,{destroy:void 0},c===void 0?null:c)}function nd(r,a,u,c){var p=gi();c=c===void 0?null:c;var y=p.memoizedState.inst;Mt!==null&&c!==null&&Cf(c,Mt.memoizedState.deps)?p.memoizedState=Lo(a,u,y,c):(ht.flags|=r,p.memoizedState=Lo(1|a,u,y,c))}function W_(r,a){id(8390656,8,r,a)}function Nf(r,a){nd(2048,8,r,a)}function Q_(r,a){return nd(4,2,r,a)}function Z_(r,a){return nd(4,4,r,a)}function J_(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function eb(r,a,u){u=u!=null?u.concat([r]):null,nd(4,4,J_.bind(null,a,r),u)}function If(){}function tb(r,a){var u=gi();a=a===void 0?null:a;var c=u.memoizedState;return a!==null&&Cf(a,c[1])?c[0]:(u.memoizedState=[r,a],r)}function ib(r,a){var u=gi();a=a===void 0?null:a;var c=u.memoizedState;if(a!==null&&Cf(a,c[1]))return c[0];if(c=r(),Ca){At(!0);try{r()}finally{At(!1)}}return u.memoizedState=[c,a],c}function Bf(r,a,u){return u===void 0||(Ss&1073741824)!==0?r.memoizedState=a:(r.memoizedState=u,r=rT(),ht.lanes|=r,Ms|=r,u)}function nb(r,a,u,c){return Xi(u,a)?u:X.current!==null?(r=Bf(r,u,c),Xi(r,a)||(Ei=!0),r):(Ss&42)===0?(Ei=!0,r.memoizedState=u):(r=rT(),ht.lanes|=r,Ms|=r,a)}function rb(r,a,u,c,p){var y=oe.p;oe.p=y!==0&&8>y?y:8;var R=x.T,G={};x.T=G,qf(r,!1,a,u);try{var ne=p(),me=x.S;if(me!==null&&me(G,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Re=GD(ne,c);ul(r,a,Re,Sn(r))}else ul(r,a,c,Sn(r))}catch(Ne){ul(r,a,{then:function(){},status:"rejected",reason:Ne},Sn())}finally{oe.p=y,x.T=R}}function YD(){}function Uf(r,a,u,c){if(r.tag!==5)throw Error(i(476));var p=sb(r).queue;rb(r,p,a,ge,u===null?YD:function(){return ab(r),u(c)})}function sb(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:ge},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function ab(r){var a=sb(r).next.queue;ul(r,a,{},Sn())}function Ff(){return Fi(Dl)}function ob(){return gi().memoizedState}function ub(){return gi().memoizedState}function WD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=Sn();r=ws(u);var c=As(a,r,u);c!==null&&(Qi(c,a,u),dl(c,a,u)),a={cache:Rt()},r.payload=a;return}a=a.return}}function QD(r,a,u){var c=Sn();u={lane:c,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},rd(r)?cb(a,u):(u=el(r,a,u,c),u!==null&&(Qi(u,r,c),db(u,a,c)))}function lb(r,a,u){var c=Sn();ul(r,a,u,c)}function ul(r,a,u,c){var p={lane:c,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(rd(r))cb(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,G=y(R,u);if(p.hasEagerState=!0,p.eagerState=G,Xi(G,R))return Eo(r,a,p,0),jt===null&&xo(),!1}catch{}finally{}if(u=el(r,a,p,c),u!==null)return Qi(u,r,c),db(u,a,c),!0}return!1}function qf(r,a,u,c){if(c={lane:2,revertLane:Op(),action:c,hasEagerState:!1,eagerState:null,next:null},rd(r)){if(a)throw Error(i(479))}else a=el(r,u,c,2),a!==null&&Qi(a,r,2)}function rd(r){var a=r.alternate;return r===ht||a!==null&&a===ht}function cb(r,a){ko=Qc=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function db(r,a,u){if((u&4194176)!==0){var c=a.lanes;c&=r.pendingLanes,u|=c,a.lanes=u,nn(r,u)}}var yr={readContext:Fi,use:ed,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useLayoutEffect:di,useInsertionEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useSyncExternalStore:di,useId:di};yr.useCacheRefresh=di,yr.useMemoCache=di,yr.useHostTransitionStatus=di,yr.useFormState=di,yr.useActionState=di,yr.useOptimistic=di;var wa={readContext:Fi,use:ed,useCallback:function(r,a){return cn().memoizedState=[r,a===void 0?null:a],r},useContext:Fi,useEffect:W_,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,id(4194308,4,J_.bind(null,a,r),u)},useLayoutEffect:function(r,a){return id(4194308,4,r,a)},useInsertionEffect:function(r,a){id(4,2,r,a)},useMemo:function(r,a){var u=cn();a=a===void 0?null:a;var c=r();if(Ca){At(!0);try{r()}finally{At(!1)}}return u.memoizedState=[c,a],c},useReducer:function(r,a,u){var c=cn();if(u!==void 0){var p=u(a);if(Ca){At(!0);try{u(a)}finally{At(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=QD.bind(null,ht,r),[c.memoizedState,r]},useRef:function(r){var a=cn();return r={current:r},a.memoizedState=r},useState:function(r){r=Lf(r);var a=r.queue,u=lb.bind(null,ht,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:If,useDeferredValue:function(r,a){var u=cn();return Bf(u,r,a)},useTransition:function(){var r=Lf(!1);return r=rb.bind(null,ht,r.queue,!0,!1),cn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var c=ht,p=cn();if(bt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),jt===null)throw Error(i(349));(Tt&60)!==0||P_(c,a,u)}p.memoizedState=u;var y={value:u,getSnapshot:a};return p.queue=y,W_(I_.bind(null,c,y,r),[r]),c.flags|=2048,Lo(9,N_.bind(null,c,y,u,a),{destroy:void 0},null),u},useId:function(){var r=cn(),a=jt.identifierPrefix;if(bt){var u=On,c=yn;u=(c&~(1<<32-Gt(c)-1)).toString(32)+u,a=":"+a+"R"+u,u=Zc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=VD++,a=":"+a+"r"+u.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return cn().memoizedState=WD.bind(null,ht)}};wa.useMemoCache=Rf,wa.useHostTransitionStatus=Ff,wa.useFormState=V_,wa.useActionState=V_,wa.useOptimistic=function(r){var a=cn();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=qf.bind(null,ht,!0,u),u.dispatch=a,[r,a]};var xs={readContext:Fi,use:ed,useCallback:tb,useContext:Fi,useEffect:Nf,useImperativeHandle:eb,useInsertionEffect:Q_,useLayoutEffect:Z_,useMemo:ib,useReducer:td,useRef:Y_,useState:function(){return td(Hr)},useDebugValue:If,useDeferredValue:function(r,a){var u=gi();return nb(u,Mt.memoizedState,r,a)},useTransition:function(){var r=td(Hr)[0],a=gi().memoizedState;return[typeof r=="boolean"?r:ol(r),a]},useSyncExternalStore:L_,useId:ob};xs.useCacheRefresh=ub,xs.useMemoCache=Rf,xs.useHostTransitionStatus=Ff,xs.useFormState=$_,xs.useActionState=$_,xs.useOptimistic=function(r,a){var u=gi();return F_(u,Mt,r,a)};var Aa={readContext:Fi,use:ed,useCallback:tb,useContext:Fi,useEffect:Nf,useImperativeHandle:eb,useInsertionEffect:Q_,useLayoutEffect:Z_,useMemo:ib,useReducer:Mf,useRef:Y_,useState:function(){return Mf(Hr)},useDebugValue:If,useDeferredValue:function(r,a){var u=gi();return Mt===null?Bf(u,r,a):nb(u,Mt.memoizedState,r,a)},useTransition:function(){var r=Mf(Hr)[0],a=gi().memoizedState;return[typeof r=="boolean"?r:ol(r),a]},useSyncExternalStore:L_,useId:ob};Aa.useCacheRefresh=ub,Aa.useMemoCache=Rf,Aa.useHostTransitionStatus=Ff,Aa.useFormState=X_,Aa.useActionState=X_,Aa.useOptimistic=function(r,a){var u=gi();return Mt!==null?F_(u,Mt,r,a):(u.baseState=r,[r,u.queue.dispatch])};function jf(r,a,u,c){a=r.memoizedState,u=u(c,a),u=u==null?a:S({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Hf={isMounted:function(r){return(r=r._reactInternals)?le(r)===r:!1},enqueueSetState:function(r,a,u){r=r._reactInternals;var c=Sn(),p=ws(c);p.payload=a,u!=null&&(p.callback=u),a=As(r,p,c),a!==null&&(Qi(a,r,c),dl(a,r,c))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var c=Sn(),p=ws(c);p.tag=1,p.payload=a,u!=null&&(p.callback=u),a=As(r,p,c),a!==null&&(Qi(a,r,c),dl(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=Sn(),c=ws(u);c.tag=2,a!=null&&(c.callback=a),a=As(r,c,u),a!==null&&(Qi(a,r,u),dl(a,r,u))}};function hb(r,a,u,c,p,y,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,R):a.prototype&&a.prototype.isPureReactComponent?!Xn(u,c)||!Xn(p,y):!0}function fb(r,a,u,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,c),a.state!==r&&Hf.enqueueReplaceState(a,a.state,null)}function Da(r,a){var u=a;if("ref"in a){u={};for(var c in a)c!=="ref"&&(u[c]=a[c])}if(r=r.defaultProps){u===a&&(u=S({},u));for(var p in r)u[p]===void 0&&(u[p]=r[p])}return u}var sd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function pb(r){sd(r)}function mb(r){console.error(r)}function gb(r){sd(r)}function ad(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function yb(r,a,u){try{var c=r.onCaughtError;c(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function zf(r,a,u){return u=ws(u),u.tag=3,u.payload={element:null},u.callback=function(){ad(r,a)},u}function vb(r){return r=ws(r),r.tag=3,r}function _b(r,a,u,c){var p=u.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){yb(a,u,c)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){yb(a,u,c),typeof p!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})})}function ZD(r,a,u,c,p){if(u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=u.alternate,a!==null&&cl(a,u,p,!0),u=Ue.current,u!==null){switch(u.tag){case 13:return we===null?Ep():u.alternate===null&&oi===0&&(oi=3),u.flags&=-257,u.flags|=65536,u.lanes=p,c===sl?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([c]):a.add(c),wp(r,c,p)),!1;case 22:return u.flags|=65536,c===sl?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([c]):u.add(c)),wp(r,c,p)),!1}throw Error(i(435,u.tag))}return wp(r,c,p),Ep(),!1}if(bt)return a=Ue.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==nl&&(r=Error(i(422),{cause:c}),Ui(un(r,u)))):(c!==nl&&(a=Error(i(423),{cause:c}),Ui(un(a,u))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=un(c,u),p=zf(r.stateNode,c,p),rp(r,p),oi!==4&&(oi=2)),!1;var y=Error(i(520),{cause:c});if(y=un(y,u),_l===null?_l=[y]:_l.push(y),oi!==4&&(oi=2),a===null)return!0;c=un(c,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=p&-p,u.lanes|=r,r=zf(u.stateNode,c,r),rp(u,r),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y))))return u.flags|=65536,p&=-p,u.lanes|=p,p=vb(p),_b(p,r,u,c),rp(u,p),!1}u=u.return}while(u!==null);return!1}var bb=Error(i(461)),Ei=!1;function Pi(r,a,u,c){a.child=r===null?K(a,null,u,c):D(a,r.child,u,c)}function Tb(r,a,u,c,p){u=u.render;var y=a.ref;if("ref"in c){var R={};for(var G in c)G!=="ref"&&(R[G]=c[G])}else R=c;return Ra(a),c=wf(r,a,u,R,y,p),G=Af(),r!==null&&!Ei?(Df(r,a,p),zr(r,a,p)):(bt&&G&&tl(a),a.flags|=1,Pi(r,a,c,p),a.child)}function Sb(r,a,u,c,p){if(r===null){var y=u.type;return typeof y=="function"&&!hp(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,xb(r,a,y,c,p)):(r=dd(u.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Zf(r,p)){var R=y.memoizedProps;if(u=u.compare,u=u!==null?u:Xn,u(R,c)&&r.ref===a.ref)return zr(r,a,p)}return a.flags|=1,r=ks(y,c),r.ref=a.ref,r.return=a,a.child=r}function xb(r,a,u,c,p){if(r!==null){var y=r.memoizedProps;if(Xn(y,c)&&r.ref===a.ref)if(Ei=!1,a.pendingProps=c=y,Zf(r,p))(r.flags&131072)!==0&&(Ei=!0);else return a.lanes=r.lanes,zr(r,a,p)}return Gf(r,a,u,c,p)}function Eb(r,a,u){var c=a.pendingProps,p=c.children,y=(a.stateNode._pendingVisibility&2)!==0,R=r!==null?r.memoizedState:null;if(ll(r,a),c.mode==="hidden"||y){if((a.flags&128)!==0){if(c=R!==null?R.baseLanes|u:u,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return Cb(r,a,c,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wc(a,R!==null?R.cachePool:null),R!==null?ie(a,R):ce(),at(a);else return a.lanes=a.childLanes=536870912,Cb(r,a,R!==null?R.baseLanes|u:u,u)}else R!==null?(Wc(a,R.cachePool),ie(a,R),Ft(),a.memoizedState=null):(r!==null&&Wc(a,null),ce(),Ft());return Pi(r,a,p,u),a.child}function Cb(r,a,u,c){var p=Ef();return p=p===null?null:{parent:Xt._currentValue,pool:p},a.memoizedState={baseLanes:u,cachePool:p},r!==null&&Wc(a,null),ce(),at(a),r!==null&&cl(r,a,c,!0),null}function ll(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(a.flags|=2097664)}}function Gf(r,a,u,c,p){return Ra(a),u=wf(r,a,u,c,void 0,p),c=Af(),r!==null&&!Ei?(Df(r,a,p),zr(r,a,p)):(bt&&c&&tl(a),a.flags|=1,Pi(r,a,u,p),a.child)}function wb(r,a,u,c,p,y){return Ra(a),a.updateQueue=null,u=M_(a,c,u,p),k_(r),c=Af(),r!==null&&!Ei?(Df(r,a,y),zr(r,a,y)):(bt&&c&&tl(a),a.flags|=1,Pi(r,a,u,y),a.child)}function Ab(r,a,u,c,p){if(Ra(a),a.stateNode===null){var y=vs,R=u.contextType;typeof R=="object"&&R!==null&&(y=Fi(R)),y=new u(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Hf,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},ip(a),R=u.contextType,y.context=typeof R=="object"&&R!==null?Fi(R):vs,y.state=a.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(jf(a,u,R,c),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Hf.enqueueReplaceState(y,y.state,null),fl(a,c,y,p),hl(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var G=a.memoizedProps,ne=Da(u,G);y.props=ne;var me=y.context,Re=u.contextType;R=vs,typeof Re=="object"&&Re!==null&&(R=Fi(Re));var Ne=u.getDerivedStateFromProps;Re=typeof Ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",G=a.pendingProps!==G,Re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(G||me!==R)&&fb(a,y,c,R),Cs=!1;var Te=a.memoizedState;y.state=Te,fl(a,c,y,p),hl(),me=a.memoizedState,G||Te!==me||Cs?(typeof Ne=="function"&&(jf(a,u,Ne,c),me=a.memoizedState),(ne=Cs||hb(a,u,ne,c,Te,me,R))?(Re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=me),y.props=c,y.state=me,y.context=R,c=ne):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,np(r,a),R=a.memoizedProps,Re=Da(u,R),y.props=Re,Ne=a.pendingProps,Te=y.context,me=u.contextType,ne=vs,typeof me=="object"&&me!==null&&(ne=Fi(me)),G=u.getDerivedStateFromProps,(me=typeof G=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==Ne||Te!==ne)&&fb(a,y,c,ne),Cs=!1,Te=a.memoizedState,y.state=Te,fl(a,c,y,p),hl();var Oe=a.memoizedState;R!==Ne||Te!==Oe||Cs||r!==null&&r.dependencies!==null&&od(r.dependencies)?(typeof G=="function"&&(jf(a,u,G,c),Oe=a.memoizedState),(Re=Cs||hb(a,u,Re,c,Te,Oe,ne)||r!==null&&r.dependencies!==null&&od(r.dependencies))?(me||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Oe,ne),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Oe,ne)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===r.memoizedProps&&Te===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Te===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Oe),y.props=c,y.state=Oe,y.context=ne,c=Re):(typeof y.componentDidUpdate!="function"||R===r.memoizedProps&&Te===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Te===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,ll(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,u=c&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=D(a,r.child,null,p),a.child=D(a,null,u,p)):Pi(r,a,u,p),a.memoizedState=y.state,r=a.child):r=zr(r,a,p),r}function Db(r,a,u,c){return ci(),a.flags|=256,Pi(r,a,u,c),a.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function $f(r){return{baseLanes:r,cachePool:R_()}}function Kf(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=Nn),r}function Ob(r,a,u){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),R&&(p=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,r===null){if(bt){if(p?Ze(a):Ft(),bt){var G=_i,ne;if(ne=G){e:{for(ne=G,G=kn;ne.nodeType!==8;){if(!G){G=null;break e}if(ne=Qn(ne.nextSibling),ne===null){G=null;break e}}G=ne}G!==null?(a.memoizedState={dehydrated:G,treeContext:pr!==null?{id:yn,overflow:On}:null,retryLane:536870912},ne=Pn(18,null,null,0),ne.stateNode=G,ne.return=a,a.child=ne,Mi=a,_i=null,ne=!0):ne=!1}ne||mr(a)}if(G=a.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return G.data==="$!"?a.lanes=16:a.lanes=536870912,null;Zt(a)}return G=c.children,c=c.fallback,p?(Ft(),p=a.mode,G=Yf({mode:"hidden",children:G},p),c=Ma(c,p,u,null),G.return=a,c.return=a,G.sibling=c,a.child=G,p=a.child,p.memoizedState=$f(u),p.childLanes=Kf(r,R,u),a.memoizedState=Vf,c):(Ze(a),Xf(a,G))}if(ne=r.memoizedState,ne!==null&&(G=ne.dehydrated,G!==null)){if(y)a.flags&256?(Ze(a),a.flags&=-257,a=Wf(r,a,u)):a.memoizedState!==null?(Ft(),a.child=r.child,a.flags|=128,a=null):(Ft(),p=c.fallback,G=a.mode,c=Yf({mode:"visible",children:c.children},G),p=Ma(p,G,u,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,D(a,r.child,null,u),c=a.child,c.memoizedState=$f(u),c.childLanes=Kf(r,R,u),a.memoizedState=Vf,a=p);else if(Ze(a),G.data==="$!"){if(R=G.nextSibling&&G.nextSibling.dataset,R)var me=R.dgst;R=me,c=Error(i(419)),c.stack="",c.digest=R,Ui({value:c,source:null,stack:null}),a=Wf(r,a,u)}else if(Ei||cl(r,a,u,!1),R=(u&r.childLanes)!==0,Ei||R){if(R=jt,R!==null){if(c=u&-u,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(R.suspendedLanes|u))!==0?0:c,c!==0&&c!==ne.retryLane)throw ne.retryLane=c,fr(r,c),Qi(R,r,c),bb}G.data==="$?"||Ep(),a=Wf(r,a,u)}else G.data==="$?"?(a.flags|=128,a.child=r.child,a=fO.bind(null,r),G._reactRetry=a,a=null):(r=ne.treeContext,_i=Qn(G.nextSibling),Mi=a,bt=!0,Wi=null,kn=!1,r!==null&&(ln[gn++]=yn,ln[gn++]=On,ln[gn++]=pr,yn=r.id,On=r.overflow,pr=a),a=Xf(a,c.children),a.flags|=4096);return a}return p?(Ft(),p=c.fallback,G=a.mode,ne=r.child,me=ne.sibling,c=ks(ne,{mode:"hidden",children:c.children}),c.subtreeFlags=ne.subtreeFlags&31457280,me!==null?p=ks(me,p):(p=Ma(p,G,u,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,G=r.child.memoizedState,G===null?G=$f(u):(ne=G.cachePool,ne!==null?(me=Xt._currentValue,ne=ne.parent!==me?{parent:me,pool:me}:ne):ne=R_(),G={baseLanes:G.baseLanes|u,cachePool:ne}),p.memoizedState=G,p.childLanes=Kf(r,R,u),a.memoizedState=Vf,c):(Ze(a),u=r.child,r=u.sibling,u=ks(u,{mode:"visible",children:c.children}),u.return=a,u.sibling=null,r!==null&&(R=a.deletions,R===null?(a.deletions=[r],a.flags|=16):R.push(r)),a.child=u,a.memoizedState=null,u)}function Xf(r,a){return a=Yf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Yf(r,a){return tT(r,a,0,null)}function Wf(r,a,u){return D(a,r.child,null,u),r=Xf(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Rb(r,a,u){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),ep(r.return,a,u)}function Qf(r,a,u,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=u,y.tailMode=p)}function kb(r,a,u){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(Pi(r,a,c.children,u),c=kt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Rb(r,u,a);else if(r.tag===19)Rb(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Ve(kt,c),p){case"forwards":for(u=a.child,p=null;u!==null;)r=u.alternate,r!==null&&gr(r)===null&&(p=u),u=u.sibling;u=p,u===null?(p=a.child,a.child=null):(p=u.sibling,u.sibling=null),Qf(a,!1,p,u,y);break;case"backwards":for(u=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&gr(r)===null){a.child=p;break}r=p.sibling,p.sibling=u,u=p,p=r}Qf(a,!0,u,null,y);break;case"together":Qf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function zr(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Ms|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(cl(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,u=ks(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=ks(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Zf(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&od(r)))}function JD(r,a,u){switch(a.tag){case 3:be(a,a.stateNode.containerInfo),Es(a,Xt,r.memoizedState.cache),ci();break;case 27:case 5:Pe(a);break;case 4:be(a,a.stateNode.containerInfo);break;case 10:Es(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ze(a),a.flags|=128,null):(u&a.child.childLanes)!==0?Ob(r,a,u):(Ze(a),r=zr(r,a,u),r!==null?r.sibling:null);Ze(a);break;case 19:var p=(r.flags&128)!==0;if(c=(u&a.childLanes)!==0,c||(cl(r,a,u,!1),c=(u&a.childLanes)!==0),p){if(c)return kb(r,a,u);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ve(kt,kt.current),c)break;return null;case 22:case 23:return a.lanes=0,Eb(r,a,u);case 24:Es(a,Xt,r.memoizedState.cache)}return zr(r,a,u)}function Mb(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)Ei=!0;else{if(!Zf(r,u)&&(a.flags&128)===0)return Ei=!1,JD(r,a,u);Ei=(r.flags&131072)!==0}else Ei=!1,bt&&(a.flags&1048576)!==0&&va(a,Ao,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")hp(c)?(r=Da(c,r),a.tag=1,a=Ab(null,a,c,r,u)):(a.tag=0,a=Gf(null,a,c,r,u));else{if(c!=null){if(p=c.$$typeof,p===j){a.tag=11,a=Tb(null,a,c,r,u);break e}else if(p===P){a.tag=14,a=Sb(null,a,c,r,u);break e}}throw a=J(c)||c,Error(i(306,a,""))}}return a;case 0:return Gf(r,a,a.type,a.pendingProps,u);case 1:return c=a.type,p=Da(c,a.pendingProps),Ab(r,a,c,p,u);case 3:e:{if(be(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var y=a.pendingProps;p=a.memoizedState,c=p.element,np(r,a),fl(a,y,null,u);var R=a.memoizedState;if(y=R.cache,Es(a,Xt,y),y!==p.cache&&tp(a,[Xt],u,!0),hl(),y=R.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Db(r,a,y,u);break e}else if(y!==c){c=un(Error(i(424)),a),Ui(c),a=Db(r,a,y,u);break e}else for(_i=Qn(a.stateNode.containerInfo.firstChild),Mi=a,bt=!0,Wi=null,kn=!0,u=K(a,null,y,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ci(),y===c){a=zr(r,a,u);break e}Pi(r,a,y,u)}a=a.child}return a;case 26:return ll(r,a),r===null?(u=NT(a.type,null,a.pendingProps,null))?a.memoizedState=u:bt||(u=a.type,r=a.pendingProps,c=xd(he.current).createElement(u),c[Ut]=a,c[ct]=r,Ni(c,u,r),pi(c),a.stateNode=c):a.memoizedState=NT(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Pe(a),r===null&&bt&&(c=a.stateNode=MT(a.type,a.pendingProps,he.current),Mi=a,kn=!0,_i=Qn(c.firstChild)),c=a.pendingProps.children,r!==null||bt?Pi(r,a,c,u):a.child=D(a,null,c,u),ll(r,a),a.child;case 5:return r===null&&bt&&((p=c=_i)&&(c=OO(c,a.type,a.pendingProps,kn),c!==null?(a.stateNode=c,Mi=a,_i=Qn(c.firstChild),kn=!1,p=!0):p=!1),p||mr(a)),Pe(a),p=a.type,y=a.pendingProps,R=r!==null?r.memoizedProps:null,c=y.children,Up(p,y)?c=null:R!==null&&Up(p,R)&&(a.flags|=32),a.memoizedState!==null&&(p=wf(r,a,$D,null,null,u),Dl._currentValue=p),ll(r,a),Pi(r,a,c,u),a.child;case 6:return r===null&&bt&&((r=u=_i)&&(u=RO(u,a.pendingProps,kn),u!==null?(a.stateNode=u,Mi=a,_i=null,r=!0):r=!1),r||mr(a)),null;case 13:return Ob(r,a,u);case 4:return be(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=D(a,null,c,u):Pi(r,a,c,u),a.child;case 11:return Tb(r,a,a.type,a.pendingProps,u);case 7:return Pi(r,a,a.pendingProps,u),a.child;case 8:return Pi(r,a,a.pendingProps.children,u),a.child;case 12:return Pi(r,a,a.pendingProps.children,u),a.child;case 10:return c=a.pendingProps,Es(a,a.type,c.value),Pi(r,a,c.children,u),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Ra(a),p=Fi(p),c=c(p),a.flags|=1,Pi(r,a,c,u),a.child;case 14:return Sb(r,a,a.type,a.pendingProps,u);case 15:return xb(r,a,a.type,a.pendingProps,u);case 19:return kb(r,a,u);case 22:return Eb(r,a,u);case 24:return Ra(a),c=Fi(Xt),r===null?(p=Ef(),p===null&&(p=jt,y=Rt(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=u),p=y),a.memoizedState={parent:c,cache:p},ip(a),Es(a,Xt,p)):((r.lanes&u)!==0&&(np(r,a),fl(a,null,null,u),hl()),p=r.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Es(a,Xt,c)):(c=y.cache,Es(a,Xt,c),c!==p.cache&&tp(a,[Xt],u,!0))),Pi(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Jf=Be(null),Oa=null,Gr=null;function Es(r,a,u){Ve(Jf,a._currentValue),a._currentValue=u}function Vr(r){r._currentValue=Jf.current,Ge(Jf)}function ep(r,a,u){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===u)break;r=r.return}}function tp(r,a,u,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var R=p.child;y=y.firstContext;e:for(;y!==null;){var G=y;y=p;for(var ne=0;ne<a.length;ne++)if(G.context===a[ne]){y.lanes|=u,G=y.alternate,G!==null&&(G.lanes|=u),ep(y.return,u,r),c||(R=null);break e}y=G.next}}else if(p.tag===18){if(R=p.return,R===null)throw Error(i(341));R.lanes|=u,y=R.alternate,y!==null&&(y.lanes|=u),ep(R,u,r),R=null}else R=p.child;if(R!==null)R.return=p;else for(R=p;R!==null;){if(R===r){R=null;break}if(p=R.sibling,p!==null){p.return=R.return,R=p;break}R=R.return}p=R}}function cl(r,a,u,c){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var R=p.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var G=p.type;Xi(p.pendingProps.value,R.value)||(r!==null?r.push(G):r=[G])}}else if(p===fe.current){if(R=p.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Dl):r=[Dl])}p=p.return}r!==null&&tp(a,r,u,c),a.flags|=262144}function od(r){for(r=r.firstContext;r!==null;){if(!Xi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ra(r){Oa=r,Gr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Fi(r){return Lb(Oa,r)}function ud(r,a){return Oa===null&&Ra(r),Lb(r,a)}function Lb(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Gr===null){if(r===null)throw Error(i(308));Gr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Gr=Gr.next=a;return u}var Cs=!1;function ip(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function np(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ws(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function As(r,a,u){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ei&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Co(r),Vc(r,null,u),a}return Eo(r,c,a,u),Co(r)}function dl(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194176)!==0)){var c=a.lanes;c&=r.pendingLanes,u|=c,a.lanes=u,nn(r,u)}}function rp(r,a){var u=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var p=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?p=y=R:y=y.next=R,u=u.next}while(u!==null);y===null?p=y=a:y=y.next=a}else p=y=a;u={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var sp=!1;function hl(){if(sp){var r=Ro;if(r!==null)throw r}}function fl(r,a,u,c){sp=!1;var p=r.updateQueue;Cs=!1;var y=p.firstBaseUpdate,R=p.lastBaseUpdate,G=p.shared.pending;if(G!==null){p.shared.pending=null;var ne=G,me=ne.next;ne.next=null,R===null?y=me:R.next=me,R=ne;var Re=r.alternate;Re!==null&&(Re=Re.updateQueue,G=Re.lastBaseUpdate,G!==R&&(G===null?Re.firstBaseUpdate=me:G.next=me,Re.lastBaseUpdate=ne))}if(y!==null){var Ne=p.baseState;R=0,Re=me=ne=null,G=y;do{var Te=G.lane&-536870913,Oe=Te!==G.lane;if(Oe?(Tt&Te)===Te:(c&Te)===Te){Te!==0&&Te===Oo&&(sp=!0),Re!==null&&(Re=Re.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Je=r,ot=G;Te=a;var ui=u;switch(ot.tag){case 1:if(Je=ot.payload,typeof Je=="function"){Ne=Je.call(ui,Ne,Te);break e}Ne=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=ot.payload,Te=typeof Je=="function"?Je.call(ui,Ne,Te):Je,Te==null)break e;Ne=S({},Ne,Te);break e;case 2:Cs=!0}}Te=G.callback,Te!==null&&(r.flags|=64,Oe&&(r.flags|=8192),Oe=p.callbacks,Oe===null?p.callbacks=[Te]:Oe.push(Te))}else Oe={lane:Te,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Re===null?(me=Re=Oe,ne=Ne):Re=Re.next=Oe,R|=Te;if(G=G.next,G===null){if(G=p.shared.pending,G===null)break;Oe=G,G=Oe.next,Oe.next=null,p.lastBaseUpdate=Oe,p.shared.pending=null}}while(!0);Re===null&&(ne=Ne),p.baseState=ne,p.firstBaseUpdate=me,p.lastBaseUpdate=Re,y===null&&(p.shared.lanes=0),Ms|=R,r.lanes=R,r.memoizedState=Ne}}function Pb(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Nb(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Pb(u[r],a)}function pl(r,a){try{var u=a.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var p=c.next;u=p;do{if((u.tag&r)===r){c=void 0;var y=u.create,R=u.inst;c=y(),R.destroy=c}u=u.next}while(u!==p)}}catch(G){qt(a,a.return,G)}}function Ds(r,a,u){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var R=c.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,p=a;var ne=u;try{G()}catch(me){qt(p,ne,me)}}}c=c.next}while(c!==y)}}catch(me){qt(a,a.return,me)}}function Ib(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{Nb(a,u)}catch(c){qt(r,r.return,c)}}}function Bb(r,a,u){u.props=Da(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(c){qt(r,a,c)}}function ka(r,a){try{var u=r.ref;if(u!==null){var c=r.stateNode;switch(r.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof u=="function"?r.refCleanup=u(p):u.current=p}}catch(y){qt(r,a,y)}}function _n(r,a){var u=r.ref,c=r.refCleanup;if(u!==null)if(typeof c=="function")try{c()}catch(p){qt(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(p){qt(r,a,p)}else u.current=null}function Ub(r){var a=r.type,u=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&c.focus();break e;case"img":u.src?c.src=u.src:u.srcSet&&(c.srcset=u.srcSet)}}catch(p){qt(r,r.return,p)}}function Fb(r,a,u){try{var c=r.stateNode;EO(c,r.type,u,a),c[ct]=a}catch(p){qt(r,r.return,p)}}function qb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function ap(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function op(r,a,u){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(r,a):u.insertBefore(r,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(r,u)):(a=u,a.appendChild(r)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Sd));else if(c!==4&&c!==27&&(r=r.child,r!==null))for(op(r,a,u),r=r.sibling;r!==null;)op(r,a,u),r=r.sibling}function ld(r,a,u){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(c!==4&&c!==27&&(r=r.child,r!==null))for(ld(r,a,u),r=r.sibling;r!==null;)ld(r,a,u),r=r.sibling}var $r=!1,ai=!1,up=!1,jb=typeof WeakSet=="function"?WeakSet:Set,Ci=null,Hb=!1;function eO(r,a){if(r=r.containerInfo,Ip=Od,r=Kt(r),lr(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var R=0,G=-1,ne=-1,me=0,Re=0,Ne=r,Te=null;t:for(;;){for(var Oe;Ne!==u||p!==0&&Ne.nodeType!==3||(G=R+p),Ne!==y||c!==0&&Ne.nodeType!==3||(ne=R+c),Ne.nodeType===3&&(R+=Ne.nodeValue.length),(Oe=Ne.firstChild)!==null;)Te=Ne,Ne=Oe;for(;;){if(Ne===r)break t;if(Te===u&&++me===p&&(G=R),Te===y&&++Re===c&&(ne=R),(Oe=Ne.nextSibling)!==null)break;Ne=Te,Te=Ne.parentNode}Ne=Oe}u=G===-1||ne===-1?null:{start:G,end:ne}}else u=null}u=u||{start:0,end:0}}else u=null;for(Bp={focusedElem:r,selectionRange:u},Od=!1,Ci=a;Ci!==null;)if(a=Ci,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Ci=r;else for(;Ci!==null;){switch(a=Ci,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,u=a,p=y.memoizedProps,y=y.memoizedState,c=u.stateNode;try{var Je=Da(u.type,p,u.elementType===u.type);r=c.getSnapshotBeforeUpdate(Je,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(ot){qt(u,u.return,ot)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)jp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Ci=r;break}Ci=a.return}return Je=Hb,Hb=!1,Je}function zb(r,a,u){var c=u.flags;switch(u.tag){case 0:case 11:case 15:Xr(r,u),c&4&&pl(5,u);break;case 1:if(Xr(r,u),c&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(G){qt(u,u.return,G)}else{var p=Da(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(G){qt(u,u.return,G)}}c&64&&Ib(u),c&512&&ka(u,u.return);break;case 3:if(Xr(r,u),c&64&&(c=u.updateQueue,c!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{Nb(c,r)}catch(G){qt(u,u.return,G)}}break;case 26:Xr(r,u),c&512&&ka(u,u.return);break;case 27:case 5:Xr(r,u),a===null&&c&4&&Ub(u),c&512&&ka(u,u.return);break;case 12:Xr(r,u);break;case 13:Xr(r,u),c&4&&$b(r,u);break;case 22:if(p=u.memoizedState!==null||$r,!p){a=a!==null&&a.memoizedState!==null||ai;var y=$r,R=ai;$r=p,(ai=a)&&!R?Os(r,u,(u.subtreeFlags&8772)!==0):Xr(r,u),$r=y,ai=R}c&512&&(u.memoizedProps.mode==="manual"?ka(u,u.return):_n(u,u.return));break;default:Xr(r,u)}}function Gb(r){var a=r.alternate;a!==null&&(r.alternate=null,Gb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Gn(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var yi=null,bn=!1;function Kr(r,a,u){for(u=u.child;u!==null;)Vb(r,a,u),u=u.sibling}function Vb(r,a,u){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Qt,u)}catch{}switch(u.tag){case 26:ai||_n(u,a),Kr(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ai||_n(u,a);var c=yi,p=bn;for(yi=u.stateNode,Kr(r,a,u),u=u.stateNode,a=u.attributes;a.length;)u.removeAttributeNode(a[0]);Gn(u),yi=c,bn=p;break;case 5:ai||_n(u,a);case 6:p=yi;var y=bn;if(yi=null,Kr(r,a,u),yi=p,bn=y,yi!==null)if(bn)try{r=yi,c=u.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)}catch(R){qt(u,a,R)}else try{yi.removeChild(u.stateNode)}catch(R){qt(u,a,R)}break;case 18:yi!==null&&(bn?(a=yi,u=u.stateNode,a.nodeType===8?qp(a.parentNode,u):a.nodeType===1&&qp(a,u),Ml(a)):qp(yi,u.stateNode));break;case 4:c=yi,p=bn,yi=u.stateNode.containerInfo,bn=!0,Kr(r,a,u),yi=c,bn=p;break;case 0:case 11:case 14:case 15:ai||Ds(2,u,a),ai||Ds(4,u,a),Kr(r,a,u);break;case 1:ai||(_n(u,a),c=u.stateNode,typeof c.componentWillUnmount=="function"&&Bb(u,a,c)),Kr(r,a,u);break;case 21:Kr(r,a,u);break;case 22:ai||_n(u,a),ai=(c=ai)||u.memoizedState!==null,Kr(r,a,u),ai=c;break;default:Kr(r,a,u)}}function $b(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ml(r)}catch(u){qt(a,a.return,u)}}function tO(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new jb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new jb),a;default:throw Error(i(435,r.tag))}}function lp(r,a){var u=tO(r);a.forEach(function(c){var p=pO.bind(null,r,c);u.has(c)||(u.add(c),c.then(p,p))})}function Mn(r,a){var u=a.deletions;if(u!==null)for(var c=0;c<u.length;c++){var p=u[c],y=r,R=a,G=R;e:for(;G!==null;){switch(G.tag){case 27:case 5:yi=G.stateNode,bn=!1;break e;case 3:yi=G.stateNode.containerInfo,bn=!0;break e;case 4:yi=G.stateNode.containerInfo,bn=!0;break e}G=G.return}if(yi===null)throw Error(i(160));Vb(y,R,p),yi=null,bn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Kb(a,r),a=a.sibling}var Wn=null;function Kb(r,a){var u=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(a,r),Ln(r),c&4&&(Ds(3,r,r.return),pl(3,r),Ds(5,r,r.return));break;case 1:Mn(a,r),Ln(r),c&512&&(ai||u===null||_n(u,u.return)),c&64&&$r&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?c:u.concat(c))));break;case 26:var p=Wn;if(Mn(a,r),Ln(r),c&512&&(ai||u===null||_n(u,u.return)),c&4){var y=u!==null?u.memoizedState:null;if(c=r.memoizedState,u===null)if(c===null)if(r.stateNode===null){e:{c=r.type,u=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ws]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Ni(y,c,u),y[Ut]=r,pi(y),c=y;break e;case"link":var R=UT("link","href",p).get(c+(u.href||""));if(R){for(var G=0;G<R.length;G++)if(y=R[G],y.getAttribute("href")===(u.href==null?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(G,1);break t}}y=p.createElement(c),Ni(y,c,u),p.head.appendChild(y);break;case"meta":if(R=UT("meta","content",p).get(c+(u.content||""))){for(G=0;G<R.length;G++)if(y=R[G],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(G,1);break t}}y=p.createElement(c),Ni(y,c,u),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ut]=r,pi(y),c=y}r.stateNode=c}else FT(p,r.type,r.stateNode);else r.stateNode=BT(p,c,r.memoizedProps);else y!==c?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,c===null?FT(p,r.type,r.stateNode):BT(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Fb(r,r.memoizedProps,u.memoizedProps)}break;case 27:if(c&4&&r.alternate===null){p=r.stateNode,y=r.memoizedProps;try{for(var ne=p.firstChild;ne;){var me=ne.nextSibling,Re=ne.nodeName;ne[Ws]||Re==="HEAD"||Re==="BODY"||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||p.removeChild(ne),ne=me}for(var Ne=r.type,Te=p.attributes;Te.length;)p.removeAttributeNode(Te[0]);Ni(p,Ne,y),p[Ut]=r,p[ct]=y}catch(Je){qt(r,r.return,Je)}}case 5:if(Mn(a,r),Ln(r),c&512&&(ai||u===null||_n(u,u.return)),r.flags&32){p=r.stateNode;try{Dn(p,"")}catch(Je){qt(r,r.return,Je)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,Fb(r,p,u!==null?u.memoizedProps:p)),c&1024&&(up=!0);break;case 6:if(Mn(a,r),Ln(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,u=r.stateNode;try{u.nodeValue=c}catch(Je){qt(r,r.return,Je)}}break;case 3:if(wd=null,p=Wn,Wn=Ed(a.containerInfo),Mn(a,r),Wn=p,Ln(r),c&4&&u!==null&&u.memoizedState.isDehydrated)try{Ml(a.containerInfo)}catch(Je){qt(r,r.return,Je)}up&&(up=!1,Xb(r));break;case 4:c=Wn,Wn=Ed(r.stateNode.containerInfo),Mn(a,r),Ln(r),Wn=c;break;case 12:Mn(a,r),Ln(r);break;case 13:Mn(a,r),Ln(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(vp=Qe()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,lp(r,c)));break;case 22:if(c&512&&(ai||u===null||_n(u,u.return)),ne=r.memoizedState!==null,me=u!==null&&u.memoizedState!==null,Re=$r,Ne=ai,$r=Re||ne,ai=Ne||me,Mn(a,r),ai=Ne,$r=Re,Ln(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=ne?a._visibility&-2:a._visibility|1,ne&&(a=$r||ai,u===null||me||a||Po(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(u=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(u===null){me=u=a;try{if(p=me.stateNode,ne)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{R=me.stateNode,G=me.memoizedProps.style;var Oe=G!=null&&G.hasOwnProperty("display")?G.display:null;R.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(Je){qt(me,me.return,Je)}}}else if(a.tag===6){if(u===null){me=a;try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Je){qt(me,me.return,Je)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(u=c.retryQueue,u!==null&&(c.retryQueue=null,lp(r,u))));break;case 19:Mn(a,r),Ln(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,lp(r,c)));break;case 21:break;default:Mn(a,r),Ln(r)}}function Ln(r){var a=r.flags;if(a&2){try{if(r.tag!==27){e:{for(var u=r.return;u!==null;){if(qb(u)){var c=u;break e}u=u.return}throw Error(i(160))}switch(c.tag){case 27:var p=c.stateNode,y=ap(r);ld(r,y,p);break;case 5:var R=c.stateNode;c.flags&32&&(Dn(R,""),c.flags&=-33);var G=ap(r);ld(r,G,R);break;case 3:case 4:var ne=c.stateNode.containerInfo,me=ap(r);op(r,me,ne);break;default:throw Error(i(161))}}}catch(Re){qt(r,r.return,Re)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Xb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Xb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Xr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)zb(r,a.alternate,a),a=a.sibling}function Po(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ds(4,a,a.return),Po(a);break;case 1:_n(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Bb(a,a.return,u),Po(a);break;case 26:case 27:case 5:_n(a,a.return),Po(a);break;case 22:_n(a,a.return),a.memoizedState===null&&Po(a);break;default:Po(a)}r=r.sibling}}function Os(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:Os(p,y,u),pl(4,y);break;case 1:if(Os(p,y,u),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(me){qt(c,c.return,me)}if(c=y,p=c.updateQueue,p!==null){var G=c.stateNode;try{var ne=p.shared.hiddenCallbacks;if(ne!==null)for(p.shared.hiddenCallbacks=null,p=0;p<ne.length;p++)Pb(ne[p],G)}catch(me){qt(c,c.return,me)}}u&&R&64&&Ib(y),ka(y,y.return);break;case 26:case 27:case 5:Os(p,y,u),u&&c===null&&R&4&&Ub(y),ka(y,y.return);break;case 12:Os(p,y,u);break;case 13:Os(p,y,u),u&&R&4&&$b(p,y);break;case 22:y.memoizedState===null&&Os(p,y,u),ka(y,y.return);break;default:Os(p,y,u)}a=a.sibling}}function cp(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Yn(u))}function dp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yn(r))}function Rs(r,a,u,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Yb(r,a,u,c),a=a.sibling}function Yb(r,a,u,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(r,a,u,c),p&2048&&pl(9,a);break;case 3:Rs(r,a,u,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yn(r)));break;case 12:if(p&2048){Rs(r,a,u,c),r=a.stateNode;try{var y=a.memoizedProps,R=y.id,G=y.onPostCommit;typeof G=="function"&&G(R,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ne){qt(a,a.return,ne)}}else Rs(r,a,u,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Rs(r,a,u,c):ml(r,a):y._visibility&4?Rs(r,a,u,c):(y._visibility|=4,No(r,a,u,c,(a.subtreeFlags&10256)!==0)),p&2048&&cp(a.alternate,a);break;case 24:Rs(r,a,u,c),p&2048&&dp(a.alternate,a);break;default:Rs(r,a,u,c)}}function No(r,a,u,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,R=a,G=u,ne=c,me=R.flags;switch(R.tag){case 0:case 11:case 15:No(y,R,G,ne,p),pl(8,R);break;case 23:break;case 22:var Re=R.stateNode;R.memoizedState!==null?Re._visibility&4?No(y,R,G,ne,p):ml(y,R):(Re._visibility|=4,No(y,R,G,ne,p)),p&&me&2048&&cp(R.alternate,R);break;case 24:No(y,R,G,ne,p),p&&me&2048&&dp(R.alternate,R);break;default:No(y,R,G,ne,p)}a=a.sibling}}function ml(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,c=a,p=c.flags;switch(c.tag){case 22:ml(u,c),p&2048&&cp(c.alternate,c);break;case 24:ml(u,c),p&2048&&dp(c.alternate,c);break;default:ml(u,c)}a=a.sibling}}var gl=8192;function Io(r){if(r.subtreeFlags&gl)for(r=r.child;r!==null;)Wb(r),r=r.sibling}function Wb(r){switch(r.tag){case 26:Io(r),r.flags&gl&&r.memoizedState!==null&&zO(Wn,r.memoizedState,r.memoizedProps);break;case 5:Io(r);break;case 3:case 4:var a=Wn;Wn=Ed(r.stateNode.containerInfo),Io(r),Wn=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=gl,gl=16777216,Io(r),gl=a):Io(r));break;default:Io(r)}}function Qb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function yl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var c=a[u];Ci=c,Jb(c,r)}Qb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zb(r),r=r.sibling}function Zb(r){switch(r.tag){case 0:case 11:case 15:yl(r),r.flags&2048&&Ds(9,r,r.return);break;case 3:yl(r);break;case 12:yl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,cd(r)):yl(r);break;default:yl(r)}}function cd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var c=a[u];Ci=c,Jb(c,r)}Qb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ds(8,a,a.return),cd(a);break;case 22:u=a.stateNode,u._visibility&4&&(u._visibility&=-5,cd(a));break;default:cd(a)}r=r.sibling}}function Jb(r,a){for(;Ci!==null;){var u=Ci;switch(u.tag){case 0:case 11:case 15:Ds(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var c=u.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yn(u.memoizedState.cache)}if(c=u.child,c!==null)c.return=u,Ci=c;else e:for(u=r;Ci!==null;){c=Ci;var p=c.sibling,y=c.return;if(Gb(c),c===u){Ci=null;break e}if(p!==null){p.return=y,Ci=p;break e}Ci=y}}}function iO(r,a,u,c){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,a,u,c){return new iO(r,a,u,c)}function hp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ks(r,a){var u=r.alternate;return u===null?(u=Pn(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&31457280,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function eT(r,a){r.flags&=31457282;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function dd(r,a,u,c,p,y){var R=0;if(c=r,typeof r=="function")hp(r)&&(R=1);else if(typeof r=="string")R=jO(r,u,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case h:return Ma(u.children,p,y,a);case m:R=8,p|=24;break;case b:return r=Pn(12,u,a,p|2),r.elementType=b,r.lanes=y,r;case A:return r=Pn(13,u,a,p),r.elementType=A,r.lanes=y,r;case I:return r=Pn(19,u,a,p),r.elementType=I,r.lanes=y,r;case q:return tT(u,p,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case k:R=10;break e;case L:R=9;break e;case j:R=11;break e;case P:R=14;break e;case H:R=16,c=null;break e}R=29,u=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Pn(R,u,a,p),a.elementType=r,a.type=c,a.lanes=y,a}function Ma(r,a,u,c){return r=Pn(7,r,c,a),r.lanes=u,r}function tT(r,a,u,c){r=Pn(22,r,c,a),r.elementType=q,r.lanes=u;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)===0){var R=fr(y,2);R!==null&&(p._pendingVisibility|=2,Qi(R,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)!==0){var R=fr(y,2);R!==null&&(p._pendingVisibility&=-3,Qi(R,y,2))}}};return r.stateNode=p,r}function fp(r,a,u){return r=Pn(6,r,null,a),r.lanes=u,r}function pp(r,a,u){return a=Pn(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Yr(r){r.flags|=4}function iT(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!qT(a)){if(a=Ue.current,a!==null&&((Tt&4194176)===Tt?we!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||a!==we))throw ba=sl,rl;r.flags|=8192}}function hd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Dt():536870912,r.lanes|=a,Uo|=a)}function vl(r,a){if(!bt)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Jt(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,c=0;if(a)for(var p=r.child;p!==null;)u|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)u|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=u,a}function nO(r,a,u){var c=a.pendingProps;switch(il(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(a),null;case 1:return Jt(a),null;case 3:return u=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Vr(Xt),Me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(vn(a)?Yr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Wi!==null&&(Sp(Wi),Wi=null))),Jt(a),null;case 26:return u=a.memoizedState,r===null?(Yr(a),u!==null?(Jt(a),iT(a,u)):(Jt(a),a.flags&=-16777217)):u?u!==r.memoizedState?(Yr(a),Jt(a),iT(a,u)):(Jt(a),a.flags&=-16777217):(r.memoizedProps!==c&&Yr(a),Jt(a),a.flags&=-16777217),null;case 27:Ie(a),u=he.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Jt(a),null}r=xe.current,vn(a)?jr(a):(r=MT(p,c,u),a.stateNode=r,Yr(a))}return Jt(a),null;case 5:if(Ie(a),u=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Jt(a),null}if(r=xe.current,vn(a))jr(a);else{switch(p=xd(he.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(u,{is:c.is}):p.createElement(u)}}r[Ut]=a,r[ct]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;e:switch(Ni(r,u,c),u){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Yr(a)}}return Jt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&Yr(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=he.current,vn(a)){if(r=a.stateNode,u=a.memoizedProps,c=null,p=Mi,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Ut]=a,r=!!(r.nodeValue===u||c!==null&&c.suppressHydrationWarning===!0||wT(r.nodeValue,u)),r||mr(a)}else r=xd(r).createTextNode(c),r[Ut]=a,a.stateNode=r}return Jt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=vn(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ut]=a}else ci(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Jt(a),p=!1}else Wi!==null&&(Sp(Wi),Wi=null),p=!0;if(!p)return a.flags&256?(Zt(a),a):(Zt(a),null)}if(Zt(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=c!==null,r=r!==null&&r.memoizedState!==null,u){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return u!==r&&u&&(a.child.flags|=8192),hd(a,a.updateQueue),Jt(a),null;case 4:return Me(),r===null&&Lp(a.stateNode.containerInfo),Jt(a),null;case 10:return Vr(a.type),Jt(a),null;case 19:if(Ge(kt),p=a.memoizedState,p===null)return Jt(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)vl(p,!1);else{if(oi!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=gr(r),y!==null){for(a.flags|=128,vl(p,!1),r=y.updateQueue,a.updateQueue=r,hd(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)eT(u,r),u=u.sibling;return Ve(kt,kt.current&1|2),a.child}r=r.sibling}p.tail!==null&&Qe()>fd&&(a.flags|=128,c=!0,vl(p,!1),a.lanes=4194304)}else{if(!c)if(r=gr(y),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,hd(a,r),vl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!bt)return Jt(a),null}else 2*Qe()-p.renderingStartTime>fd&&u!==536870912&&(a.flags|=128,c=!0,vl(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Qe(),a.sibling=null,r=kt.current,Ve(kt,c?r&1|2:r&1),a):(Jt(a),null);case 22:case 23:return Zt(a),Ce(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(u&536870912)!==0&&(a.flags&128)===0&&(Jt(a),a.subtreeFlags&6&&(a.flags|=8192)):Jt(a),u=a.updateQueue,u!==null&&hd(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==u&&(a.flags|=2048),r!==null&&Ge(Ea),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Vr(Xt),Jt(a),null;case 25:return null}throw Error(i(156,a.tag))}function rO(r,a){switch(il(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Vr(Xt),Me(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ie(a),null;case 13:if(Zt(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ci()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Ge(kt),null;case 4:return Me(),null;case 10:return Vr(a.type),null;case 22:case 23:return Zt(a),Ce(),r!==null&&Ge(Ea),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Vr(Xt),null;case 25:return null;default:return null}}function nT(r,a){switch(il(a),a.tag){case 3:Vr(Xt),Me();break;case 26:case 27:case 5:Ie(a);break;case 4:Me();break;case 13:Zt(a);break;case 19:Ge(kt);break;case 10:Vr(a.type);break;case 22:case 23:Zt(a),Ce(),r!==null&&Ge(Ea);break;case 24:Vr(Xt)}}var sO={getCacheForType:function(r){var a=Fi(Xt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u}},aO=typeof WeakMap=="function"?WeakMap:Map,ei=0,jt=null,yt=null,Tt=0,Ht=0,Tn=null,Wr=!1,Bo=!1,mp=!1,Qr=0,oi=0,Ms=0,La=0,gp=0,Nn=0,Uo=0,_l=null,vr=null,yp=!1,vp=0,fd=1/0,pd=null,Ls=null,md=!1,Pa=null,bl=0,_p=0,bp=null,Tl=0,Tp=null;function Sn(){if((ei&2)!==0&&Tt!==0)return Tt&-Tt;if(x.T!==null){var r=Oo;return r!==0?r:Op()}return Vt()}function rT(){Nn===0&&(Nn=(Tt&536870912)===0||bt?nt():536870912);var r=Ue.current;return r!==null&&(r.flags|=32),Nn}function Qi(r,a,u){(r===jt&&Ht===2||r.cancelPendingCommit!==null)&&(Fo(r,0),Zr(r,Tt,Nn,!1)),Ri(r,u),((ei&2)===0||r!==jt)&&(r===jt&&((ei&2)===0&&(La|=u),oi===4&&Zr(r,Tt,Nn,!1)),_r(r))}function sT(r,a,u){if((ei&6)!==0)throw Error(i(327));var c=!u&&(a&60)===0&&(a&r.expiredLanes)===0||Se(r,a),p=c?lO(r,a):Cp(r,a,!0),y=c;do{if(p===0){Bo&&!c&&Zr(r,a,0,!1);break}else if(p===6)Zr(r,a,0,!Wr);else{if(u=r.current.alternate,y&&!oO(u)){p=Cp(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var G=r;p=_l;var ne=G.current.memoizedState.isDehydrated;if(ne&&(Fo(G,R).flags|=256),R=Cp(G,R,!1),R!==2){if(mp&&!ne){G.errorRecoveryDisabledLanes|=y,La|=y,p=4;break e}y=vr,vr=p,y!==null&&Sp(y)}p=R}if(y=!1,p!==2)continue}}if(p===1){Fo(r,0),Zr(r,a,0,!0);break}e:{switch(c=r,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){Zr(c,a,Nn,!Wr);break e}break;case 2:vr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=u,c.finishedLanes=a,(a&62914560)===a&&(y=vp+300-Qe(),10<y)){if(Zr(c,a,Nn,!Wr),ae(c,0)!==0)break e;c.timeoutHandle=OT(aT.bind(null,c,u,vr,pd,yp,a,Nn,La,Uo,Wr,2,-0,0),y);break e}aT(c,u,vr,pd,yp,a,Nn,La,Uo,Wr,0,-0,0)}}break}while(!0);_r(r)}function Sp(r){vr===null?vr=r:vr.push.apply(vr,r)}function aT(r,a,u,c,p,y,R,G,ne,me,Re,Ne,Te){var Oe=a.subtreeFlags;if((Oe&8192||(Oe&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:HO},Wb(a),a=GO(),a!==null)){r.cancelPendingCommit=a(fT.bind(null,r,u,c,p,R,G,ne,1,Ne,Te)),Zr(r,y,R,!me);return}fT(r,u,c,p,R,G,ne,Re,Ne,Te)}function oO(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var c=0;c<u.length;c++){var p=u[c],y=p.getSnapshot;p=p.value;try{if(!Xi(y(),p))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zr(r,a,u,c){a&=~gp,a&=~La,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var y=31-Gt(p),R=1<<y;c[y]=-1,p&=~R}u!==0&&Vi(r,u,a)}function gd(){return(ei&6)===0?(Sl(0),!1):!0}function xp(){if(yt!==null){if(Ht===0)var r=yt.return;else r=yt,Gr=Oa=null,Of(r),bs=null,Ts=0,r=yt;for(;r!==null;)nT(r.alternate,r),r=r.return;yt=null}}function Fo(r,a){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,wO(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),xp(),jt=r,yt=u=ks(r.current,null),Tt=a,Ht=0,Tn=null,Wr=!1,Bo=Se(r,a),mp=!1,Uo=Nn=gp=La=Ms=oi=0,vr=_l=null,yp=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-Gt(c),y=1<<p;a|=r[p],c&=~y}return Qr=a,xo(),u}function oT(r,a){ht=null,x.H=yr,a===_a?(a=Yc(),Ht=3):a===rl?(a=Yc(),Ht=4):Ht=a===bb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tn=a,yt===null&&(oi=1,ad(r,un(a,r.current)))}function uT(){var r=x.H;return x.H=yr,r===null?yr:r}function lT(){var r=x.A;return x.A=sO,r}function Ep(){oi=4,Wr||(Tt&4194176)!==Tt&&Ue.current!==null||(Bo=!0),(Ms&134217727)===0&&(La&134217727)===0||jt===null||Zr(jt,Tt,Nn,!1)}function Cp(r,a,u){var c=ei;ei|=2;var p=uT(),y=lT();(jt!==r||Tt!==a)&&(pd=null,Fo(r,a)),a=!1;var R=oi;e:do try{if(Ht!==0&&yt!==null){var G=yt,ne=Tn;switch(Ht){case 8:xp(),R=6;break e;case 3:case 2:case 6:Ue.current===null&&(a=!0);var me=Ht;if(Ht=0,Tn=null,qo(r,G,ne,me),u&&Bo){R=0;break e}break;default:me=Ht,Ht=0,Tn=null,qo(r,G,ne,me)}}uO(),R=oi;break}catch(Re){oT(r,Re)}while(!0);return a&&r.shellSuspendCounter++,Gr=Oa=null,ei=c,x.H=p,x.A=y,yt===null&&(jt=null,Tt=0,xo()),R}function uO(){for(;yt!==null;)cT(yt)}function lO(r,a){var u=ei;ei|=2;var c=uT(),p=lT();jt!==r||Tt!==a?(pd=null,fd=Qe()+500,Fo(r,a)):Bo=Se(r,a);e:do try{if(Ht!==0&&yt!==null){a=yt;var y=Tn;t:switch(Ht){case 1:Ht=0,Tn=null,qo(r,a,y,1);break;case 2:if(Kc(y)){Ht=0,Tn=null,dT(a);break}a=function(){Ht===2&&jt===r&&(Ht=7),_r(r)},y.then(a,a);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:Kc(y)?(Ht=0,Tn=null,dT(a)):(Ht=0,Tn=null,qo(r,a,y,7));break;case 5:var R=null;switch(yt.tag){case 26:R=yt.memoizedState;case 5:case 27:var G=yt;if(!R||qT(R)){Ht=0,Tn=null;var ne=G.sibling;if(ne!==null)yt=ne;else{var me=G.return;me!==null?(yt=me,yd(me)):yt=null}break t}}Ht=0,Tn=null,qo(r,a,y,5);break;case 6:Ht=0,Tn=null,qo(r,a,y,6);break;case 8:xp(),oi=6;break e;default:throw Error(i(462))}}cO();break}catch(Re){oT(r,Re)}while(!0);return Gr=Oa=null,x.H=c,x.A=p,ei=u,yt!==null?0:(jt=null,Tt=0,xo(),oi)}function cO(){for(;yt!==null&&!Ye();)cT(yt)}function cT(r){var a=Mb(r.alternate,r,Qr);r.memoizedProps=r.pendingProps,a===null?yd(r):yt=a}function dT(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=wb(u,a,a.pendingProps,a.type,void 0,Tt);break;case 11:a=wb(u,a,a.pendingProps,a.type.render,a.ref,Tt);break;case 5:Of(a);default:nT(u,a),a=yt=eT(a,Qr),a=Mb(u,a,Qr)}r.memoizedProps=r.pendingProps,a===null?yd(r):yt=a}function qo(r,a,u,c){Gr=Oa=null,Of(a),bs=null,Ts=0;var p=a.return;try{if(ZD(r,p,a,u,Tt)){oi=1,ad(r,un(u,r.current)),yt=null;return}}catch(y){if(p!==null)throw yt=p,y;oi=1,ad(r,un(u,r.current)),yt=null;return}a.flags&32768?(bt||c===1?r=!0:Bo||(Tt&536870912)!==0?r=!1:(Wr=r=!0,(c===2||c===3||c===6)&&(c=Ue.current,c!==null&&c.tag===13&&(c.flags|=16384))),hT(a,r)):yd(a)}function yd(r){var a=r;do{if((a.flags&32768)!==0){hT(a,Wr);return}r=a.return;var u=nO(a.alternate,a,Qr);if(u!==null){yt=u;return}if(a=a.sibling,a!==null){yt=a;return}yt=a=r}while(a!==null);oi===0&&(oi=5)}function hT(r,a){do{var u=rO(r.alternate,r);if(u!==null){u.flags&=32767,yt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){yt=r;return}yt=r=u}while(r!==null);oi=6,yt=null}function fT(r,a,u,c,p,y,R,G,ne,me){var Re=x.T,Ne=oe.p;try{oe.p=2,x.T=null,dO(r,a,u,c,Ne,p,y,R,G,ne,me)}finally{x.T=Re,oe.p=Ne}}function dO(r,a,u,c,p,y,R,G){do jo();while(Pa!==null);if((ei&6)!==0)throw Error(i(327));var ne=r.finishedWork;if(c=r.finishedLanes,ne===null)return null;if(r.finishedWork=null,r.finishedLanes=0,ne===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var me=ne.lanes|ne.childLanes;if(me|=Ju,Gi(r,c,me,y,R,G),r===jt&&(yt=jt=null,Tt=0),(ne.subtreeFlags&10256)===0&&(ne.flags&10256)===0||md||(md=!0,_p=me,bp=u,mO(Nt,function(){return jo(),null})),u=(ne.flags&15990)!==0,(ne.subtreeFlags&15990)!==0||u?(u=x.T,x.T=null,y=oe.p,oe.p=2,R=ei,ei|=4,eO(r,ne),Kb(ne,r),Yu(Bp,r.containerInfo),Od=!!Ip,Bp=Ip=null,r.current=ne,zb(r,ne.alternate,ne),tt(),ei=R,oe.p=y,x.T=u):r.current=ne,md?(md=!1,Pa=r,bl=c):pT(r,me),me=r.pendingLanes,me===0&&(Ls=null),Bt(ne.stateNode),_r(r),a!==null)for(p=r.onRecoverableError,ne=0;ne<a.length;ne++)me=a[ne],p(me.value,{componentStack:me.stack});return(bl&3)!==0&&jo(),me=r.pendingLanes,(c&4194218)!==0&&(me&42)!==0?r===Tp?Tl++:(Tl=0,Tp=r):Tl=0,Sl(0),null}function pT(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Yn(a)))}function jo(){if(Pa!==null){var r=Pa,a=_p;_p=0;var u=$i(bl),c=x.T,p=oe.p;try{if(oe.p=32>u?32:u,x.T=null,Pa===null)var y=!1;else{u=bp,bp=null;var R=Pa,G=bl;if(Pa=null,bl=0,(ei&6)!==0)throw Error(i(331));var ne=ei;if(ei|=4,Zb(R.current),Yb(R,R.current,G,u),ei=ne,Sl(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Qt,R)}catch{}y=!0}return y}finally{oe.p=p,x.T=c,pT(r,a)}}return!1}function mT(r,a,u){a=un(u,a),a=zf(r.stateNode,a,2),r=As(r,a,2),r!==null&&(Ri(r,2),_r(r))}function qt(r,a,u){if(r.tag===3)mT(r,r,u);else for(;a!==null;){if(a.tag===3){mT(a,r,u);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ls===null||!Ls.has(c))){r=un(u,r),u=vb(2),c=As(a,u,2),c!==null&&(_b(u,c,a,r),Ri(c,2),_r(c));break}}a=a.return}}function wp(r,a,u){var c=r.pingCache;if(c===null){c=r.pingCache=new aO;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(u)||(mp=!0,p.add(u),r=hO.bind(null,r,a,u),a.then(r,r))}function hO(r,a,u){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,jt===r&&(Tt&u)===u&&(oi===4||oi===3&&(Tt&62914560)===Tt&&300>Qe()-vp?(ei&2)===0&&Fo(r,0):gp|=u,Uo===Tt&&(Uo=0)),_r(r)}function gT(r,a){a===0&&(a=Dt()),r=fr(r,a),r!==null&&(Ri(r,a),_r(r))}function fO(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),gT(r,u)}function pO(r,a){var u=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(u=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),gT(r,u)}function mO(r,a){return je(r,a)}var vd=null,Ho=null,Ap=!1,_d=!1,Dp=!1,Na=0;function _r(r){r!==Ho&&r.next===null&&(Ho===null?vd=Ho=r:Ho=Ho.next=r),_d=!0,Ap||(Ap=!0,yO(gO))}function Sl(r,a){if(!Dp&&_d){Dp=!0;do for(var u=!1,c=vd;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var R=c.suspendedLanes,G=c.pingedLanes;y=(1<<31-Gt(42|r)+1)-1,y&=p&~(R&~G),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(u=!0,_T(c,y))}else y=Tt,y=ae(c,c===jt?y:0),(y&3)===0||Se(c,y)||(u=!0,_T(c,y));c=c.next}while(u);Dp=!1}}function gO(){_d=Ap=!1;var r=0;Na!==0&&(CO()&&(r=Na),Na=0);for(var a=Qe(),u=null,c=vd;c!==null;){var p=c.next,y=yT(c,a);y===0?(c.next=null,u===null?vd=p:u.next=p,p===null&&(Ho=u)):(u=c,(r!==0||(y&3)!==0)&&(_d=!0)),c=p}Sl(r)}function yT(r,a){for(var u=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var R=31-Gt(y),G=1<<R,ne=p[R];ne===-1?((G&u)===0||(G&c)!==0)&&(p[R]=qe(G,a)):ne<=a&&(r.expiredLanes|=G),y&=~G}if(a=jt,u=Tt,u=ae(r,r===a?u:0),c=r.callbackNode,u===0||r===a&&Ht===2||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ze(c),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Se(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(c!==null&&ze(c),$i(u)){case 2:case 8:u=pt;break;case 32:u=Nt;break;case 268435456:u=si;break;default:u=Nt}return c=vT.bind(null,r),u=je(u,c),r.callbackPriority=a,r.callbackNode=u,a}return c!==null&&c!==null&&ze(c),r.callbackPriority=2,r.callbackNode=null,2}function vT(r,a){var u=r.callbackNode;if(jo()&&r.callbackNode!==u)return null;var c=Tt;return c=ae(r,r===jt?c:0),c===0?null:(sT(r,c,a),yT(r,Qe()),r.callbackNode!=null&&r.callbackNode===u?vT.bind(null,r):null)}function _T(r,a){if(jo())return null;sT(r,a,!0)}function yO(r){AO(function(){(ei&6)!==0?je(St,r):r()})}function Op(){return Na===0&&(Na=nt()),Na}function bT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:so(""+r)}function TT(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function vO(r,a,u,c,p){if(a==="submit"&&u&&u.stateNode===p){var y=bT((p[ct]||null).action),R=c.submitter;R&&(a=(a=R[ct]||null)?bT(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var G=new uo("action","action",null,c,p);r.push({event:G,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Na!==0){var ne=R?TT(p,R):new FormData(p);Uf(u,{pending:!0,data:ne,method:p.method,action:y},null,ne)}}else typeof y=="function"&&(G.preventDefault(),ne=R?TT(p,R):new FormData(p),Uf(u,{pending:!0,data:ne,method:p.method,action:y},y,ne))},currentTarget:p}]})}}for(var Rp=0;Rp<Zu.length;Rp++){var kp=Zu[Rp],_O=kp.toLowerCase(),bO=kp[0].toUpperCase()+kp.slice(1);mn(_O,"on"+bO)}mn(So,"onAnimationEnd"),mn(qc,"onAnimationIteration"),mn(ys,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Sf,"onTransitionRun"),mn(jc,"onTransitionStart"),mn(Hc,"onTransitionCancel"),mn(zc,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function ST(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var c=r[u],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var R=c.length-1;0<=R;R--){var G=c[R],ne=G.instance,me=G.currentTarget;if(G=G.listener,ne!==y&&p.isPropagationStopped())break e;y=G,p.currentTarget=me;try{y(p)}catch(Re){sd(Re)}p.currentTarget=null,y=ne}else for(R=0;R<c.length;R++){if(G=c[R],ne=G.instance,me=G.currentTarget,G=G.listener,ne!==y&&p.isPropagationStopped())break e;y=G,p.currentTarget=me;try{y(p)}catch(Re){sd(Re)}p.currentTarget=null,y=ne}}}}function _t(r,a){var u=a[mt];u===void 0&&(u=a[mt]=new Set);var c=r+"__bubble";u.has(c)||(xT(a,r,2,!1),u.add(c))}function Mp(r,a,u){var c=0;a&&(c|=4),xT(u,r,c,a)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Lp(r){if(!r[bd]){r[bd]=!0,xc.forEach(function(u){u!=="selectionchange"&&(TO.has(u)||Mp(u,!1,r),Mp(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[bd]||(a[bd]=!0,Mp("selectionchange",!1,a))}}function xT(r,a,u,c){switch($T(a)){case 2:var p=KO;break;case 8:p=XO;break;default:p=$p}u=p.bind(null,a,u,r),p=void 0,!fs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,u,{capture:!0,passive:p}):r.addEventListener(a,u,!0):p!==void 0?r.addEventListener(a,u,{passive:p}):r.addEventListener(a,u,!1)}function Pp(r,a,u,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var G=c.stateNode.containerInfo;if(G===p||G.nodeType===8&&G.parentNode===p)break;if(R===4)for(R=c.return;R!==null;){var ne=R.tag;if((ne===3||ne===4)&&(ne=R.stateNode.containerInfo,ne===p||ne.nodeType===8&&ne.parentNode===p))return;R=R.return}for(;G!==null;){if(R=xt(G),R===null)return;if(ne=R.tag,ne===5||ne===6||ne===26||ne===27){c=y=R;continue e}G=G.parentNode}}c=c.return}Iu(function(){var me=y,Re=ds(u),Ne=[];e:{var Te=Gc.get(r);if(Te!==void 0){var Oe=uo,Je=r;switch(r){case"keypress":if(na(u)===0)break e;case"keydown":case"keyup":Oe=cf;break;case"focusin":Je="focus",Oe=ju;break;case"focusout":Je="blur",Oe=ju;break;case"beforeblur":case"afterblur":Oe=ju;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=da;break;case So:case qc:case ys:Oe=lo;break;case zc:Oe=Fr;break;case"scroll":case"scrollend":Oe=nf;break;case"wheel":Oe=Oc;break;case"copy":case"cut":case"paste":Oe=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=zu;break;case"toggle":case"beforetoggle":Oe=kc}var ot=(a&4)!==0,ui=!ot&&(r==="scroll"||r==="scrollend"),ye=ot?Te!==null?Te+"Capture":null:Te;ot=[];for(var de=me,_e;de!==null;){var Le=de;if(_e=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||_e===null||ye===null||(Le=ia(de,ye),Le!=null&&ot.push(El(de,Le,_e))),ui)break;de=de.return}0<ot.length&&(Te=new Oe(Te,Je,null,u,Re),Ne.push({event:Te,listeners:ot}))}}if((a&7)===0){e:{if(Te=r==="mouseover"||r==="pointerover",Oe=r==="mouseout"||r==="pointerout",Te&&u!==Lu&&(Je=u.relatedTarget||u.fromElement)&&(xt(Je)||Je[sn]))break e;if((Oe||Te)&&(Te=Re.window===Re?Re:(Te=Re.ownerDocument)?Te.defaultView||Te.parentWindow:window,Oe?(Je=u.relatedTarget||u.toElement,Oe=me,Je=Je?xt(Je):null,Je!==null&&(ui=le(Je),ot=Je.tag,Je!==ui||ot!==5&&ot!==27&&ot!==6)&&(Je=null)):(Oe=null,Je=me),Oe!==Je)){if(ot=ua,Le="onMouseLeave",ye="onMouseEnter",de="mouse",(r==="pointerout"||r==="pointerover")&&(ot=zu,Le="onPointerLeave",ye="onPointerEnter",de="pointer"),ui=Oe==null?Te:nr(Oe),_e=Je==null?Te:nr(Je),Te=new ot(Le,de+"leave",Oe,u,Re),Te.target=ui,Te.relatedTarget=_e,Le=null,xt(Re)===me&&(ot=new ot(ye,de+"enter",Je,u,Re),ot.target=_e,ot.relatedTarget=ui,Le=ot),ui=Le,Oe&&Je)t:{for(ot=Oe,ye=Je,de=0,_e=ot;_e;_e=zo(_e))de++;for(_e=0,Le=ye;Le;Le=zo(Le))_e++;for(;0<de-_e;)ot=zo(ot),de--;for(;0<_e-de;)ye=zo(ye),_e--;for(;de--;){if(ot===ye||ye!==null&&ot===ye.alternate)break t;ot=zo(ot),ye=zo(ye)}ot=null}else ot=null;Oe!==null&&ET(Ne,Te,Oe,ot,!1),Je!==null&&ui!==null&&ET(Ne,ui,Je,ot,!0)}}e:{if(Te=me?nr(me):window,Oe=Te.nodeName&&Te.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Te.type==="file")var We=Ic;else if(go(Te))if(Ku)We=bf;else{We=vf;var gt=yf}else Oe=Te.nodeName,!Oe||Oe.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?me&&ro(me.elementType)&&(We=Ic):We=_f;if(We&&(We=We(r,me))){Nc(Ne,We,u,Re);break e}gt&&gt(r,Te,me),r==="focusout"&&me&&Te.type==="number"&&me.memoizedProps.value!=null&&ea(Te,"number",Te.value)}switch(gt=me?nr(me):window,r){case"focusin":(go(gt)||gt.contentEditable==="true")&&(gs=gt,Wu=me,ya=null);break;case"focusout":ya=Wu=gs=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Qu(Ne,u,Re);break;case"selectionchange":if(Tf)break;case"keydown":case"keyup":Qu(Ne,u,Re)}var et;if(Gu)e:{switch(r){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else ur?Pc(r,u)&&(rt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(rt="onCompositionStart");rt&&(Mc&&u.locale!=="ko"&&(ur||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&ur&&(et=Uu()):($n=Re,Bu="value"in $n?$n.value:$n.textContent,ur=!0)),gt=Td(me,rt),0<gt.length&&(rt=new an(rt,r,null,u,Re),Ne.push({event:rt,listeners:gt}),et?rt.data=et:(et=$u(u),et!==null&&(rt.data=et)))),(et=mo?ff(r,u):pf(r,u))&&(rt=Td(me,"onBeforeInput"),0<rt.length&&(gt=new an("onBeforeInput","beforeinput",null,u,Re),Ne.push({event:gt,listeners:rt}),gt.data=et)),vO(Ne,r,me,u,Re)}ST(Ne,a)})}function El(r,a,u){return{instance:r,listener:a,currentTarget:u}}function Td(r,a){for(var u=a+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ia(r,u),p!=null&&c.unshift(El(r,p,y)),p=ia(r,a),p!=null&&c.push(El(r,p,y))),r=r.return}return c}function zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ET(r,a,u,c,p){for(var y=a._reactName,R=[];u!==null&&u!==c;){var G=u,ne=G.alternate,me=G.stateNode;if(G=G.tag,ne!==null&&ne===c)break;G!==5&&G!==26&&G!==27||me===null||(ne=me,p?(me=ia(u,y),me!=null&&R.unshift(El(u,me,ne))):p||(me=ia(u,y),me!=null&&R.push(El(u,me,ne)))),u=u.return}R.length!==0&&r.push({event:a,listeners:R})}var SO=/\r\n?/g,xO=/\u0000|\uFFFD/g;function CT(r){return(typeof r=="string"?r:""+r).replace(SO,`
`).replace(xO,"")}function wT(r,a){return a=CT(a),CT(r)===a}function Sd(){}function Lt(r,a,u,c,p,y){switch(u){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Dn(r,""+c);break;case"className":sr(r,"class",c);break;case"tabIndex":sr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(r,u,c);break;case"style":no(r,c,y);break;case"data":if(a!=="object"){sr(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(u);break}c=so(""+c),r.setAttribute(u,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&Lt(r,a,"name",p.name,p,null),Lt(r,a,"formEncType",p.formEncType,p,null),Lt(r,a,"formMethod",p.formMethod,p,null),Lt(r,a,"formTarget",p.formTarget,p,null)):(Lt(r,a,"encType",p.encType,p,null),Lt(r,a,"method",p.method,p,null),Lt(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(u);break}c=so(""+c),r.setAttribute(u,c);break;case"onClick":c!=null&&(r.onclick=Sd);break;case"onScroll":c!=null&&_t("scroll",r);break;case"onScrollEnd":c!=null&&_t("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(u=c.__html,u!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}u=so(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(u,""+c):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":c===!0?r.setAttribute(u,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(u,c):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(u,c):r.removeAttribute(u);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(u):r.setAttribute(u,c);break;case"popover":_t("beforetoggle",r),_t("toggle",r),Zs(r,"popover",c);break;case"xlinkActuate":Ki(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ki(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ki(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ki(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ki(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ki(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Mu.get(u)||u,Zs(r,u,c))}}function Np(r,a,u,c,p,y){switch(u){case"style":no(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(u=c.__html,u!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof c=="string"?Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&Dn(r,""+c);break;case"onScroll":c!=null&&_t("scroll",r);break;case"onScrollEnd":c!=null&&_t("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ru.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(p=u.endsWith("Capture"),a=u.slice(2,p?u.length-7:void 0),y=r[ct]||null,y=y!=null?y[u]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,c,p);break e}u in r?r[u]=c:c===!0?r.setAttribute(u,""):Zs(r,u,c)}}}function Ni(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",r),_t("load",r);var c=!1,p=!1,y;for(y in u)if(u.hasOwnProperty(y)){var R=u[y];if(R!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Lt(r,a,y,R,u,null)}}p&&Lt(r,a,"srcSet",u.srcSet,u,null),c&&Lt(r,a,"src",u.src,u,null);return;case"input":_t("invalid",r);var G=y=R=p=null,ne=null,me=null;for(c in u)if(u.hasOwnProperty(c)){var Re=u[c];if(Re!=null)switch(c){case"name":p=Re;break;case"type":R=Re;break;case"checked":ne=Re;break;case"defaultChecked":me=Re;break;case"value":y=Re;break;case"defaultValue":G=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,a));break;default:Lt(r,a,c,Re,u,null)}}to(r,y,G,ne,me,R,p,!1),Js(r);return;case"select":_t("invalid",r),c=R=y=null;for(p in u)if(u.hasOwnProperty(p)&&(G=u[p],G!=null))switch(p){case"value":y=G;break;case"defaultValue":R=G;break;case"multiple":c=G;default:Lt(r,a,p,G,u,null)}a=y,u=R,r.multiple=!!c,a!=null?xi(r,!!c,a,!1):u!=null&&xi(r,!!c,u,!0);return;case"textarea":_t("invalid",r),y=p=c=null;for(R in u)if(u.hasOwnProperty(R)&&(G=u[R],G!=null))switch(R){case"value":c=G;break;case"defaultValue":p=G;break;case"children":y=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:Lt(r,a,R,G,u,null)}ta(r,c,p,y),Js(r);return;case"option":for(ne in u)if(u.hasOwnProperty(ne)&&(c=u[ne],c!=null))switch(ne){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Lt(r,a,ne,c,u,null)}return;case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":_t("load",r);break;case"video":case"audio":for(c=0;c<xl.length;c++)_t(xl[c],r);break;case"image":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"embed":case"source":case"link":_t("error",r),_t("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(c=u[me],c!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Lt(r,a,me,c,u,null)}return;default:if(ro(a)){for(Re in u)u.hasOwnProperty(Re)&&(c=u[Re],c!==void 0&&Np(r,a,Re,c,u,void 0));return}}for(G in u)u.hasOwnProperty(G)&&(c=u[G],c!=null&&Lt(r,a,G,c,u,null))}function EO(r,a,u,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,R=null,G=null,ne=null,me=null,Re=null;for(Oe in u){var Ne=u[Oe];if(u.hasOwnProperty(Oe)&&Ne!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":ne=Ne;default:c.hasOwnProperty(Oe)||Lt(r,a,Oe,null,c,Ne)}}for(var Te in c){var Oe=c[Te];if(Ne=u[Te],c.hasOwnProperty(Te)&&(Oe!=null||Ne!=null))switch(Te){case"type":y=Oe;break;case"name":p=Oe;break;case"checked":me=Oe;break;case"defaultChecked":Re=Oe;break;case"value":R=Oe;break;case"defaultValue":G=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,a));break;default:Oe!==Ne&&Lt(r,a,Te,Oe,c,Ne)}}ku(r,R,G,ne,me,Re,y,p);return;case"select":Oe=R=G=Te=null;for(y in u)if(ne=u[y],u.hasOwnProperty(y)&&ne!=null)switch(y){case"value":break;case"multiple":Oe=ne;default:c.hasOwnProperty(y)||Lt(r,a,y,null,c,ne)}for(p in c)if(y=c[p],ne=u[p],c.hasOwnProperty(p)&&(y!=null||ne!=null))switch(p){case"value":Te=y;break;case"defaultValue":G=y;break;case"multiple":R=y;default:y!==ne&&Lt(r,a,p,y,c,ne)}a=G,u=R,c=Oe,Te!=null?xi(r,!!u,Te,!1):!!c!=!!u&&(a!=null?xi(r,!!u,a,!0):xi(r,!!u,u?[]:"",!1));return;case"textarea":Oe=Te=null;for(G in u)if(p=u[G],u.hasOwnProperty(G)&&p!=null&&!c.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Lt(r,a,G,null,c,p)}for(R in c)if(p=c[R],y=u[R],c.hasOwnProperty(R)&&(p!=null||y!=null))switch(R){case"value":Te=p;break;case"defaultValue":Oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Lt(r,a,R,p,c,y)}wc(r,Te,Oe);return;case"option":for(var Je in u)if(Te=u[Je],u.hasOwnProperty(Je)&&Te!=null&&!c.hasOwnProperty(Je))switch(Je){case"selected":r.selected=!1;break;default:Lt(r,a,Je,null,c,Te)}for(ne in c)if(Te=c[ne],Oe=u[ne],c.hasOwnProperty(ne)&&Te!==Oe&&(Te!=null||Oe!=null))switch(ne){case"selected":r.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Lt(r,a,ne,Te,c,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in u)Te=u[ot],u.hasOwnProperty(ot)&&Te!=null&&!c.hasOwnProperty(ot)&&Lt(r,a,ot,null,c,Te);for(me in c)if(Te=c[me],Oe=u[me],c.hasOwnProperty(me)&&Te!==Oe&&(Te!=null||Oe!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,a));break;default:Lt(r,a,me,Te,c,Oe)}return;default:if(ro(a)){for(var ui in u)Te=u[ui],u.hasOwnProperty(ui)&&Te!==void 0&&!c.hasOwnProperty(ui)&&Np(r,a,ui,void 0,c,Te);for(Re in c)Te=c[Re],Oe=u[Re],!c.hasOwnProperty(Re)||Te===Oe||Te===void 0&&Oe===void 0||Np(r,a,Re,Te,c,Oe);return}}for(var ye in u)Te=u[ye],u.hasOwnProperty(ye)&&Te!=null&&!c.hasOwnProperty(ye)&&Lt(r,a,ye,null,c,Te);for(Ne in c)Te=c[Ne],Oe=u[Ne],!c.hasOwnProperty(Ne)||Te===Oe||Te==null&&Oe==null||Lt(r,a,Ne,Te,c,Oe)}var Ip=null,Bp=null;function xd(r){return r.nodeType===9?r:r.ownerDocument}function AT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DT(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Up(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fp=null;function CO(){var r=window.event;return r&&r.type==="popstate"?r===Fp?!1:(Fp=r,!0):(Fp=null,!1)}var OT=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,AO=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(r){return RT.resolve(null).then(r).catch(DO)}:OT;function DO(r){setTimeout(function(){throw r})}function qp(r,a){var u=a,c=0;do{var p=u.nextSibling;if(r.removeChild(u),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(c===0){r.removeChild(p),Ml(a);return}c--}else u!=="$"&&u!=="$?"&&u!=="$!"||c++;u=p}while(u);Ml(a)}function jp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jp(u),Gn(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function OO(r,a,u,c){for(;r.nodeType===1;){var p=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ws])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Qn(r.nextSibling),r===null)break}return null}function RO(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Qn(r.nextSibling),r===null))return null;return r}function Qn(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function kT(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return r;a--}else u==="/$"&&a++}r=r.previousSibling}return null}function MT(r,a,u){switch(a=xd(u),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var In=new Map,LT=new Set;function Ed(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Jr=oe.d;oe.d={f:kO,r:MO,D:LO,C:PO,L:NO,m:IO,X:UO,S:BO,M:FO};function kO(){var r=Jr.f(),a=gd();return r||a}function MO(r){var a=Nr(r);a!==null&&a.tag===5&&a.type==="form"?ab(a):Jr.r(r)}var Go=typeof document>"u"?null:document;function PT(r,a,u){var c=Go;if(c&&typeof a=="string"&&a){var p=ki(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof u=="string"&&(p+='[crossorigin="'+u+'"]'),LT.has(p)||(LT.add(p),r={rel:r,crossOrigin:u,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Ni(a,"link",r),pi(a),c.head.appendChild(a)))}}function LO(r){Jr.D(r),PT("dns-prefetch",r,null)}function PO(r,a){Jr.C(r,a),PT("preconnect",r,a)}function NO(r,a,u){Jr.L(r,a,u);var c=Go;if(c&&r&&a){var p='link[rel="preload"][as="'+ki(a)+'"]';a==="image"&&u&&u.imageSrcSet?(p+='[imagesrcset="'+ki(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(p+='[imagesizes="'+ki(u.imageSizes)+'"]')):p+='[href="'+ki(r)+'"]';var y=p;switch(a){case"style":y=Vo(r);break;case"script":y=$o(r)}In.has(y)||(r=S({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),In.set(y,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(Cl(y))||a==="script"&&c.querySelector(wl(y))||(a=c.createElement("link"),Ni(a,"link",r),pi(a),c.head.appendChild(a)))}}function IO(r,a){Jr.m(r,a);var u=Go;if(u&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+ki(c)+'"][href="'+ki(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(r)}if(!In.has(y)&&(r=S({rel:"modulepreload",href:r},a),In.set(y,r),u.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(wl(y)))return}c=u.createElement("link"),Ni(c,"link",r),pi(c),u.head.appendChild(c)}}}function BO(r,a,u){Jr.S(r,a,u);var c=Go;if(c&&r){var p=ls(c).hoistableStyles,y=Vo(r);a=a||"default";var R=p.get(y);if(!R){var G={loading:0,preload:null};if(R=c.querySelector(Cl(y)))G.loading=5;else{r=S({rel:"stylesheet",href:r,"data-precedence":a},u),(u=In.get(y))&&Hp(r,u);var ne=R=c.createElement("link");pi(ne),Ni(ne,"link",r),ne._p=new Promise(function(me,Re){ne.onload=me,ne.onerror=Re}),ne.addEventListener("load",function(){G.loading|=1}),ne.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Cd(R,a,c)}R={type:"stylesheet",instance:R,count:1,state:G},p.set(y,R)}}}function UO(r,a){Jr.X(r,a);var u=Go;if(u&&r){var c=ls(u).hoistableScripts,p=$o(r),y=c.get(p);y||(y=u.querySelector(wl(p)),y||(r=S({src:r,async:!0},a),(a=In.get(p))&&zp(r,a),y=u.createElement("script"),pi(y),Ni(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function FO(r,a){Jr.M(r,a);var u=Go;if(u&&r){var c=ls(u).hoistableScripts,p=$o(r),y=c.get(p);y||(y=u.querySelector(wl(p)),y||(r=S({src:r,async:!0,type:"module"},a),(a=In.get(p))&&zp(r,a),y=u.createElement("script"),pi(y),Ni(y,"link",r),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function NT(r,a,u,c){var p=(p=he.current)?Ed(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Vo(u.href),u=ls(p).hoistableStyles,c=u.get(a),c||(c={type:"style",instance:null,count:0,state:null},u.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Vo(u.href);var y=ls(p).hoistableStyles,R=y.get(r);if(R||(p=p.ownerDocument||p,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,R),(y=p.querySelector(Cl(r)))&&!y._p&&(R.instance=y,R.state.loading=5),In.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},In.set(r,u),y||qO(p,r,u,R.state))),a&&c===null)throw Error(i(528,""));return R}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$o(u),u=ls(p).hoistableScripts,c=u.get(a),c||(c={type:"script",instance:null,count:0,state:null},u.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Vo(r){return'href="'+ki(r)+'"'}function Cl(r){return'link[rel="stylesheet"]['+r+"]"}function IT(r){return S({},r,{"data-precedence":r.precedence,precedence:null})}function qO(r,a,u,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Ni(a,"link",u),pi(a),r.head.appendChild(a))}function $o(r){return'[src="'+ki(r)+'"]'}function wl(r){return"script[async]"+r}function BT(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+ki(u.href)+'"]');if(c)return a.instance=c,pi(c),c;var p=S({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),pi(c),Ni(c,"style",p),Cd(c,u.precedence,r),a.instance=c;case"stylesheet":p=Vo(u.href);var y=r.querySelector(Cl(p));if(y)return a.state.loading|=4,a.instance=y,pi(y),y;c=IT(u),(p=In.get(p))&&Hp(c,p),y=(r.ownerDocument||r).createElement("link"),pi(y);var R=y;return R._p=new Promise(function(G,ne){R.onload=G,R.onerror=ne}),Ni(y,"link",c),a.state.loading|=4,Cd(y,u.precedence,r),a.instance=y;case"script":return y=$o(u.src),(p=r.querySelector(wl(y)))?(a.instance=p,pi(p),p):(c=u,(p=In.get(y))&&(c=S({},u),zp(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),pi(p),Ni(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Cd(c,u.precedence,r));return a.instance}function Cd(r,a,u){for(var c=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,R=0;R<c.length;R++){var G=c[R];if(G.dataset.precedence===a)y=G;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function Hp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function zp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var wd=null;function UT(r,a,u){if(wd===null){var c=new Map,p=wd=new Map;p.set(u,c)}else p=wd,c=p.get(u),c||(c=new Map,p.set(u,c));if(c.has(r))return c;for(c.set(r,null),u=u.getElementsByTagName(r),p=0;p<u.length;p++){var y=u[p];if(!(y[Ws]||y[Ut]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=r+R;var G=c.get(R);G?G.push(y):c.set(R,[y])}}return c}function FT(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function jO(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function qT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Al=null;function HO(){}function zO(r,a,u){if(Al===null)throw Error(i(475));var c=Al;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Vo(u.href),y=r.querySelector(Cl(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Ad.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=y,pi(y);return}y=r.ownerDocument||r,u=IT(u),(p=In.get(p))&&Hp(u,p),y=y.createElement("link"),pi(y);var R=y;R._p=new Promise(function(G,ne){R.onload=G,R.onerror=ne}),Ni(y,"link",u),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Ad.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function GO(){if(Al===null)throw Error(i(475));var r=Al;return r.stylesheets&&r.count===0&&Gp(r,r.stylesheets),0<r.count?function(a){var u=setTimeout(function(){if(r.stylesheets&&Gp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Ad(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Dd=null;function Gp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Dd=new Map,a.forEach(VO,r),Dd=null,Ad.call(r))}function VO(r,a){if(!(a.state.loading&4)){var u=Dd.get(r);if(u)var c=u.get(null);else{u=new Map,Dd.set(r,u);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var R=p[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),c=R)}c&&u.set(null,c)}p=a.instance,R=p.getAttribute("data-precedence"),y=u.get(R)||c,y===c&&u.set(null,p),u.set(R,p),this.count++,c=Ad.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var Dl={$$typeof:k,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function $O(r,a,u,c,p,y,R,G){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function jT(r,a,u,c,p,y,R,G,ne,me,Re,Ne){return r=new $O(r,a,u,R,G,ne,me,Ne),a=1,y===!0&&(a|=24),y=Pn(3,null,null,a),r.current=y,y.stateNode=r,a=Rt(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:u,cache:a},ip(y),r}function HT(r){return r?(r=vs,r):vs}function zT(r,a,u,c,p,y){p=HT(p),c.context===null?c.context=p:c.pendingContext=p,c=ws(a),c.payload={element:u},y=y===void 0?null:y,y!==null&&(c.callback=y),u=As(r,c,a),u!==null&&(Qi(u,r,a),dl(u,r,a))}function GT(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Vp(r,a){GT(r,a),(r=r.alternate)&&GT(r,a)}function VT(r){if(r.tag===13){var a=fr(r,67108864);a!==null&&Qi(a,r,67108864),Vp(r,67108864)}}var Od=!0;function KO(r,a,u,c){var p=x.T;x.T=null;var y=oe.p;try{oe.p=2,$p(r,a,u,c)}finally{oe.p=y,x.T=p}}function XO(r,a,u,c){var p=x.T;x.T=null;var y=oe.p;try{oe.p=8,$p(r,a,u,c)}finally{oe.p=y,x.T=p}}function $p(r,a,u,c){if(Od){var p=Kp(c);if(p===null)Pp(r,a,c,Rd,u),KT(r,c);else if(WO(p,r,a,u,c))c.stopPropagation();else if(KT(r,c),a&4&&-1<YO.indexOf(r)){for(;p!==null;){var y=Nr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=V(y.pendingLanes);if(R!==0){var G=y;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var ne=1<<31-Gt(R);G.entanglements[1]|=ne,R&=~ne}_r(y),(ei&6)===0&&(fd=Qe()+500,Sl(0))}}break;case 13:G=fr(y,2),G!==null&&Qi(G,y,2),gd(),Vp(y,2)}if(y=Kp(c),y===null&&Pp(r,a,c,Rd,u),y===p)break;p=y}p!==null&&c.stopPropagation()}else Pp(r,a,c,null,u)}}function Kp(r){return r=ds(r),Xp(r)}var Rd=null;function Xp(r){if(Rd=null,r=xt(r),r!==null){var a=le(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=$(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Rd=r,null}function $T(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case St:return 2;case pt:return 8;case Nt:case wt:return 32;case si:return 268435456;default:return 32}default:return 32}}var Yp=!1,Ps=null,Ns=null,Is=null,Ol=new Map,Rl=new Map,Bs=[],YO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KT(r,a){switch(r){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Ol.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(a.pointerId)}}function kl(r,a,u,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:u,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Nr(a),a!==null&&VT(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function WO(r,a,u,c,p){switch(a){case"focusin":return Ps=kl(Ps,r,a,u,c,p),!0;case"dragenter":return Ns=kl(Ns,r,a,u,c,p),!0;case"mouseover":return Is=kl(Is,r,a,u,c,p),!0;case"pointerover":var y=p.pointerId;return Ol.set(y,kl(Ol.get(y)||null,r,a,u,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Rl.set(y,kl(Rl.get(y)||null,r,a,u,c,p)),!0}return!1}function XT(r){var a=xt(r.target);if(a!==null){var u=le(a);if(u!==null){if(a=u.tag,a===13){if(a=$(u),a!==null){r.blockedOn=a,rn(r.priority,function(){if(u.tag===13){var c=Sn(),p=fr(u,c);p!==null&&Qi(p,u,c),Vp(u,c)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Kp(r.nativeEvent);if(u===null){u=r.nativeEvent;var c=new u.constructor(u.type,u);Lu=c,u.target.dispatchEvent(c),Lu=null}else return a=Nr(u),a!==null&&VT(a),r.blockedOn=u,!1;a.shift()}return!0}function YT(r,a,u){kd(r)&&u.delete(a)}function QO(){Yp=!1,Ps!==null&&kd(Ps)&&(Ps=null),Ns!==null&&kd(Ns)&&(Ns=null),Is!==null&&kd(Is)&&(Is=null),Ol.forEach(YT),Rl.forEach(YT)}function Md(r,a){r.blockedOn===a&&(r.blockedOn=null,Yp||(Yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QO)))}var Ld=null;function WT(r){Ld!==r&&(Ld=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ld===r&&(Ld=null);for(var a=0;a<r.length;a+=3){var u=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(Xp(c||u)===null)continue;break}var y=Nr(u);y!==null&&(r.splice(a,3),a-=3,Uf(y,{pending:!0,data:p,method:u.method,action:c},c,p))}}))}function Ml(r){function a(ne){return Md(ne,r)}Ps!==null&&Md(Ps,r),Ns!==null&&Md(Ns,r),Is!==null&&Md(Is,r),Ol.forEach(a),Rl.forEach(a);for(var u=0;u<Bs.length;u++){var c=Bs[u];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Bs.length&&(u=Bs[0],u.blockedOn===null);)XT(u),u.blockedOn===null&&Bs.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(c=0;c<u.length;c+=3){var p=u[c],y=u[c+1],R=p[ct]||null;if(typeof y=="function")R||WT(u);else if(R){var G=null;if(y&&y.hasAttribute("formAction")){if(p=y,R=y[ct]||null)G=R.formAction;else if(Xp(p)!==null)continue}else G=R.action;typeof G=="function"?u[c+1]=G:(u.splice(c,3),c-=3),WT(u)}}}function Wp(r){this._internalRoot=r}Pd.prototype.render=Wp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,c=Sn();zT(u,c,r,a,null,null)},Pd.prototype.unmount=Wp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&jo(),zT(r.current,2,null,r,null,null),gd(),a[sn]=null}};function Pd(r){this._internalRoot=r}Pd.prototype.unstable_scheduleHydration=function(r){if(r){var a=Vt();r={blockedOn:null,target:r,priority:a};for(var u=0;u<Bs.length&&a!==0&&a<Bs[u].priority;u++);Bs.splice(u,0,r),u===0&&XT(r)}};var QT=e.version;if(QT!=="19.0.0")throw Error(i(527,QT,"19.0.0"));oe.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=M(a),r=r!==null?se(r):null,r=r===null?null:r.stateNode,r};var ZO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:x,findFiberByHostInstance:xt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{Qt=Nd.inject(ZO),It=Nd}catch{}}return Pl.createRoot=function(r,a){if(!s(r))throw Error(i(299));var u=!1,c="",p=pb,y=mb,R=gb,G=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(G=a.unstable_transitionCallbacks)),a=jT(r,1,!1,null,null,u,c,p,y,R,G,null),r[sn]=a.current,Lp(r.nodeType===8?r.parentNode:r),new Wp(a)},Pl.hydrateRoot=function(r,a,u){if(!s(r))throw Error(i(299));var c=!1,p="",y=pb,R=mb,G=gb,ne=null,me=null;return u!=null&&(u.unstable_strictMode===!0&&(c=!0),u.identifierPrefix!==void 0&&(p=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ne=u.unstable_transitionCallbacks),u.formState!==void 0&&(me=u.formState)),a=jT(r,1,!0,a,u??null,c,p,y,R,G,ne,me),a.context=HT(null),u=a.current,c=Sn(),p=ws(c),p.callback=null,As(u,p,c),a.current.lanes=c,Ri(a,c),_r(a),r[sn]=a.current,Lp(r),new Pd(a)},Pl.version="19.0.0",Pl}var o1;function uR(){if(o1)return Jp.exports;o1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jp.exports=oR(),Jp.exports}var lR=uR(),Nl={},u1;function cR(){if(u1)return Nl;u1=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=l,Nl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const L=function(){};return L.prototype=Object.create(null),L})();function l(L,k){const j=new o,A=L.length;if(A<2)return j;const I=(k==null?void 0:k.decode)||b;let P=0;do{const H=L.indexOf("=",P);if(H===-1)break;const q=L.indexOf(";",P),Q=q===-1?A:q;if(H>Q){P=L.lastIndexOf(";",H-1)+1;continue}const O=d(L,P,H),N=h(L,H,O),F=L.slice(O,N);if(j[F]===void 0){let J=d(L,H+1,Q),x=h(L,Q,J);const S=I(L.slice(J,x));j[F]=S}P=Q+1}while(P<A);return j}function d(L,k,j){do{const A=L.charCodeAt(k);if(A!==32&&A!==9)return k}while(++k<j);return j}function h(L,k,j){for(;k>j;){const A=L.charCodeAt(--k);if(A!==32&&A!==9)return k+1}return j}function m(L,k,j){const A=(j==null?void 0:j.encode)||encodeURIComponent;if(!n.test(L))throw new TypeError(`argument name is invalid: ${L}`);const I=A(k);if(!e.test(I))throw new TypeError(`argument val is invalid: ${k}`);let P=L+"="+I;if(!j)return P;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);P+="; Max-Age="+j.maxAge}if(j.domain){if(!t.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);P+="; Domain="+j.domain}if(j.path){if(!i.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);P+="; Path="+j.path}if(j.expires){if(!w(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);P+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(P+="; HttpOnly"),j.secure&&(P+="; Secure"),j.partitioned&&(P+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return P}function b(L){if(L.indexOf("%")===-1)return L;try{return decodeURIComponent(L)}catch{return L}}function w(L){return s.call(L)==="[object Date]"}return Nl}cR();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l1="popstate";function dR(n={}){function e(i,s){let{pathname:o,search:l,hash:d}=i.location;return Qy("",{pathname:o,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:nc(s)}return fR(e,t,null,n)}function ii(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ar(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substring(2,10)}function c1(n,e){return{usr:n.state,key:n.key,idx:e}}function Qy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_u(e):e,state:t,key:e&&e.key||i||hR()}}function nc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _u(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fR(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,d="POP",h=null,m=b();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function b(){return(l.state||{idx:null}).idx}function w(){d="POP";let I=b(),P=I==null?null:I-m;m=I,h&&h({action:d,location:A.location,delta:P})}function L(I,P){d="PUSH";let H=Qy(A.location,I,P);m=b()+1;let q=c1(H,m),Q=A.createHref(H);try{l.pushState(q,"",Q)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(Q)}o&&h&&h({action:d,location:A.location,delta:1})}function k(I,P){d="REPLACE";let H=Qy(A.location,I,P);m=b();let q=c1(H,m),Q=A.createHref(H);l.replaceState(q,"",Q),o&&h&&h({action:d,location:A.location,delta:0})}function j(I){let P=s.location.origin!=="null"?s.location.origin:s.location.href,H=typeof I=="string"?I:nc(I);return H=H.replace(/ $/,"%20"),ii(P,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,P)}let A={get action(){return d},get location(){return n(s,l)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(l1,w),h=I,()=>{s.removeEventListener(l1,w),h=null}},createHref(I){return e(s,I)},createURL:j,encodeLocation(I){let P=j(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:L,replace:k,go(I){return l.go(I)}};return A}function mC(n,e,t="/"){return pR(n,e,t,!1)}function pR(n,e,t,i){let s=typeof e=="string"?_u(e):e,o=ss(s.pathname||"/",t);if(o==null)return null;let l=gC(n);mR(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let m=wR(o);d=ER(l[h],m,i)}return d}function gC(n,e=[],t=[],i=""){let s=(o,l,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ii(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=ns([i,h.relativePath]),b=t.concat(h);o.children&&o.children.length>0&&(ii(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gC(o.children,e,b,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:SR(m,o.index),routesMeta:b})};return n.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,l);else for(let h of yC(o.path))s(o,l,h)}),e}function yC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=yC(i.join("/")),d=[];return d.push(...l.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...l),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function mR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gR=/^:[\w-]+$/,yR=3,vR=2,_R=1,bR=10,TR=-2,d1=n=>n==="*";function SR(n,e){let t=n.split("/"),i=t.length;return t.some(d1)&&(i+=TR),e&&(i+=vR),t.filter(s=>!d1(s)).reduce((s,o)=>s+(gR.test(o)?yR:o===""?_R:bR),i)}function xR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function ER(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let d=0;d<i.length;++d){let h=i[d],m=d===i.length-1,b=o==="/"?e:e.slice(o.length)||"/",w=Qd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},b),L=h.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=Qd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},b)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:ns([o,w.pathname]),pathnameBase:RR(ns([o,w.pathnameBase])),route:L}),w.pathnameBase!=="/"&&(o=ns([o,w.pathnameBase]))}return l}function Qd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=CR(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:b,isOptional:w},L)=>{if(b==="*"){let j=d[L]||"";l=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const k=d[L];return w&&!k?m[b]=void 0:m[b]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:n}}function CR(n,e=!1,t=!0){Ar(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function wR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ss(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AR(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?_u(n):n;return{pathname:t?t.startsWith("/")?t:DR(t,e):e,search:kR(i),hash:MR(s)}}function DR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function nm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vC(n){let e=OR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function _C(n,e,t,i=!1){let s;typeof n=="string"?s=_u(n):(s={...n},ii(!s.pathname||!s.pathname.includes("?"),nm("?","pathname","search",s)),ii(!s.pathname||!s.pathname.includes("#"),nm("#","pathname","hash",s)),ii(!s.search||!s.search.includes("#"),nm("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,d;if(l==null)d=t;else{let w=e.length-1;if(!i&&l.startsWith("..")){let L=l.split("/");for(;L[0]==="..";)L.shift(),w-=1;s.pathname=L.join("/")}d=w>=0?e[w]:"/"}let h=AR(s,d),m=l&&l!=="/"&&l.endsWith("/"),b=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||b)&&(h.pathname+="/"),h}var ns=n=>n.join("/").replace(/\/\/+/g,"/"),RR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bC=["POST","PUT","PATCH","DELETE"];new Set(bC);var PR=["GET",...bC];new Set(PR);var bu=De.createContext(null);bu.displayName="DataRouter";var Sh=De.createContext(null);Sh.displayName="DataRouterState";var TC=De.createContext({isTransitioning:!1});TC.displayName="ViewTransition";var NR=De.createContext(new Map);NR.displayName="Fetchers";var IR=De.createContext(null);IR.displayName="Await";var kr=De.createContext(null);kr.displayName="Navigation";var uc=De.createContext(null);uc.displayName="Location";var os=De.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var wv=De.createContext(null);wv.displayName="RouteError";function BR(n,{relative:e}={}){ii(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=De.useContext(kr),{hash:s,pathname:o,search:l}=cc(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:ns([t,o])),i.createHref({pathname:d,search:l,hash:s})}function lc(){return De.useContext(uc)!=null}function Ks(){return ii(lc(),"useLocation() may be used only in the context of a <Router> component."),De.useContext(uc).location}var SC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xC(n){De.useContext(kr).static||De.useLayoutEffect(n)}function Tu(){let{isDataRoute:n}=De.useContext(os);return n?WR():UR()}function UR(){ii(lc(),"useNavigate() may be used only in the context of a <Router> component.");let n=De.useContext(bu),{basename:e,navigator:t}=De.useContext(kr),{matches:i}=De.useContext(os),{pathname:s}=Ks(),o=JSON.stringify(vC(i)),l=De.useRef(!1);return xC(()=>{l.current=!0}),De.useCallback((h,m={})=>{if(Ar(l.current,SC),!l.current)return;if(typeof h=="number"){t.go(h);return}let b=_C(h,JSON.parse(o),s,m.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ns([e,b.pathname])),(m.replace?t.replace:t.push)(b,m.state,m)},[e,t,o,s,n])}De.createContext(null);function cc(n,{relative:e}={}){let{matches:t}=De.useContext(os),{pathname:i}=Ks(),s=JSON.stringify(vC(t));return De.useMemo(()=>_C(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function FR(n,e){return EC(n,e)}function EC(n,e,t,i){var H;ii(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=De.useContext(kr),{matches:l}=De.useContext(os),d=l[l.length-1],h=d?d.params:{},m=d?d.pathname:"/",b=d?d.pathnameBase:"/",w=d&&d.route;{let q=w&&w.path||"";CC(m,!w||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let L=Ks(),k;if(e){let q=typeof e=="string"?_u(e):e;ii(b==="/"||((H=q.pathname)==null?void 0:H.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${q.pathname}" was given in the \`location\` prop.`),k=q}else k=L;let j=k.pathname||"/",A=j;if(b!=="/"){let q=b.replace(/^\//,"").split("/");A="/"+j.replace(/^\//,"").split("/").slice(q.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:mC(n,{pathname:A});Ar(w||I!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ar(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=GR(I&&I.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:ns([b,s.encodeLocation?s.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?b:ns([b,s.encodeLocation?s.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i);return e&&P?De.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},P):P}function qR(){let n=YR(),e=LR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=De.createElement(De.Fragment,null,De.createElement("p",null," Hey developer "),De.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",De.createElement("code",{style:o},"ErrorBoundary")," or"," ",De.createElement("code",{style:o},"errorElement")," prop on your route.")),De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},e),t?De.createElement("pre",{style:s},t):null,l)}var jR=De.createElement(qR,null),HR=class extends De.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?De.createElement(os.Provider,{value:this.props.routeContext},De.createElement(wv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zR({routeContext:n,match:e,children:t}){let i=De.useContext(bu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),De.createElement(os.Provider,{value:n},t)}function GR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ii(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,d=-1;if(t)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:b,errors:w}=t,L=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||L){l=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,m,b)=>{let w,L=!1,k=null,j=null;t&&(w=o&&m.route.id?o[m.route.id]:void 0,k=m.route.errorElement||jR,l&&(d<0&&b===0?(CC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,j=null):d===b&&(L=!0,j=m.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,b+1)),I=()=>{let P;return w?P=k:L?P=j:m.route.Component?P=De.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,De.createElement(zR,{match:m,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:P})};return t&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?De.createElement(HR,{location:t.location,revalidation:t.revalidation,component:k,error:w,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function Av(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(n){let e=De.useContext(bu);return ii(e,Av(n)),e}function $R(n){let e=De.useContext(Sh);return ii(e,Av(n)),e}function KR(n){let e=De.useContext(os);return ii(e,Av(n)),e}function Dv(n){let e=KR(n),t=e.matches[e.matches.length-1];return ii(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function XR(){return Dv("useRouteId")}function YR(){var i;let n=De.useContext(wv),e=$R("useRouteError"),t=Dv("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function WR(){let{router:n}=VR("useNavigate"),e=Dv("useNavigate"),t=De.useRef(!1);return xC(()=>{t.current=!0}),De.useCallback(async(s,o={})=>{Ar(t.current,SC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var h1={};function CC(n,e,t){!e&&!h1[n]&&(h1[n]=!0,Ar(!1,t))}De.memo(QR);function QR({routes:n,future:e,state:t}){return EC(n,void 0,t,e)}function Vl(n){ii(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){ii(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),d=De.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=_u(t));let{pathname:h="/",search:m="",hash:b="",state:w=null,key:L="default"}=t,k=De.useMemo(()=>{let j=ss(h,l);return j==null?null:{location:{pathname:j,search:m,hash:b,state:w,key:L},navigationType:i}},[l,h,m,b,w,L,i]);return Ar(k!=null,`<Router basename="${l}"> is not able to match the URL "${h}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:De.createElement(kr.Provider,{value:d},De.createElement(uc.Provider,{children:e,value:k}))}function JR({children:n,location:e}){return FR(Zy(n),e)}function Zy(n,e=[]){let t=[];return De.Children.forEach(n,(i,s)=>{if(!De.isValidElement(i))return;let o=[...e,s];if(i.type===De.Fragment){t.push.apply(t,Zy(i.props.children,o));return}ii(i.type===Vl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ii(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Zy(i.props.children,o)),t.push(l)}),t}var Vd="get",$d="application/x-www-form-urlencoded";function xh(n){return n!=null&&typeof n.tagName=="string"}function ek(n){return xh(n)&&n.tagName.toLowerCase()==="button"}function tk(n){return xh(n)&&n.tagName.toLowerCase()==="form"}function ik(n){return xh(n)&&n.tagName.toLowerCase()==="input"}function nk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rk(n,e){return n.button===0&&(!e||e==="_self")&&!nk(n)}var Id=null;function sk(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var ak=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(n){return n!=null&&!ak.has(n)?(Ar(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):n}function ok(n,e){let t,i,s,o,l;if(tk(n)){let d=n.getAttribute("action");i=d?ss(d,e):null,t=n.getAttribute("method")||Vd,s=rm(n.getAttribute("enctype"))||$d,o=new FormData(n)}else if(ek(n)||ik(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(i=h?ss(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Vd,s=rm(n.getAttribute("formenctype"))||rm(d.getAttribute("enctype"))||$d,o=new FormData(d,n),!sk()){let{name:m,type:b,value:w}=n;if(b==="image"){let L=m?`${m}.`:"";o.append(`${L}x`,"0"),o.append(`${L}y`,"0")}else m&&o.append(m,w)}}else{if(xh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vd,i=null,s=$d,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:l}}function Ov(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ck(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await uk(o,t);return l.links?l.links():[]}return[]}));return pk(i.flat(1).filter(lk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function f1(n,e,t,i,s,o){let l=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,d=(h,m)=>{var b;return t[m].pathname!==h.pathname||((b=t[m].route.path)==null?void 0:b.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,m)=>l(h,m)||d(h,m)):o==="data"?e.filter((h,m)=>{var w;let b=i.routes[h.route.id];if(!b||!b.hasLoader)return!1;if(l(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let L=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof L=="boolean")return L}return!0}):[]}function dk(n,e,{includeHydrateFallback:t}={}){return hk(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function hk(n){return[...new Set(n)]}function fk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pk(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(fk(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function mk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ss(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function wC(){let n=De.useContext(bu);return Ov(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gk(){let n=De.useContext(Sh);return Ov(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Rv=De.createContext(void 0);Rv.displayName="FrameworkContext";function AC(){let n=De.useContext(Rv);return Ov(n,"You must render this element inside a <HydratedRouter> element"),n}function yk(n,e){let t=De.useContext(Rv),[i,s]=De.useState(!1),[o,l]=De.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:b,onTouchStart:w}=e,L=De.useRef(null);De.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=P=>{P.forEach(H=>{l(H.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return L.current&&I.observe(L.current),()=>{I.disconnect()}}},[n]),De.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let k=()=>{s(!0)},j=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,L,{}]:[o,L,{onFocus:Il(d,k),onBlur:Il(h,j),onMouseEnter:Il(m,k),onMouseLeave:Il(b,j),onTouchStart:Il(w,k)}]:[!1,L,{}]}function Il(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vk({page:n,...e}){let{router:t}=wC(),i=De.useMemo(()=>mC(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?De.createElement(bk,{page:n,matches:i,...e}):null}function _k(n){let{manifest:e,routeModules:t}=AC(),[i,s]=De.useState([]);return De.useEffect(()=>{let o=!1;return ck(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),i}function bk({page:n,matches:e,...t}){let i=Ks(),{manifest:s,routeModules:o}=AC(),{basename:l}=wC(),{loaderData:d,matches:h}=gk(),m=De.useMemo(()=>f1(n,e,h,s,i,"data"),[n,e,h,s,i]),b=De.useMemo(()=>f1(n,e,h,s,i,"assets"),[n,e,h,s,i]),w=De.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let j=new Set,A=!1;if(e.forEach(P=>{var q;let H=s.routes[P.route.id];!H||!H.hasLoader||(!m.some(Q=>Q.route.id===P.route.id)&&P.route.id in d&&((q=o[P.route.id])!=null&&q.shouldRevalidate)||H.hasClientLoader?A=!0:j.add(P.route.id))}),j.size===0)return[];let I=mk(n,l);return A&&j.size>0&&I.searchParams.set("_routes",e.filter(P=>j.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[l,d,i,s,m,e,n,o]),L=De.useMemo(()=>dk(b,s),[b,s]),k=_k(b);return De.createElement(De.Fragment,null,w.map(j=>De.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),L.map(j=>De.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),k.map(({key:j,link:A})=>De.createElement("link",{key:j,...A})))}function Tk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DC&&(window.__reactRouterVersion="7.3.0")}catch{}function Sk({basename:n,children:e,window:t}){let i=De.useRef();i.current==null&&(i.current=dR({window:t,v5Compat:!0}));let s=i.current,[o,l]=De.useState({action:s.action,location:s.location}),d=De.useCallback(h=>{De.startTransition(()=>l(h))},[l]);return De.useLayoutEffect(()=>s.listen(d),[s,d]),De.createElement(ZR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var OC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RC=De.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:d,target:h,to:m,preventScrollReset:b,viewTransition:w,...L},k){let{basename:j}=De.useContext(kr),A=typeof m=="string"&&OC.test(m),I,P=!1;if(typeof m=="string"&&A&&(I=m,DC))try{let x=new URL(window.location.href),S=m.startsWith("//")?new URL(x.protocol+m):new URL(m),z=ss(S.pathname,j);S.origin===x.origin&&z!=null?m=z+S.search+S.hash:P=!0}catch{Ar(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=BR(m,{relative:s}),[q,Q,O]=yk(i,L),N=wk(m,{replace:l,state:d,target:h,preventScrollReset:b,relative:s,viewTransition:w});function F(x){e&&e(x),x.defaultPrevented||N(x)}let J=De.createElement("a",{...L,...O,href:I||H,onClick:P||o?e:F,ref:Tk(k,Q),target:h,"data-discover":!A&&t==="render"?"true":void 0});return q&&!A?De.createElement(De.Fragment,null,J,De.createElement(vk,{page:H})):J});RC.displayName="Link";var xk=De.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:d,children:h,...m},b){let w=cc(l,{relative:m.relative}),L=Ks(),k=De.useContext(Sh),{navigator:j,basename:A}=De.useContext(kr),I=k!=null&&kk(w)&&d===!0,P=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,H=L.pathname,q=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(H=H.toLowerCase(),q=q?q.toLowerCase():null,P=P.toLowerCase()),q&&A&&(q=ss(q,A)||q);const Q=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let O=H===P||!s&&H.startsWith(P)&&H.charAt(Q)==="/",N=q!=null&&(q===P||!s&&q.startsWith(P)&&q.charAt(P.length)==="/"),F={isActive:O,isPending:N,isTransitioning:I},J=O?e:void 0,x;typeof i=="function"?x=i(F):x=[i,O?"active":null,N?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(F):o;return De.createElement(RC,{...m,"aria-current":J,className:x,ref:b,style:S,to:l,viewTransition:d},typeof h=="function"?h(F):h)});xk.displayName="NavLink";var Ek=De.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:l=Vd,action:d,onSubmit:h,relative:m,preventScrollReset:b,viewTransition:w,...L},k)=>{let j=Ok(),A=Rk(d,{relative:m}),I=l.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&OC.test(d),H=q=>{if(h&&h(q),q.defaultPrevented)return;q.preventDefault();let Q=q.nativeEvent.submitter,O=(Q==null?void 0:Q.getAttribute("formmethod"))||l;j(Q||q.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:s,state:o,relative:m,preventScrollReset:b,viewTransition:w})};return De.createElement("form",{ref:k,method:I,action:A,onSubmit:i?h:H,...L,"data-discover":!P&&n==="render"?"true":void 0})});Ek.displayName="Form";function Ck(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(n){let e=De.useContext(bu);return ii(e,Ck(n)),e}function wk(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let d=Tu(),h=Ks(),m=cc(n,{relative:o});return De.useCallback(b=>{if(rk(b,e)){b.preventDefault();let w=t!==void 0?t:nc(h)===nc(m);d(n,{replace:w,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,d,m,t,i,e,n,s,o,l])}var Ak=0,Dk=()=>`__${String(++Ak)}__`;function Ok(){let{router:n}=kC("useSubmit"),{basename:e}=De.useContext(kr),t=XR();return De.useCallback(async(i,s={})=>{let{action:o,method:l,encType:d,formData:h,body:m}=ok(i,e);if(s.navigate===!1){let b=s.fetcherKey||Dk();await n.fetch(b,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||l,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Rk(n,{relative:e}={}){let{basename:t}=De.useContext(kr),i=De.useContext(os);ii(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...cc(n||".",{relative:e})},l=Ks();if(n==null){o.search=l.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(b=>b==="")){d.delete("index"),h.filter(w=>w).forEach(w=>d.append("index",w));let b=d.toString();o.search=b?`?${b}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ns([t,o.pathname])),nc(o)}function kk(n,e={}){let t=De.useContext(TC);ii(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kC("useViewTransitionState"),s=cc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ss(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ss(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Qd(s.pathname,l)!=null||Qd(s.pathname,o)!=null}new TextEncoder;var Kd={exports:{}},sm,p1;function Ya(){if(p1)return sm;p1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return sm=n,sm}var am,m1;function MC(){if(m1)return am;m1=1;var n=typeof Un=="object"&&Un&&Un.Object===Object&&Un;return am=n,am}var om,g1;function Mr(){if(g1)return om;g1=1;var n=MC(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return om=t,om}var um,y1;function Mk(){if(y1)return um;y1=1;var n=Mr(),e=function(){return n.Date.now()};return um=e,um}var lm,v1;function Lk(){if(v1)return lm;v1=1;var n=/\s/;function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}return lm=e,lm}var cm,_1;function Pk(){if(_1)return cm;_1=1;var n=Lk(),e=/^\s+/;function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}return cm=t,cm}var dm,b1;function dc(){if(b1)return dm;b1=1;var n=Mr(),e=n.Symbol;return dm=e,dm}var hm,T1;function Nk(){if(T1)return hm;T1=1;var n=dc(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,s=n?n.toStringTag:void 0;function o(l){var d=t.call(l,s),h=l[s];try{l[s]=void 0;var m=!0}catch{}var b=i.call(l);return m&&(d?l[s]=h:delete l[s]),b}return hm=o,hm}var fm,S1;function Ik(){if(S1)return fm;S1=1;var n=Object.prototype,e=n.toString;function t(i){return e.call(i)}return fm=t,fm}var pm,x1;function hc(){if(x1)return pm;x1=1;var n=dc(),e=Nk(),t=Ik(),i="[object Null]",s="[object Undefined]",o=n?n.toStringTag:void 0;function l(d){return d==null?d===void 0?s:i:o&&o in Object(d)?e(d):t(d)}return pm=l,pm}var mm,E1;function Su(){if(E1)return mm;E1=1;function n(e){return e!=null&&typeof e=="object"}return mm=n,mm}var gm,C1;function fc(){if(C1)return gm;C1=1;var n=hc(),e=Su(),t="[object Symbol]";function i(s){return typeof s=="symbol"||e(s)&&n(s)==t}return gm=i,gm}var ym,w1;function Bk(){if(w1)return ym;w1=1;var n=Pk(),e=Ya(),t=fc(),i=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function h(m){if(typeof m=="number")return m;if(t(m))return i;if(e(m)){var b=typeof m.valueOf=="function"?m.valueOf():m;m=e(b)?b+"":b}if(typeof m!="string")return m===0?m:+m;m=n(m);var w=o.test(m);return w||l.test(m)?d(m.slice(2),w?2:8):s.test(m)?i:+m}return ym=h,ym}var vm,A1;function LC(){if(A1)return vm;A1=1;var n=Ya(),e=Mk(),t=Bk(),i="Expected a function",s=Math.max,o=Math.min;function l(d,h,m){var b,w,L,k,j,A,I=0,P=!1,H=!1,q=!0;if(typeof d!="function")throw new TypeError(i);h=t(h)||0,n(m)&&(P=!!m.leading,H="maxWait"in m,L=H?s(t(m.maxWait)||0,h):L,q="trailing"in m?!!m.trailing:q);function Q(U){var Y=b,ue=w;return b=w=void 0,I=U,k=d.apply(ue,Y),k}function O(U){return I=U,j=setTimeout(J,h),P?Q(U):k}function N(U){var Y=U-A,ue=U-I,ee=h-Y;return H?o(ee,L-ue):ee}function F(U){var Y=U-A,ue=U-I;return A===void 0||Y>=h||Y<0||H&&ue>=L}function J(){var U=e();if(F(U))return x(U);j=setTimeout(J,N(U))}function x(U){return j=void 0,q&&b?Q(U):(b=w=void 0,k)}function S(){j!==void 0&&clearTimeout(j),I=0,b=A=w=j=void 0}function z(){return j===void 0?k:x(e())}function W(){var U=e(),Y=F(U);if(b=arguments,w=this,A=U,Y){if(j===void 0)return O(A);if(H)return clearTimeout(j),j=setTimeout(J,h),Q(A)}return j===void 0&&(j=setTimeout(J,h)),k}return W.cancel=S,W.flush=z,W}return vm=l,vm}var _m,D1;function PC(){if(D1)return _m;D1=1;var n=hc(),e=Ya(),t="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",o="[object Proxy]";function l(d){if(!e(d))return!1;var h=n(d);return h==i||h==s||h==t||h==o}return _m=l,_m}var bm,O1;function Uk(){if(O1)return bm;O1=1;var n=Mr(),e=n["__core-js_shared__"];return bm=e,bm}var Tm,R1;function Fk(){if(R1)return Tm;R1=1;var n=Uk(),e=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return Tm=t,Tm}var Sm,k1;function NC(){if(k1)return Sm;k1=1;var n=Function.prototype,e=n.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Sm=t,Sm}var xm,M1;function qk(){if(M1)return xm;M1=1;var n=PC(),e=Fk(),t=Ya(),i=NC(),s=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,h=l.toString,m=d.hasOwnProperty,b=RegExp("^"+h.call(m).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function w(L){if(!t(L)||e(L))return!1;var k=n(L)?b:o;return k.test(i(L))}return xm=w,xm}var Em,L1;function jk(){if(L1)return Em;L1=1;function n(e,t){return e==null?void 0:e[t]}return Em=n,Em}var Cm,P1;function Wa(){if(P1)return Cm;P1=1;var n=qk(),e=jk();function t(i,s){var o=e(i,s);return n(o)?o:void 0}return Cm=t,Cm}var wm,N1;function Eh(){if(N1)return wm;N1=1;var n=Wa(),e=n(Object,"create");return wm=e,wm}var Am,I1;function Hk(){if(I1)return Am;I1=1;var n=Eh();function e(){this.__data__=n?n(null):{},this.size=0}return Am=e,Am}var Dm,B1;function zk(){if(B1)return Dm;B1=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Dm=n,Dm}var Om,U1;function Gk(){if(U1)return Om;U1=1;var n=Eh(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function s(o){var l=this.__data__;if(n){var d=l[o];return d===e?void 0:d}return i.call(l,o)?l[o]:void 0}return Om=s,Om}var Rm,F1;function Vk(){if(F1)return Rm;F1=1;var n=Eh(),e=Object.prototype,t=e.hasOwnProperty;function i(s){var o=this.__data__;return n?o[s]!==void 0:t.call(o,s)}return Rm=i,Rm}var km,q1;function $k(){if(q1)return km;q1=1;var n=Eh(),e="__lodash_hash_undefined__";function t(i,s){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=n&&s===void 0?e:s,this}return km=t,km}var Mm,j1;function Kk(){if(j1)return Mm;j1=1;var n=Hk(),e=zk(),t=Gk(),i=Vk(),s=$k();function o(l){var d=-1,h=l==null?0:l.length;for(this.clear();++d<h;){var m=l[d];this.set(m[0],m[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=s,Mm=o,Mm}var Lm,H1;function Xk(){if(H1)return Lm;H1=1;function n(){this.__data__=[],this.size=0}return Lm=n,Lm}var Pm,z1;function kv(){if(z1)return Pm;z1=1;function n(e,t){return e===t||e!==e&&t!==t}return Pm=n,Pm}var Nm,G1;function Ch(){if(G1)return Nm;G1=1;var n=kv();function e(t,i){for(var s=t.length;s--;)if(n(t[s][0],i))return s;return-1}return Nm=e,Nm}var Im,V1;function Yk(){if(V1)return Im;V1=1;var n=Ch(),e=Array.prototype,t=e.splice;function i(s){var o=this.__data__,l=n(o,s);if(l<0)return!1;var d=o.length-1;return l==d?o.pop():t.call(o,l,1),--this.size,!0}return Im=i,Im}var Bm,$1;function Wk(){if($1)return Bm;$1=1;var n=Ch();function e(t){var i=this.__data__,s=n(i,t);return s<0?void 0:i[s][1]}return Bm=e,Bm}var Um,K1;function Qk(){if(K1)return Um;K1=1;var n=Ch();function e(t){return n(this.__data__,t)>-1}return Um=e,Um}var Fm,X1;function Zk(){if(X1)return Fm;X1=1;var n=Ch();function e(t,i){var s=this.__data__,o=n(s,t);return o<0?(++this.size,s.push([t,i])):s[o][1]=i,this}return Fm=e,Fm}var qm,Y1;function wh(){if(Y1)return qm;Y1=1;var n=Xk(),e=Yk(),t=Wk(),i=Qk(),s=Zk();function o(l){var d=-1,h=l==null?0:l.length;for(this.clear();++d<h;){var m=l[d];this.set(m[0],m[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=s,qm=o,qm}var jm,W1;function Mv(){if(W1)return jm;W1=1;var n=Wa(),e=Mr(),t=n(e,"Map");return jm=t,jm}var Hm,Q1;function Jk(){if(Q1)return Hm;Q1=1;var n=Kk(),e=wh(),t=Mv();function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Hm=i,Hm}var zm,Z1;function e4(){if(Z1)return zm;Z1=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return zm=n,zm}var Gm,J1;function Ah(){if(J1)return Gm;J1=1;var n=e4();function e(t,i){var s=t.__data__;return n(i)?s[typeof i=="string"?"string":"hash"]:s.map}return Gm=e,Gm}var Vm,e2;function t4(){if(e2)return Vm;e2=1;var n=Ah();function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}return Vm=e,Vm}var $m,t2;function i4(){if(t2)return $m;t2=1;var n=Ah();function e(t){return n(this,t).get(t)}return $m=e,$m}var Km,i2;function n4(){if(i2)return Km;i2=1;var n=Ah();function e(t){return n(this,t).has(t)}return Km=e,Km}var Xm,n2;function r4(){if(n2)return Xm;n2=1;var n=Ah();function e(t,i){var s=n(this,t),o=s.size;return s.set(t,i),this.size+=s.size==o?0:1,this}return Xm=e,Xm}var Ym,r2;function Lv(){if(r2)return Ym;r2=1;var n=Jk(),e=t4(),t=i4(),i=n4(),s=r4();function o(l){var d=-1,h=l==null?0:l.length;for(this.clear();++d<h;){var m=l[d];this.set(m[0],m[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=s,Ym=o,Ym}var Wm,s2;function s4(){if(s2)return Wm;s2=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Wm=e,Wm}var Qm,a2;function a4(){if(a2)return Qm;a2=1;function n(e){return this.__data__.has(e)}return Qm=n,Qm}var Zm,o2;function IC(){if(o2)return Zm;o2=1;var n=Lv(),e=s4(),t=a4();function i(s){var o=-1,l=s==null?0:s.length;for(this.__data__=new n;++o<l;)this.add(s[o])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,Zm=i,Zm}var Jm,u2;function o4(){if(u2)return Jm;u2=1;function n(e,t,i,s){for(var o=e.length,l=i+(s?1:-1);s?l--:++l<o;)if(t(e[l],l,e))return l;return-1}return Jm=n,Jm}var eg,l2;function u4(){if(l2)return eg;l2=1;function n(e){return e!==e}return eg=n,eg}var tg,c2;function l4(){if(c2)return tg;c2=1;function n(e,t,i){for(var s=i-1,o=e.length;++s<o;)if(e[s]===t)return s;return-1}return tg=n,tg}var ig,d2;function c4(){if(d2)return ig;d2=1;var n=o4(),e=u4(),t=l4();function i(s,o,l){return o===o?t(s,o,l):n(s,e,l)}return ig=i,ig}var ng,h2;function d4(){if(h2)return ng;h2=1;var n=c4();function e(t,i){var s=t==null?0:t.length;return!!s&&n(t,i,0)>-1}return ng=e,ng}var rg,f2;function h4(){if(f2)return rg;f2=1;function n(e,t,i){for(var s=-1,o=e==null?0:e.length;++s<o;)if(i(t,e[s]))return!0;return!1}return rg=n,rg}var sg,p2;function Pv(){if(p2)return sg;p2=1;function n(e,t){for(var i=-1,s=e==null?0:e.length,o=Array(s);++i<s;)o[i]=t(e[i],i,e);return o}return sg=n,sg}var ag,m2;function Nv(){if(m2)return ag;m2=1;function n(e){return function(t){return e(t)}}return ag=n,ag}var og,g2;function BC(){if(g2)return og;g2=1;function n(e,t){return e.has(t)}return og=n,og}var ug,y2;function f4(){if(y2)return ug;y2=1;var n=IC(),e=d4(),t=h4(),i=Pv(),s=Nv(),o=BC(),l=200;function d(h,m,b,w){var L=-1,k=e,j=!0,A=h.length,I=[],P=m.length;if(!A)return I;b&&(m=i(m,s(b))),w?(k=t,j=!1):m.length>=l&&(k=o,j=!1,m=new n(m));e:for(;++L<A;){var H=h[L],q=b==null?H:b(H);if(H=w||H!==0?H:0,j&&q===q){for(var Q=P;Q--;)if(m[Q]===q)continue e;I.push(H)}else k(m,q,w)||I.push(H)}return I}return ug=d,ug}var lg,v2;function UC(){if(v2)return lg;v2=1;function n(e,t){for(var i=-1,s=t.length,o=e.length;++i<s;)e[o+i]=t[i];return e}return lg=n,lg}var cg,_2;function p4(){if(_2)return cg;_2=1;var n=hc(),e=Su(),t="[object Arguments]";function i(s){return e(s)&&n(s)==t}return cg=i,cg}var dg,b2;function Iv(){if(b2)return dg;b2=1;var n=p4(),e=Su(),t=Object.prototype,i=t.hasOwnProperty,s=t.propertyIsEnumerable,o=n(function(){return arguments}())?n:function(l){return e(l)&&i.call(l,"callee")&&!s.call(l,"callee")};return dg=o,dg}var hg,T2;function Hn(){if(T2)return hg;T2=1;var n=Array.isArray;return hg=n,hg}var fg,S2;function m4(){if(S2)return fg;S2=1;var n=dc(),e=Iv(),t=Hn(),i=n?n.isConcatSpreadable:void 0;function s(o){return t(o)||e(o)||!!(i&&o&&o[i])}return fg=s,fg}var pg,x2;function FC(){if(x2)return pg;x2=1;var n=UC(),e=m4();function t(i,s,o,l,d){var h=-1,m=i.length;for(o||(o=e),d||(d=[]);++h<m;){var b=i[h];s>0&&o(b)?s>1?t(b,s-1,o,l,d):n(d,b):l||(d[d.length]=b)}return d}return pg=t,pg}var mg,E2;function pc(){if(E2)return mg;E2=1;function n(e){return e}return mg=n,mg}var gg,C2;function g4(){if(C2)return gg;C2=1;function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}return gg=n,gg}var yg,w2;function y4(){if(w2)return yg;w2=1;var n=g4(),e=Math.max;function t(i,s,o){return s=e(s===void 0?i.length-1:s,0),function(){for(var l=arguments,d=-1,h=e(l.length-s,0),m=Array(h);++d<h;)m[d]=l[s+d];d=-1;for(var b=Array(s+1);++d<s;)b[d]=l[d];return b[s]=o(m),n(i,this,b)}}return yg=t,yg}var vg,A2;function v4(){if(A2)return vg;A2=1;function n(e){return function(){return e}}return vg=n,vg}var _g,D2;function _4(){if(D2)return _g;D2=1;var n=Wa(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return _g=e,_g}var bg,O2;function b4(){if(O2)return bg;O2=1;var n=v4(),e=_4(),t=pc(),i=e?function(s,o){return e(s,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t;return bg=i,bg}var Tg,R2;function T4(){if(R2)return Tg;R2=1;var n=800,e=16,t=Date.now;function i(s){var o=0,l=0;return function(){var d=t(),h=e-(d-l);if(l=d,h>0){if(++o>=n)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}return Tg=i,Tg}var Sg,k2;function S4(){if(k2)return Sg;k2=1;var n=b4(),e=T4(),t=e(n);return Sg=t,Sg}var xg,M2;function qC(){if(M2)return xg;M2=1;var n=pc(),e=y4(),t=S4();function i(s,o){return t(e(s,o,n),s+"")}return xg=i,xg}var Eg,L2;function Bv(){if(L2)return Eg;L2=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Eg=e,Eg}var Cg,P2;function mc(){if(P2)return Cg;P2=1;var n=PC(),e=Bv();function t(i){return i!=null&&e(i.length)&&!n(i)}return Cg=t,Cg}var wg,N2;function x4(){if(N2)return wg;N2=1;var n=mc(),e=Su();function t(i){return e(i)&&n(i)}return wg=t,wg}var Ag,I2;function E4(){if(I2)return Ag;I2=1;var n=f4(),e=FC(),t=qC(),i=x4(),s=t(function(o,l){return i(o)?n(o,e(l,1,i,!0)):[]});return Ag=s,Ag}var Dg,B2;function jC(){if(B2)return Dg;B2=1;function n(e,t){for(var i=-1,s=e==null?0:e.length,o=0,l=[];++i<s;){var d=e[i];t(d,i,e)&&(l[o++]=d)}return l}return Dg=n,Dg}var Og,U2;function C4(){if(U2)return Og;U2=1;function n(e){return function(t,i,s){for(var o=-1,l=Object(t),d=s(t),h=d.length;h--;){var m=d[e?h:++o];if(i(l[m],m,l)===!1)break}return t}}return Og=n,Og}var Rg,F2;function w4(){if(F2)return Rg;F2=1;var n=C4(),e=n();return Rg=e,Rg}var kg,q2;function A4(){if(q2)return kg;q2=1;function n(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}return kg=n,kg}var $l={exports:{}},Mg,j2;function D4(){if(j2)return Mg;j2=1;function n(){return!1}return Mg=n,Mg}$l.exports;var H2;function HC(){return H2||(H2=1,function(n,e){var t=Mr(),i=D4(),s=e&&!e.nodeType&&e,o=s&&!0&&n&&!n.nodeType&&n,l=o&&o.exports===s,d=l?t.Buffer:void 0,h=d?d.isBuffer:void 0,m=h||i;n.exports=m}($l,$l.exports)),$l.exports}var Lg,z2;function Uv(){if(z2)return Lg;z2=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,s){var o=typeof i;return s=s??n,!!s&&(o=="number"||o!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<s}return Lg=t,Lg}var Pg,G2;function O4(){if(G2)return Pg;G2=1;var n=hc(),e=Bv(),t=Su(),i="[object Arguments]",s="[object Array]",o="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",m="[object Map]",b="[object Number]",w="[object Object]",L="[object RegExp]",k="[object Set]",j="[object String]",A="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",H="[object Float32Array]",q="[object Float64Array]",Q="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",F="[object Uint8Array]",J="[object Uint8ClampedArray]",x="[object Uint16Array]",S="[object Uint32Array]",z={};z[H]=z[q]=z[Q]=z[O]=z[N]=z[F]=z[J]=z[x]=z[S]=!0,z[i]=z[s]=z[I]=z[o]=z[P]=z[l]=z[d]=z[h]=z[m]=z[b]=z[w]=z[L]=z[k]=z[j]=z[A]=!1;function W(U){return t(U)&&e(U.length)&&!!z[n(U)]}return Pg=W,Pg}var Kl={exports:{}};Kl.exports;var V2;function R4(){return V2||(V2=1,function(n,e){var t=MC(),i=e&&!e.nodeType&&e,s=i&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===i,l=o&&t.process,d=function(){try{var h=s&&s.require&&s.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}}();n.exports=d}(Kl,Kl.exports)),Kl.exports}var Ng,$2;function zC(){if($2)return Ng;$2=1;var n=O4(),e=Nv(),t=R4(),i=t&&t.isTypedArray,s=i?e(i):n;return Ng=s,Ng}var Ig,K2;function k4(){if(K2)return Ig;K2=1;var n=A4(),e=Iv(),t=Hn(),i=HC(),s=Uv(),o=zC(),l=Object.prototype,d=l.hasOwnProperty;function h(m,b){var w=t(m),L=!w&&e(m),k=!w&&!L&&i(m),j=!w&&!L&&!k&&o(m),A=w||L||k||j,I=A?n(m.length,String):[],P=I.length;for(var H in m)(b||d.call(m,H))&&!(A&&(H=="length"||k&&(H=="offset"||H=="parent")||j&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||s(H,P)))&&I.push(H);return I}return Ig=h,Ig}var Bg,X2;function M4(){if(X2)return Bg;X2=1;var n=Object.prototype;function e(t){var i=t&&t.constructor,s=typeof i=="function"&&i.prototype||n;return t===s}return Bg=e,Bg}var Ug,Y2;function L4(){if(Y2)return Ug;Y2=1;function n(e,t){return function(i){return e(t(i))}}return Ug=n,Ug}var Fg,W2;function P4(){if(W2)return Fg;W2=1;var n=L4(),e=n(Object.keys,Object);return Fg=e,Fg}var qg,Q2;function N4(){if(Q2)return qg;Q2=1;var n=M4(),e=P4(),t=Object.prototype,i=t.hasOwnProperty;function s(o){if(!n(o))return e(o);var l=[];for(var d in Object(o))i.call(o,d)&&d!="constructor"&&l.push(d);return l}return qg=s,qg}var jg,Z2;function Fv(){if(Z2)return jg;Z2=1;var n=k4(),e=N4(),t=mc();function i(s){return t(s)?n(s):e(s)}return jg=i,jg}var Hg,J2;function qv(){if(J2)return Hg;J2=1;var n=w4(),e=Fv();function t(i,s){return i&&n(i,s,e)}return Hg=t,Hg}var zg,eS;function I4(){if(eS)return zg;eS=1;var n=mc();function e(t,i){return function(s,o){if(s==null)return s;if(!n(s))return t(s,o);for(var l=s.length,d=i?l:-1,h=Object(s);(i?d--:++d<l)&&o(h[d],d,h)!==!1;);return s}}return zg=e,zg}var Gg,tS;function jv(){if(tS)return Gg;tS=1;var n=qv(),e=I4(),t=e(n);return Gg=t,Gg}var Vg,iS;function B4(){if(iS)return Vg;iS=1;var n=jv();function e(t,i){var s=[];return n(t,function(o,l,d){i(o,l,d)&&s.push(o)}),s}return Vg=e,Vg}var $g,nS;function U4(){if(nS)return $g;nS=1;var n=wh();function e(){this.__data__=new n,this.size=0}return $g=e,$g}var Kg,rS;function F4(){if(rS)return Kg;rS=1;function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Kg=n,Kg}var Xg,sS;function q4(){if(sS)return Xg;sS=1;function n(e){return this.__data__.get(e)}return Xg=n,Xg}var Yg,aS;function j4(){if(aS)return Yg;aS=1;function n(e){return this.__data__.has(e)}return Yg=n,Yg}var Wg,oS;function H4(){if(oS)return Wg;oS=1;var n=wh(),e=Mv(),t=Lv(),i=200;function s(o,l){var d=this.__data__;if(d instanceof n){var h=d.__data__;if(!e||h.length<i-1)return h.push([o,l]),this.size=++d.size,this;d=this.__data__=new t(h)}return d.set(o,l),this.size=d.size,this}return Wg=s,Wg}var Qg,uS;function GC(){if(uS)return Qg;uS=1;var n=wh(),e=U4(),t=F4(),i=q4(),s=j4(),o=H4();function l(d){var h=this.__data__=new n(d);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,Qg=l,Qg}var Zg,lS;function z4(){if(lS)return Zg;lS=1;function n(e,t){for(var i=-1,s=e==null?0:e.length;++i<s;)if(t(e[i],i,e))return!0;return!1}return Zg=n,Zg}var Jg,cS;function VC(){if(cS)return Jg;cS=1;var n=IC(),e=z4(),t=BC(),i=1,s=2;function o(l,d,h,m,b,w){var L=h&i,k=l.length,j=d.length;if(k!=j&&!(L&&j>k))return!1;var A=w.get(l),I=w.get(d);if(A&&I)return A==d&&I==l;var P=-1,H=!0,q=h&s?new n:void 0;for(w.set(l,d),w.set(d,l);++P<k;){var Q=l[P],O=d[P];if(m)var N=L?m(O,Q,P,d,l,w):m(Q,O,P,l,d,w);if(N!==void 0){if(N)continue;H=!1;break}if(q){if(!e(d,function(F,J){if(!t(q,J)&&(Q===F||b(Q,F,h,m,w)))return q.push(J)})){H=!1;break}}else if(!(Q===O||b(Q,O,h,m,w))){H=!1;break}}return w.delete(l),w.delete(d),H}return Jg=o,Jg}var e0,dS;function G4(){if(dS)return e0;dS=1;var n=Mr(),e=n.Uint8Array;return e0=e,e0}var t0,hS;function V4(){if(hS)return t0;hS=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(s,o){i[++t]=[o,s]}),i}return t0=n,t0}var i0,fS;function $4(){if(fS)return i0;fS=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(s){i[++t]=s}),i}return i0=n,i0}var n0,pS;function K4(){if(pS)return n0;pS=1;var n=dc(),e=G4(),t=kv(),i=VC(),s=V4(),o=$4(),l=1,d=2,h="[object Boolean]",m="[object Date]",b="[object Error]",w="[object Map]",L="[object Number]",k="[object RegExp]",j="[object Set]",A="[object String]",I="[object Symbol]",P="[object ArrayBuffer]",H="[object DataView]",q=n?n.prototype:void 0,Q=q?q.valueOf:void 0;function O(N,F,J,x,S,z,W){switch(J){case H:if(N.byteLength!=F.byteLength||N.byteOffset!=F.byteOffset)return!1;N=N.buffer,F=F.buffer;case P:return!(N.byteLength!=F.byteLength||!z(new e(N),new e(F)));case h:case m:case L:return t(+N,+F);case b:return N.name==F.name&&N.message==F.message;case k:case A:return N==F+"";case w:var U=s;case j:var Y=x&l;if(U||(U=o),N.size!=F.size&&!Y)return!1;var ue=W.get(N);if(ue)return ue==F;x|=d,W.set(N,F);var ee=i(U(N),U(F),x,S,z,W);return W.delete(N),ee;case I:if(Q)return Q.call(N)==Q.call(F)}return!1}return n0=O,n0}var r0,mS;function X4(){if(mS)return r0;mS=1;var n=UC(),e=Hn();function t(i,s,o){var l=s(i);return e(i)?l:n(l,o(i))}return r0=t,r0}var s0,gS;function Y4(){if(gS)return s0;gS=1;function n(){return[]}return s0=n,s0}var a0,yS;function W4(){if(yS)return a0;yS=1;var n=jC(),e=Y4(),t=Object.prototype,i=t.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(l){return l==null?[]:(l=Object(l),n(s(l),function(d){return i.call(l,d)}))}:e;return a0=o,a0}var o0,vS;function Q4(){if(vS)return o0;vS=1;var n=X4(),e=W4(),t=Fv();function i(s){return n(s,t,e)}return o0=i,o0}var u0,_S;function Z4(){if(_S)return u0;_S=1;var n=Q4(),e=1,t=Object.prototype,i=t.hasOwnProperty;function s(o,l,d,h,m,b){var w=d&e,L=n(o),k=L.length,j=n(l),A=j.length;if(k!=A&&!w)return!1;for(var I=k;I--;){var P=L[I];if(!(w?P in l:i.call(l,P)))return!1}var H=b.get(o),q=b.get(l);if(H&&q)return H==l&&q==o;var Q=!0;b.set(o,l),b.set(l,o);for(var O=w;++I<k;){P=L[I];var N=o[P],F=l[P];if(h)var J=w?h(F,N,P,l,o,b):h(N,F,P,o,l,b);if(!(J===void 0?N===F||m(N,F,d,h,b):J)){Q=!1;break}O||(O=P=="constructor")}if(Q&&!O){var x=o.constructor,S=l.constructor;x!=S&&"constructor"in o&&"constructor"in l&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(Q=!1)}return b.delete(o),b.delete(l),Q}return u0=s,u0}var l0,bS;function J4(){if(bS)return l0;bS=1;var n=Wa(),e=Mr(),t=n(e,"DataView");return l0=t,l0}var c0,TS;function e3(){if(TS)return c0;TS=1;var n=Wa(),e=Mr(),t=n(e,"Promise");return c0=t,c0}var d0,SS;function t3(){if(SS)return d0;SS=1;var n=Wa(),e=Mr(),t=n(e,"Set");return d0=t,d0}var h0,xS;function i3(){if(xS)return h0;xS=1;var n=Wa(),e=Mr(),t=n(e,"WeakMap");return h0=t,h0}var f0,ES;function n3(){if(ES)return f0;ES=1;var n=J4(),e=Mv(),t=e3(),i=t3(),s=i3(),o=hc(),l=NC(),d="[object Map]",h="[object Object]",m="[object Promise]",b="[object Set]",w="[object WeakMap]",L="[object DataView]",k=l(n),j=l(e),A=l(t),I=l(i),P=l(s),H=o;return(n&&H(new n(new ArrayBuffer(1)))!=L||e&&H(new e)!=d||t&&H(t.resolve())!=m||i&&H(new i)!=b||s&&H(new s)!=w)&&(H=function(q){var Q=o(q),O=Q==h?q.constructor:void 0,N=O?l(O):"";if(N)switch(N){case k:return L;case j:return d;case A:return m;case I:return b;case P:return w}return Q}),f0=H,f0}var p0,CS;function r3(){if(CS)return p0;CS=1;var n=GC(),e=VC(),t=K4(),i=Z4(),s=n3(),o=Hn(),l=HC(),d=zC(),h=1,m="[object Arguments]",b="[object Array]",w="[object Object]",L=Object.prototype,k=L.hasOwnProperty;function j(A,I,P,H,q,Q){var O=o(A),N=o(I),F=O?b:s(A),J=N?b:s(I);F=F==m?w:F,J=J==m?w:J;var x=F==w,S=J==w,z=F==J;if(z&&l(A)){if(!l(I))return!1;O=!0,x=!1}if(z&&!x)return Q||(Q=new n),O||d(A)?e(A,I,P,H,q,Q):t(A,I,F,P,H,q,Q);if(!(P&h)){var W=x&&k.call(A,"__wrapped__"),U=S&&k.call(I,"__wrapped__");if(W||U){var Y=W?A.value():A,ue=U?I.value():I;return Q||(Q=new n),q(Y,ue,P,H,Q)}}return z?(Q||(Q=new n),i(A,I,P,H,q,Q)):!1}return p0=j,p0}var m0,wS;function $C(){if(wS)return m0;wS=1;var n=r3(),e=Su();function t(i,s,o,l,d){return i===s?!0:i==null||s==null||!e(i)&&!e(s)?i!==i&&s!==s:n(i,s,o,l,t,d)}return m0=t,m0}var g0,AS;function s3(){if(AS)return g0;AS=1;var n=GC(),e=$C(),t=1,i=2;function s(o,l,d,h){var m=d.length,b=m,w=!h;if(o==null)return!b;for(o=Object(o);m--;){var L=d[m];if(w&&L[2]?L[1]!==o[L[0]]:!(L[0]in o))return!1}for(;++m<b;){L=d[m];var k=L[0],j=o[k],A=L[1];if(w&&L[2]){if(j===void 0&&!(k in o))return!1}else{var I=new n;if(h)var P=h(j,A,k,o,l,I);if(!(P===void 0?e(A,j,t|i,h,I):P))return!1}}return!0}return g0=s,g0}var y0,DS;function KC(){if(DS)return y0;DS=1;var n=Ya();function e(t){return t===t&&!n(t)}return y0=e,y0}var v0,OS;function a3(){if(OS)return v0;OS=1;var n=KC(),e=Fv();function t(i){for(var s=e(i),o=s.length;o--;){var l=s[o],d=i[l];s[o]=[l,d,n(d)]}return s}return v0=t,v0}var _0,RS;function XC(){if(RS)return _0;RS=1;function n(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==void 0||e in Object(i))}}return _0=n,_0}var b0,kS;function o3(){if(kS)return b0;kS=1;var n=s3(),e=a3(),t=XC();function i(s){var o=e(s);return o.length==1&&o[0][2]?t(o[0][0],o[0][1]):function(l){return l===s||n(l,s,o)}}return b0=i,b0}var T0,MS;function Hv(){if(MS)return T0;MS=1;var n=Hn(),e=fc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function s(o,l){if(n(o))return!1;var d=typeof o;return d=="number"||d=="symbol"||d=="boolean"||o==null||e(o)?!0:i.test(o)||!t.test(o)||l!=null&&o in Object(l)}return T0=s,T0}var S0,LS;function u3(){if(LS)return S0;LS=1;var n=Lv(),e="Expected a function";function t(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var o=function(){var l=arguments,d=s?s.apply(this,l):l[0],h=o.cache;if(h.has(d))return h.get(d);var m=i.apply(this,l);return o.cache=h.set(d,m)||h,m};return o.cache=new(t.Cache||n),o}return t.Cache=n,S0=t,S0}var x0,PS;function l3(){if(PS)return x0;PS=1;var n=u3(),e=500;function t(i){var s=n(i,function(l){return o.size===e&&o.clear(),l}),o=s.cache;return s}return x0=t,x0}var E0,NS;function c3(){if(NS)return E0;NS=1;var n=l3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(e,function(l,d,h,m){o.push(h?m.replace(t,"$1"):d||l)}),o});return E0=i,E0}var C0,IS;function d3(){if(IS)return C0;IS=1;var n=dc(),e=Pv(),t=Hn(),i=fc(),s=n?n.prototype:void 0,o=s?s.toString:void 0;function l(d){if(typeof d=="string")return d;if(t(d))return e(d,l)+"";if(i(d))return o?o.call(d):"";var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}return C0=l,C0}var w0,BS;function YC(){if(BS)return w0;BS=1;var n=d3();function e(t){return t==null?"":n(t)}return w0=e,w0}var A0,US;function WC(){if(US)return A0;US=1;var n=Hn(),e=Hv(),t=c3(),i=YC();function s(o,l){return n(o)?o:e(o,l)?[o]:t(i(o))}return A0=s,A0}var D0,FS;function Dh(){if(FS)return D0;FS=1;var n=fc();function e(t){if(typeof t=="string"||n(t))return t;var i=t+"";return i=="0"&&1/t==-1/0?"-0":i}return D0=e,D0}var O0,qS;function zv(){if(qS)return O0;qS=1;var n=WC(),e=Dh();function t(i,s){s=n(s,i);for(var o=0,l=s.length;i!=null&&o<l;)i=i[e(s[o++])];return o&&o==l?i:void 0}return O0=t,O0}var R0,jS;function h3(){if(jS)return R0;jS=1;var n=zv();function e(t,i,s){var o=t==null?void 0:n(t,i);return o===void 0?s:o}return R0=e,R0}var k0,HS;function f3(){if(HS)return k0;HS=1;function n(e,t){return e!=null&&t in Object(e)}return k0=n,k0}var M0,zS;function p3(){if(zS)return M0;zS=1;var n=WC(),e=Iv(),t=Hn(),i=Uv(),s=Bv(),o=Dh();function l(d,h,m){h=n(h,d);for(var b=-1,w=h.length,L=!1;++b<w;){var k=o(h[b]);if(!(L=d!=null&&m(d,k)))break;d=d[k]}return L||++b!=w?L:(w=d==null?0:d.length,!!w&&s(w)&&i(k,w)&&(t(d)||e(d)))}return M0=l,M0}var L0,GS;function m3(){if(GS)return L0;GS=1;var n=f3(),e=p3();function t(i,s){return i!=null&&e(i,s,n)}return L0=t,L0}var P0,VS;function g3(){if(VS)return P0;VS=1;var n=$C(),e=h3(),t=m3(),i=Hv(),s=KC(),o=XC(),l=Dh(),d=1,h=2;function m(b,w){return i(b)&&s(w)?o(l(b),w):function(L){var k=e(L,b);return k===void 0&&k===w?t(L,b):n(w,k,d|h)}}return P0=m,P0}var N0,$S;function y3(){if($S)return N0;$S=1;function n(e){return function(t){return t==null?void 0:t[e]}}return N0=n,N0}var I0,KS;function v3(){if(KS)return I0;KS=1;var n=zv();function e(t){return function(i){return n(i,t)}}return I0=e,I0}var B0,XS;function _3(){if(XS)return B0;XS=1;var n=y3(),e=v3(),t=Hv(),i=Dh();function s(o){return t(o)?n(i(o)):e(o)}return B0=s,B0}var U0,YS;function Gv(){if(YS)return U0;YS=1;var n=o3(),e=g3(),t=pc(),i=Hn(),s=_3();function o(l){return typeof l=="function"?l:l==null?t:typeof l=="object"?i(l)?e(l[0],l[1]):n(l):s(l)}return U0=o,U0}var F0,WS;function b3(){if(WS)return F0;WS=1;var n=jC(),e=B4(),t=Gv(),i=Hn();function s(o,l){var d=i(o)?n:e;return d(o,t(l,3))}return F0=s,F0}var q0,QS;function T3(){if(QS)return q0;QS=1;function n(e,t,i){var s;return i(e,function(o,l,d){if(t(o,l,d))return s=l,!1}),s}return q0=n,q0}var j0,ZS;function S3(){if(ZS)return j0;ZS=1;var n=T3(),e=qv(),t=Gv();function i(s,o){return n(s,t(o,3),e)}return j0=i,j0}var H0,JS;function x3(){if(JS)return H0;JS=1;function n(e){return e&&e.length?e[0]:void 0}return H0=n,H0}var z0,ex;function E3(){return ex||(ex=1,z0=x3()),z0}var G0,tx;function C3(){if(tx)return G0;tx=1;function n(e,t){for(var i=-1,s=e==null?0:e.length;++i<s&&t(e[i],i,e)!==!1;);return e}return G0=n,G0}var V0,ix;function QC(){if(ix)return V0;ix=1;var n=pc();function e(t){return typeof t=="function"?t:n}return V0=e,V0}var $0,nx;function w3(){if(nx)return $0;nx=1;var n=C3(),e=jv(),t=QC(),i=Hn();function s(o,l){var d=i(o)?n:e;return d(o,t(l))}return $0=s,$0}var K0,rx;function A3(){if(rx)return K0;rx=1;var n=qv(),e=QC();function t(i,s){return i&&n(i,e(s))}return K0=t,K0}var X0,sx;function D3(){if(sx)return X0;sx=1;function n(){}return X0=n,X0}var Y0,ax;function O3(){if(ax)return Y0;ax=1;var n=jv(),e=mc();function t(i,s){var o=-1,l=e(i)?Array(i.length):[];return n(i,function(d,h,m){l[++o]=s(d,h,m)}),l}return Y0=t,Y0}var W0,ox;function R3(){if(ox)return W0;ox=1;function n(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}return W0=n,W0}var Q0,ux;function k3(){if(ux)return Q0;ux=1;var n=fc();function e(t,i){if(t!==i){var s=t!==void 0,o=t===null,l=t===t,d=n(t),h=i!==void 0,m=i===null,b=i===i,w=n(i);if(!m&&!w&&!d&&t>i||d&&h&&b&&!m&&!w||o&&h&&b||!s&&b||!l)return 1;if(!o&&!d&&!w&&t<i||w&&s&&l&&!o&&!d||m&&s&&l||!h&&l||!b)return-1}return 0}return Q0=e,Q0}var Z0,lx;function M3(){if(lx)return Z0;lx=1;var n=k3();function e(t,i,s){for(var o=-1,l=t.criteria,d=i.criteria,h=l.length,m=s.length;++o<h;){var b=n(l[o],d[o]);if(b){if(o>=m)return b;var w=s[o];return b*(w=="desc"?-1:1)}}return t.index-i.index}return Z0=e,Z0}var J0,cx;function L3(){if(cx)return J0;cx=1;var n=Pv(),e=zv(),t=Gv(),i=O3(),s=R3(),o=Nv(),l=M3(),d=pc(),h=Hn();function m(b,w,L){w.length?w=n(w,function(A){return h(A)?function(I){return e(I,A.length===1?A[0]:A)}:A}):w=[d];var k=-1;w=n(w,o(t));var j=i(b,function(A,I,P){var H=n(w,function(q){return q(A)});return{criteria:H,index:++k,value:A}});return s(j,function(A,I){return l(A,I,L)})}return J0=m,J0}var ey,dx;function P3(){if(dx)return ey;dx=1;var n=kv(),e=mc(),t=Uv(),i=Ya();function s(o,l,d){if(!i(d))return!1;var h=typeof l;return(h=="number"?e(d)&&t(l,d.length):h=="string"&&l in d)?n(d[l],o):!1}return ey=s,ey}var ty,hx;function N3(){if(hx)return ty;hx=1;var n=FC(),e=L3(),t=qC(),i=P3(),s=t(function(o,l){if(o==null)return[];var d=l.length;return d>1&&i(o,l[0],l[1])?l=[]:d>2&&i(l[0],l[1],l[2])&&(l=[l[0]]),e(o,n(l,1),[])});return ty=s,ty}var iy,fx;function I3(){if(fx)return iy;fx=1;var n=LC(),e=Ya(),t="Expected a function";function i(s,o,l){var d=!0,h=!0;if(typeof s!="function")throw new TypeError(t);return e(l)&&(d="leading"in l?!!l.leading:d,h="trailing"in l?!!l.trailing:h),n(s,o,{leading:d,maxWait:o,trailing:h})}return iy=i,iy}var ny,px;function B3(){if(px)return ny;px=1;var n=YC(),e=0;function t(i){var s=++e;return n(i)+s}return ny=t,ny}var U3=Kd.exports,mx;function F3(){return mx||(mx=1,function(n,e){(function(t,i){n.exports=i(LC(),E4(),b3(),S3(),E3(),w3(),A3(),D3(),N3(),I3(),B3(),er())})(U3,function(t,i,s,o,l,d,h,m,b,w,L,k){return function(){var j={654:function(I,P,H){var q,Q=this&&this.__assign||function(){return Q=Object.assign||function(xe){for(var re,he=1,fe=arguments.length;he<fe;he++)for(var be in re=arguments[he])Object.prototype.hasOwnProperty.call(re,be)&&(xe[be]=re[be]);return xe},Q.apply(this,arguments)},O=this&&this.__createBinding||(Object.create?function(xe,re,he,fe){fe===void 0&&(fe=he);var be=Object.getOwnPropertyDescriptor(re,he);be&&!("get"in be?!re.__esModule:be.writable||be.configurable)||(be={enumerable:!0,get:function(){return re[he]}}),Object.defineProperty(xe,fe,be)}:function(xe,re,he,fe){fe===void 0&&(fe=he),xe[fe]=re[he]}),N=this&&this.__setModuleDefault||(Object.create?function(xe,re){Object.defineProperty(xe,"default",{enumerable:!0,value:re})}:function(xe,re){xe.default=re}),F=this&&this.__importStar||function(xe){if(xe&&xe.__esModule)return xe;var re={};if(xe!=null)for(var he in xe)he!=="default"&&Object.prototype.hasOwnProperty.call(xe,he)&&O(re,xe,he);return N(re,xe),re},J=this&&this.__spreadArray||function(xe,re,he){if(he||arguments.length===2)for(var fe,be=0,Me=re.length;be<Me;be++)!fe&&be in re||(fe||(fe=Array.prototype.slice.call(re,0,be)),fe[be]=re[be]);return xe.concat(fe||Array.prototype.slice.call(re))},x=this&&this.__importDefault||function(xe){return xe&&xe.__esModule?xe:{default:xe}};Object.defineProperty(P,"__esModule",{value:!0}),P.updateRtl=P.doesFocusableExist=P.getCurrentFocusKey=P.updateAllLayouts=P.resume=P.pause=P.navigateByDirection=P.setFocus=P.setKeyMap=P.destroy=P.setThrottle=P.init=P.SpatialNavigation=P.ROOT_FOCUS_KEY=void 0;var S=x(H(150)),z=x(H(117)),W=x(H(747)),U=x(H(23)),Y=x(H(842)),ue=x(H(682)),ee=x(H(784)),C=x(H(432)),le=x(H(67)),$=x(H(35)),T=x(H(119)),M=F(H(964)),se="left",pe="right",oe="up",ge="down",Ee="enter",ke=((q={}).left=[37,"ArrowLeft"],q.up=[38,"ArrowUp"],q.right=[39,"ArrowRight"],q.down=[40,"ArrowDown"],q.enter=[13,"Enter"],q);P.ROOT_FOCUS_KEY="SN:ROOT";var Be=["#0FF","#FF0","#F0F"],Ge={leading:!0,trailing:!1},Ve=function(){function xe(){this.focusableComponents={},this.focusKey=null,this.parentsHavingFocusedChild=[],this.domNodeFocusOptions={},this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.useGetBoundingClientRect=!1,this.shouldFocusDOMNode=!1,this.shouldUseNativeEvents=!1,this.writingDirection=T.default.LTR,this.pressedKeys={},this.paused=!1,this.keyDownEventListener=null,this.keyUpEventListener=null,this.keyMap=ke,this.pause=this.pause.bind(this),this.resume=this.resume.bind(this),this.setFocus=this.setFocus.bind(this),this.updateAllLayouts=this.updateAllLayouts.bind(this),this.navigateByDirection=this.navigateByDirection.bind(this),this.init=this.init.bind(this),this.setThrottle=this.setThrottle.bind(this),this.destroy=this.destroy.bind(this),this.setKeyMap=this.setKeyMap.bind(this),this.getCurrentFocusKey=this.getCurrentFocusKey.bind(this),this.doesFocusableExist=this.doesFocusableExist.bind(this),this.updateRtl=this.updateRtl.bind(this),this.setFocusDebounced=(0,S.default)(this.setFocus,300,{leading:!1,trailing:!0}),this.debug=!1,this.visualDebugger=null,this.logIndex=0,this.distanceCalculationMethod="corners"}return xe.getCutoffCoordinate=function(re,he,fe,be,Me){var Pe=re?be.top:Me===T.default.LTR?be.left:be.right,Ie=re?be.bottom:Me===T.default.LTR?be.right:be.left;return he?fe?Pe:Ie:fe?Ie:Pe},xe.getRefCorners=function(re,he,fe){var be={a:{x:0,y:0},b:{x:0,y:0}};switch(re){case oe:var Me=he?fe.bottom:fe.top;be.a={x:fe.left,y:Me},be.b={x:fe.right,y:Me};break;case ge:Me=he?fe.top:fe.bottom,be.a={x:fe.left,y:Me},be.b={x:fe.right,y:Me};break;case se:var Pe=he?fe.right:fe.left;be.a={x:Pe,y:fe.top},be.b={x:Pe,y:fe.bottom};break;case pe:Pe=he?fe.left:fe.right,be.a={x:Pe,y:fe.top},be.b={x:Pe,y:fe.bottom}}return be},xe.isAdjacentSlice=function(re,he,fe){var be=re.a,Me=re.b,Pe=he.a,Ie=he.b,He=fe?"x":"y",je=be[He],ze=Me[He],Ye=Pe[He],tt=Ie[He],Qe=.2*(ze-je);return Math.max(0,Math.min(ze,tt)-Math.max(je,Ye))>=Qe},xe.getPrimaryAxisDistance=function(re,he,fe){var be=re.a,Me=he.a,Pe=fe?"y":"x";return Math.abs(Me[Pe]-be[Pe])},xe.getSecondaryAxisDistance=function(re,he,fe,be,Me){if(Me)return Me(re,he,fe,be);var Pe=re.a,Ie=re.b,He=he.a,je=he.b,ze=fe?"x":"y",Ye=Pe[ze],tt=Ie[ze],Qe=He[ze],vt=je[ze];if(be==="center"){var St=(Ye+tt)/2,pt=(Qe+vt)/2;return Math.abs(St-pt)}if(be==="edges"){var Nt=Math.min(Ye,tt),wt=Math.min(Qe,vt),si=Math.max(Ye,tt),bi=Math.max(Qe,vt),lt=Math.abs(Nt-wt),Qt=Math.abs(si-bi);return Math.min(lt,Qt)}var It=[Math.abs(Qe-Ye),Math.abs(Qe-tt),Math.abs(vt-Ye),Math.abs(vt-tt)];return Math.min.apply(Math,It)},xe.prototype.sortSiblingsByPriority=function(re,he,fe,be){var Me=this,Pe=fe===ge||fe===oe,Ie=xe.getRefCorners(fe,!1,he);return(0,C.default)(re,function(He){var je=xe.getRefCorners(fe,!0,He.layout),ze=xe.isAdjacentSlice(Ie,je,Pe),Ye=ze?xe.getPrimaryAxisDistance:xe.getSecondaryAxisDistance,tt=ze?xe.getSecondaryAxisDistance:xe.getPrimaryAxisDistance,Qe=Ye(Ie,je,Pe,Me.distanceCalculationMethod,Me.customDistanceCalculationFunction),vt=tt(Ie,je,Pe,Me.distanceCalculationMethod,Me.customDistanceCalculationFunction),St=5*Qe+vt,pt=(St+1)/(ze?5:1);return Me.log("smartNavigate","distance (primary, secondary, total weighted) for ".concat(He.focusKey," relative to ").concat(be," is"),Qe,vt,St),Me.log("smartNavigate","priority for ".concat(He.focusKey," relative to ").concat(be," is"),pt),Me.visualDebugger&&(Me.visualDebugger.drawPoint(je.a.x,je.a.y,"yellow",6),Me.visualDebugger.drawPoint(je.b.x,je.b.y,"yellow",6)),pt})},xe.prototype.init=function(re){var he=this,fe=re===void 0?{}:re,be=fe.debug,Me=be!==void 0&&be,Pe=fe.visualDebug,Ie=Pe!==void 0&&Pe,He=fe.nativeMode,je=He!==void 0&&He,ze=fe.throttle,Ye=ze===void 0?0:ze,tt=fe.throttleKeypresses,Qe=tt!==void 0&&tt,vt=fe.useGetBoundingClientRect,St=vt!==void 0&&vt,pt=fe.shouldFocusDOMNode,Nt=pt!==void 0&&pt,wt=fe.domNodeFocusOptions,si=wt===void 0?{}:wt,bi=fe.shouldUseNativeEvents,lt=bi!==void 0&&bi,Qt=fe.rtl,It=Qt!==void 0&&Qt,Bt=fe.distanceCalculationMethod,At=Bt===void 0?"corners":Bt,Gt=fe.customDistanceCalculationFunction,us=Gt===void 0?void 0:Gt;if(!this.enabled&&(this.domNodeFocusOptions=si,this.enabled=!0,this.nativeMode=je,this.throttleKeypresses=Qe,this.useGetBoundingClientRect=St,this.shouldFocusDOMNode=Nt&&!je,this.shouldUseNativeEvents=lt,this.writingDirection=It?T.default.RTL:T.default.LTR,this.distanceCalculationMethod=At,this.customDistanceCalculationFunction=us,this.debug=Me,!this.nativeMode&&(Number.isInteger(Ye)&&Ye>0&&(this.throttle=Ye),this.bindEventHandlers(),Ie))){this.visualDebugger=new $.default(this.writingDirection);var ir=function(){requestAnimationFrame(function(){he.visualDebugger.clearLayouts(),(0,ee.default)(he.focusableComponents,function(Lr,Pr){he.visualDebugger.drawLayout(Lr.layout,Pr,Lr.parentFocusKey)}),ir()})};ir()}},xe.prototype.setThrottle=function(re){var he=re===void 0?{}:re,fe=he.throttle,be=fe===void 0?0:fe,Me=he.throttleKeypresses,Pe=Me!==void 0&&Me;this.throttleKeypresses=Pe,this.nativeMode||(this.unbindEventHandlers(),Number.isInteger(be)&&(this.throttle=be),this.bindEventHandlers())},xe.prototype.destroy=function(){this.enabled&&(this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.focusKey=null,this.parentsHavingFocusedChild=[],this.focusableComponents={},this.paused=!1,this.keyMap=ke,this.unbindEventHandlers())},xe.prototype.getEventType=function(re){return(0,U.default)(this.getKeyMap(),function(he){return he.includes(re)})},xe.getKeyCode=function(re){return re.keyCode||re.code||re.key},xe.prototype.bindEventHandlers=function(){var re=this;typeof window<"u"&&window.addEventListener&&(this.keyDownEventListener=function(he){if(re.paused!==!0){re.debug&&(re.logIndex+=1);var fe=xe.getKeyCode(he),be=re.getEventType(fe);if(be){re.pressedKeys[be]=re.pressedKeys[be]?re.pressedKeys[be]+1:1,re.shouldUseNativeEvents||(he.preventDefault(),he.stopPropagation());var Me={pressedKeys:re.pressedKeys};if(be===Ee&&re.focusKey)re.onEnterPress(Me);else{var Pe=re.onArrowPress(be,Me)===!1;if(re.visualDebugger&&re.visualDebugger.clear(),Pe)re.log("keyDownEventListener","default navigation prevented");else{var Ie=(0,U.default)(re.getKeyMap(),function(He){return He.includes(fe)});re.smartNavigate(Ie,null,{event:he})}}}}},this.throttle&&(this.keyDownEventListenerThrottled=(0,le.default)(this.keyDownEventListener.bind(this),this.throttle,Ge)),this.keyUpEventListener=function(he){var fe=xe.getKeyCode(he),be=re.getEventType(fe);delete re.pressedKeys[be],re.throttle&&!re.throttleKeypresses&&re.keyDownEventListenerThrottled.cancel(),be===Ee&&re.focusKey&&re.onEnterRelease(),!re.focusKey||be!==se&&be!==pe&&be!==oe&&be!==ge||re.onArrowRelease(be)},window.addEventListener("keyup",this.keyUpEventListener),window.addEventListener("keydown",this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener))},xe.prototype.unbindEventHandlers=function(){if(typeof window<"u"&&window.removeEventListener){window.removeEventListener("keyup",this.keyUpEventListener),this.keyUpEventListener=null;var re=this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener;window.removeEventListener("keydown",re),this.keyDownEventListener=null}},xe.prototype.onEnterPress=function(re){var he=this.focusableComponents[this.focusKey];he?he.focusable?he.onEnterPress&&he.onEnterPress(re):this.log("onEnterPress","componentNotFocusable"):this.log("onEnterPress","noComponent")},xe.prototype.onEnterRelease=function(){var re=this.focusableComponents[this.focusKey];re?re.focusable?re.onEnterRelease&&re.onEnterRelease():this.log("onEnterRelease","componentNotFocusable"):this.log("onEnterRelease","noComponent")},xe.prototype.onArrowPress=function(re,he){var fe=this.focusableComponents[this.focusKey];if(fe)return fe&&fe.onArrowPress&&fe.onArrowPress(re,he);this.log("onArrowPress","noComponent")},xe.prototype.onArrowRelease=function(re){var he=this.focusableComponents[this.focusKey];he?he.focusable?he.onArrowRelease&&he.onArrowRelease(re):this.log("onArrowRelease","componentNotFocusable"):this.log("onArrowRelease","noComponent")},xe.prototype.navigateByDirection=function(re,he){if(this.paused!==!0&&this.enabled&&!this.nativeMode){var fe=[ge,oe,se,pe];fe.includes(re)?(this.log("navigateByDirection","direction",re),this.smartNavigate(re,null,he)):this.log("navigateByDirection","Invalid direction. You passed: `".concat(re,"`, but you can use only these: "),fe)}},xe.prototype.smartNavigate=function(re,he,fe){var be=this;if(!this.nativeMode){var Me=re===ge||re===oe,Pe=re===ge||(this.writingDirection===T.default.LTR?re===pe:re===se);this.log("smartNavigate","direction",re),this.log("smartNavigate","fromParentFocusKey",he),this.log("smartNavigate","this.focusKey",this.focusKey),he||(0,ee.default)(this.focusableComponents,function(wt){wt.layoutUpdated=!1});var Ie=this.focusableComponents[he||this.focusKey];if(he||Ie){if(this.log("smartNavigate","currentComponent",Ie?Ie.focusKey:void 0,Ie?Ie.node:void 0,Ie),Ie){this.updateLayout(Ie.focusKey);var He=Ie.parentFocusKey,je=Ie.focusKey,ze=Ie.layout,Ye=xe.getCutoffCoordinate(Me,Pe,!1,ze,this.writingDirection),tt=(0,W.default)(this.focusableComponents,function(wt){if(wt.parentFocusKey===He&&wt.focusable){be.updateLayout(wt.focusKey);var si=xe.getCutoffCoordinate(Me,Pe,!0,wt.layout,be.writingDirection);return Me||be.writingDirection===T.default.LTR?Pe?si>=Ye:si<=Ye:Pe?si<=Ye:si>=Ye}return!1});if(this.debug&&(this.log("smartNavigate","currentCutoffCoordinate",Ye),this.log("smartNavigate","siblings","".concat(tt.length," elements:"),tt.map(function(wt){return wt.focusKey}).join(", "),tt.map(function(wt){return wt.node}),tt.map(function(wt){return wt}))),this.visualDebugger){var Qe=xe.getRefCorners(re,!1,ze);this.visualDebugger.drawPoint(Qe.a.x,Qe.a.y),this.visualDebugger.drawPoint(Qe.b.x,Qe.b.y)}var vt=this.sortSiblingsByPriority(tt,ze,re,je),St=(0,Y.default)(vt);if(this.log("smartNavigate","nextComponent",St?St.focusKey:void 0,St?St.node:void 0,St),St)this.setFocus(St.focusKey,fe);else{var pt=this.focusableComponents[He],Nt=pt!=null&&pt.isFocusBoundary?pt.focusBoundaryDirections||[re]:[];pt&&Nt.includes(re)||this.smartNavigate(re,He,fe)}}}else this.setFocus(this.getForcedFocusKey())}},xe.prototype.saveLastFocusedChildKey=function(re,he){re&&(this.log("saveLastFocusedChildKey","".concat(re.focusKey," lastFocusedChildKey set"),he),re.lastFocusedChildKey=he)},xe.prototype.log=function(re,he){for(var fe=[],be=2;be<arguments.length;be++)fe[be-2]=arguments[be];this.debug&&console.log.apply(console,J(["%c".concat(re,"%c").concat(he),"background: ".concat(Be[this.logIndex%Be.length],"; color: black; padding: 1px 5px;"),"background: #333; color: #BADA55; padding: 1px 5px;"],fe,!1))},xe.prototype.getCurrentFocusKey=function(){return this.focusKey},xe.prototype.getForcedFocusKey=function(){var re,he=(0,W.default)(this.focusableComponents,function(be){return be.focusable&&be.forceFocus}),fe=this.sortSiblingsByPriority(he,{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0,node:null},"down",P.ROOT_FOCUS_KEY);return(re=(0,Y.default)(fe))===null||re===void 0?void 0:re.focusKey},xe.prototype.getNextFocusKey=function(re){var he=this,fe=this.focusableComponents[re];if(!fe||this.nativeMode)return re;var be=(0,W.default)(this.focusableComponents,function(He){return He.parentFocusKey===re&&He.focusable});if(be.length>0){var Me=fe.lastFocusedChildKey,Pe=fe.preferredChildFocusKey;if(this.log("getNextFocusKey","lastFocusedChildKey is",Me),this.log("getNextFocusKey","preferredChildFocusKey is",Pe),Me&&fe.saveLastFocusedChild&&this.isParticipatingFocusableComponent(Me))return this.log("getNextFocusKey","lastFocusedChildKey will be focused",Me),this.getNextFocusKey(Me);if(Pe&&this.isParticipatingFocusableComponent(Pe))return this.log("getNextFocusKey","preferredChildFocusKey will be focused",Pe),this.getNextFocusKey(Pe);be.forEach(function(He){return he.updateLayout(He.focusKey)});var Ie=function(He,je){var ze=je===T.default.LTR?function(tt){var Qe=tt.layout;return Math.abs(Qe.left)+Math.abs(Qe.top)}:function(tt){var Qe=tt.layout;return Math.abs(window.innerWidth-Qe.right)+Math.abs(Qe.top)},Ye=(0,C.default)(He,ze);return(0,Y.default)(Ye)}(be,this.writingDirection).focusKey;return this.log("getNextFocusKey","childKey will be focused",Ie),this.getNextFocusKey(Ie)}return this.log("getNextFocusKey","targetFocusKey",re),re},xe.prototype.addFocusable=function(re){var he=re.focusKey,fe=re.node,be=re.parentFocusKey,Me=re.onEnterPress,Pe=re.onEnterRelease,Ie=re.onArrowPress,He=re.onArrowRelease,je=re.onFocus,ze=re.onBlur,Ye=re.saveLastFocusedChild,tt=re.trackChildren,Qe=re.onUpdateFocus,vt=re.onUpdateHasFocusedChild,St=re.preferredChildFocusKey,pt=re.autoRestoreFocus,Nt=re.forceFocus,wt=re.focusable,si=re.isFocusBoundary,bi=re.focusBoundaryDirections;if(this.focusableComponents[he]={focusKey:he,node:fe,parentFocusKey:be,onEnterPress:Me,onEnterRelease:Pe,onArrowPress:Ie,onArrowRelease:He,onFocus:je,onBlur:ze,onUpdateFocus:Qe,onUpdateHasFocusedChild:vt,saveLastFocusedChild:Ye,trackChildren:tt,preferredChildFocusKey:St,focusable:wt,isFocusBoundary:si,focusBoundaryDirections:bi,autoRestoreFocus:pt,forceFocus:Nt,lastFocusedChildKey:null,layout:{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0,node:fe},layoutUpdated:!1},fe||console.warn('Component added without a node reference. This will result in its coordinates being empty and may cause lost focus. Check the "ref" passed to "useFocusable": ',this.focusableComponents[he]),!this.nativeMode){this.updateLayout(he),this.log("addFocusable","Component added: ",this.focusableComponents[he]),he===this.focusKey&&this.setFocus(St||he);for(var lt=this.focusableComponents[this.focusKey];lt;){if(lt.parentFocusKey===he){this.updateParentsHasFocusedChild(this.focusKey,{}),this.updateParentsLastFocusedChild(this.focusKey);break}lt=this.focusableComponents[lt.parentFocusKey]}}},xe.prototype.removeFocusable=function(re){var he=re.focusKey,fe=this.focusableComponents[he];if(fe){var be=fe.parentFocusKey;(0,fe.onUpdateFocus)(!1),this.log("removeFocusable","Component removed: ",fe),delete this.focusableComponents[he];var Me=this.parentsHavingFocusedChild.includes(he);this.parentsHavingFocusedChild=this.parentsHavingFocusedChild.filter(function(He){return He!==he});var Pe=this.focusableComponents[be],Ie=he===this.focusKey;if(Pe&&Pe.lastFocusedChildKey===he&&(Pe.lastFocusedChildKey=null),this.nativeMode)return;(Ie||Me)&&Pe&&Pe.autoRestoreFocus&&(this.log("removeFocusable","Component removed: ",Ie?"Leaf component":"Container component","Auto restoring focus to: ",be),this.setFocusDebounced(be))}},xe.prototype.getNodeLayoutByFocusKey=function(re){var he=this.focusableComponents[re];return he?(this.updateLayout(he.focusKey),he.layout):null},xe.prototype.setCurrentFocusedKey=function(re,he){var fe,be,Me,Pe;if(this.isFocusableComponent(this.focusKey)&&re!==this.focusKey){var Ie=this.focusableComponents[this.focusKey];Ie.onUpdateFocus(!1),Ie.onBlur(this.getNodeLayoutByFocusKey(this.focusKey),he),(be=(fe=Ie.node)===null||fe===void 0?void 0:fe.removeAttribute)===null||be===void 0||be.call(fe,"data-focused"),this.log("setCurrentFocusedKey","onBlur",Ie)}if(this.focusKey=re,this.isFocusableComponent(this.focusKey)){var He=this.focusableComponents[this.focusKey];this.shouldFocusDOMNode&&He.node&&He.node.focus(this.domNodeFocusOptions),(Pe=(Me=He.node)===null||Me===void 0?void 0:Me.setAttribute)===null||Pe===void 0||Pe.call(Me,"data-focused","true"),He.onUpdateFocus(!0),He.onFocus(this.getNodeLayoutByFocusKey(this.focusKey),he),this.log("setCurrentFocusedKey","onFocus",He)}},xe.prototype.updateParentsHasFocusedChild=function(re,he){for(var fe=this,be=[],Me=this.focusableComponents[re];Me;){var Pe=Me.parentFocusKey,Ie=this.focusableComponents[Pe];if(Ie){var He=Ie.focusKey;be.push(He)}Me=Ie}var je=(0,z.default)(this.parentsHavingFocusedChild,be),ze=(0,z.default)(be,this.parentsHavingFocusedChild);(0,ue.default)(je,function(Ye){var tt=fe.focusableComponents[Ye];tt&&tt.trackChildren&&tt.onUpdateHasFocusedChild(!1),fe.onIntermediateNodeBecameBlurred(Ye,he)}),(0,ue.default)(ze,function(Ye){var tt=fe.focusableComponents[Ye];tt&&tt.trackChildren&&tt.onUpdateHasFocusedChild(!0),fe.onIntermediateNodeBecameFocused(Ye,he)}),this.parentsHavingFocusedChild=be},xe.prototype.updateParentsLastFocusedChild=function(re){for(var he=this.focusableComponents[re];he;){var fe=he.parentFocusKey,be=this.focusableComponents[fe];be&&this.saveLastFocusedChildKey(be,he.focusKey),he=be}},xe.prototype.getKeyMap=function(){return this.keyMap},xe.prototype.setKeyMap=function(re){this.keyMap=Q(Q({},this.getKeyMap()),function(he){var fe={};return Object.entries(he).forEach(function(be){var Me=be[0],Pe=be[1];fe[Me]=Array.isArray(Pe)?Pe:[Pe]}),fe}(re))},xe.prototype.isFocusableComponent=function(re){return!!this.focusableComponents[re]},xe.prototype.isParticipatingFocusableComponent=function(re){return this.isFocusableComponent(re)&&this.focusableComponents[re].focusable},xe.prototype.onIntermediateNodeBecameFocused=function(re,he){this.isParticipatingFocusableComponent(re)&&this.focusableComponents[re].onFocus(this.getNodeLayoutByFocusKey(re),he)},xe.prototype.onIntermediateNodeBecameBlurred=function(re,he){this.isParticipatingFocusableComponent(re)&&this.focusableComponents[re].onBlur(this.getNodeLayoutByFocusKey(re),he)},xe.prototype.pause=function(){this.paused=!0},xe.prototype.resume=function(){this.paused=!1},xe.prototype.setFocus=function(re,he){if(he===void 0&&(he={}),this.setFocusDebounced.cancel(),this.enabled){this.log("setFocus","focusKey",re),re&&re!==P.ROOT_FOCUS_KEY||(re=this.getForcedFocusKey());var fe=this.getNextFocusKey(re);this.log("setFocus","newFocusKey",fe),this.setCurrentFocusedKey(fe,he),this.updateParentsHasFocusedChild(fe,he),this.updateParentsLastFocusedChild(fe)}},xe.prototype.updateAllLayouts=function(){var re=this;this.enabled&&!this.nativeMode&&(0,ee.default)(this.focusableComponents,function(he,fe){re.updateLayout(fe)})},xe.prototype.updateLayout=function(re){var he=this.focusableComponents[re];if(he&&!this.nativeMode&&!he.layoutUpdated){var fe=he.node,be=this.useGetBoundingClientRect?(0,M.getBoundingClientRect)(fe):(0,M.default)(fe);he.layout=Q(Q({},be),{node:fe})}},xe.prototype.updateFocusable=function(re,he){var fe=he.node,be=he.preferredChildFocusKey,Me=he.focusable,Pe=he.isFocusBoundary,Ie=he.focusBoundaryDirections,He=he.onEnterPress,je=he.onEnterRelease,ze=he.onArrowPress,Ye=he.onFocus,tt=he.onBlur;if(!this.nativeMode){var Qe=this.focusableComponents[re];Qe&&(Qe.preferredChildFocusKey=be,Qe.focusable=Me,Qe.isFocusBoundary=Pe,Qe.focusBoundaryDirections=Ie,Qe.onEnterPress=He,Qe.onEnterRelease=je,Qe.onArrowPress=ze,Qe.onFocus=Ye,Qe.onBlur=tt,fe&&(Qe.node=fe))}},xe.prototype.isNativeMode=function(){return this.nativeMode},xe.prototype.doesFocusableExist=function(re){return!!this.focusableComponents[re]},xe.prototype.updateRtl=function(re){this.writingDirection=re?T.default.RTL:T.default.LTR},xe}();P.SpatialNavigation=new Ve,P.init=P.SpatialNavigation.init,P.setThrottle=P.SpatialNavigation.setThrottle,P.destroy=P.SpatialNavigation.destroy,P.setKeyMap=P.SpatialNavigation.setKeyMap,P.setFocus=P.SpatialNavigation.setFocus,P.navigateByDirection=P.SpatialNavigation.navigateByDirection,P.pause=P.SpatialNavigation.pause,P.resume=P.SpatialNavigation.resume,P.updateAllLayouts=P.SpatialNavigation.updateAllLayouts,P.getCurrentFocusKey=P.SpatialNavigation.getCurrentFocusKey,P.doesFocusableExist=P.SpatialNavigation.doesFocusableExist,P.updateRtl=P.SpatialNavigation.updateRtl},35:function(I,P,H){var q=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(P,"__esModule",{value:!0});var Q=q(H(119)),O=typeof window<"u"&&window.document,N=O?window.innerWidth:0,F=O?window.innerHeight:0,J=function(){function x(S){O&&(this.debugCtx=x.createCanvas("sn-debug","1010",S),this.layoutsCtx=x.createCanvas("sn-layouts","1000",S),this.writingDirection=S)}return x.createCanvas=function(S,z,W){var U=document.querySelector("#".concat(S))||document.createElement("canvas");U.setAttribute("id",S),U.setAttribute("dir",W===Q.default.LTR?"ltr":"rtl");var Y=U.getContext("2d");return U.style.zIndex=z,U.style.position="fixed",U.style.top="0",U.style.left="0",document.body.appendChild(U),U.width=N,U.height=F,Y},x.prototype.clear=function(){O&&this.debugCtx.clearRect(0,0,N,F)},x.prototype.clearLayouts=function(){O&&this.layoutsCtx.clearRect(0,0,N,F)},x.prototype.drawLayout=function(S,z,W){if(O){this.layoutsCtx.strokeStyle="green",this.layoutsCtx.strokeRect(S.left,S.top,S.width,S.height),this.layoutsCtx.font="8px monospace",this.layoutsCtx.fillStyle="red";var U=this.writingDirection===Q.default.LTR?"left":"right",Y=S[U];this.layoutsCtx.fillText(z,Y,S.top+10),this.layoutsCtx.fillText(W,Y,S.top+25),this.layoutsCtx.fillText("".concat(U,": ").concat(Y),Y,S.top+40),this.layoutsCtx.fillText("top: ".concat(S.top),Y,S.top+55)}},x.prototype.drawPoint=function(S,z,W,U){W===void 0&&(W="blue"),U===void 0&&(U=10),O&&(this.debugCtx.strokeStyle=W,this.debugCtx.lineWidth=3,this.debugCtx.strokeRect(S-U/2,z-U/2,U,U))},x}();P.default=J},119:function(I,P){var H;Object.defineProperty(P,"__esModule",{value:!0}),function(q){q[q.LTR=0]="LTR",q[q.RTL=1]="RTL"}(H||(H={})),P.default=H},607:function(I,P,H){var q=this&&this.__createBinding||(Object.create?function(O,N,F,J){J===void 0&&(J=F);var x=Object.getOwnPropertyDescriptor(N,F);x&&!("get"in x?!N.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return N[F]}}),Object.defineProperty(O,J,x)}:function(O,N,F,J){J===void 0&&(J=F),O[J]=N[F]}),Q=this&&this.__exportStar||function(O,N){for(var F in O)F==="default"||Object.prototype.hasOwnProperty.call(N,F)||q(N,O,F)};Object.defineProperty(P,"__esModule",{value:!0}),Q(H(79),P),Q(H(445),P),Q(H(654),P)},964:function(I,P){Object.defineProperty(P,"__esModule",{value:!0}),P.getBoundingClientRect=void 0;var H=function(q){for(var Q=q.offsetParent,O=q.offsetHeight,N=q.offsetWidth,F=q.offsetLeft,J=q.offsetTop;Q&&Q.nodeType===1;)F+=Q.offsetLeft-Q.scrollLeft,J+=Q.offsetTop-Q.scrollTop,Q=Q.offsetParent;return{height:O,left:F,top:J,width:N}};P.default=function(q){var Q=q&&q.parentElement;if(q&&Q){var O=H(Q),N=H(q),F=N.height,J=N.left,x=N.top,S=N.width;return{x:J-O.left,y:x-O.top,width:S,height:F,left:J,top:x,get right(){return this.left+this.width},get bottom(){return this.top+this.height}}}return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}},P.getBoundingClientRect=function(q){if(q&&q.getBoundingClientRect){var Q=q.getBoundingClientRect();return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,left:Q.left,top:Q.top,get right(){return this.left+this.width},get bottom(){return this.top+this.height}}}return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}}},445:function(I,P,H){Object.defineProperty(P,"__esModule",{value:!0}),P.useFocusContext=P.FocusContext=void 0;var q=H(156),Q=H(654);P.FocusContext=(0,q.createContext)(Q.ROOT_FOCUS_KEY),P.FocusContext.displayName="FocusContext",P.useFocusContext=function(){return(0,q.useContext)(P.FocusContext)}},79:function(I,P,H){var q=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(P,"__esModule",{value:!0}),P.useFocusable=void 0;var Q=H(156),O=q(H(604)),N=q(H(461)),F=H(654),J=H(445);P.useFocusable=function(x){var S=x===void 0?{}:x,z=S.focusable,W=z===void 0||z,U=S.saveLastFocusedChild,Y=U===void 0||U,ue=S.trackChildren,ee=ue!==void 0&&ue,C=S.autoRestoreFocus,le=C===void 0||C,$=S.forceFocus,T=$!==void 0&&$,M=S.isFocusBoundary,se=M!==void 0&&M,pe=S.focusBoundaryDirections,oe=S.focusKey,ge=S.preferredChildFocusKey,Ee=S.onEnterPress,ke=Ee===void 0?O.default:Ee,Be=S.onEnterRelease,Ge=Be===void 0?O.default:Be,Ve=S.onArrowPress,xe=Ve===void 0?function(){return!0}:Ve,re=S.onArrowRelease,he=re===void 0?O.default:re,fe=S.onFocus,be=fe===void 0?O.default:fe,Me=S.onBlur,Pe=Me===void 0?O.default:Me,Ie=S.extraProps,He=(0,Q.useCallback)(function(Bt){ke(Ie,Bt)},[ke,Ie]),je=(0,Q.useCallback)(function(){Ge(Ie)},[Ge,Ie]),ze=(0,Q.useCallback)(function(Bt,At){return xe(Bt,Ie,At)},[Ie,xe]),Ye=(0,Q.useCallback)(function(Bt){he(Bt,Ie)},[he,Ie]),tt=(0,Q.useCallback)(function(Bt,At){be(Bt,Ie,At)},[Ie,be]),Qe=(0,Q.useCallback)(function(Bt,At){Pe(Bt,Ie,At)},[Ie,Pe]),vt=(0,Q.useRef)(null),St=(0,Q.useState)(!1),pt=St[0],Nt=St[1],wt=(0,Q.useState)(!1),si=wt[0],bi=wt[1],lt=(0,J.useFocusContext)(),Qt=(0,Q.useMemo)(function(){return oe||(0,N.default)("sn:focusable-item-")},[oe]),It=(0,Q.useCallback)(function(Bt){Bt===void 0&&(Bt={}),F.SpatialNavigation.setFocus(Qt,Bt)},[Qt]);return(0,Q.useEffect)(function(){var Bt=vt.current;return F.SpatialNavigation.addFocusable({focusKey:Qt,node:Bt,parentFocusKey:lt,preferredChildFocusKey:ge,onEnterPress:He,onEnterRelease:je,onArrowPress:ze,onArrowRelease:Ye,onFocus:tt,onBlur:Qe,onUpdateFocus:function(At){return At===void 0&&(At=!1),Nt(At)},onUpdateHasFocusedChild:function(At){return At===void 0&&(At=!1),bi(At)},saveLastFocusedChild:Y,trackChildren:ee,isFocusBoundary:se,focusBoundaryDirections:pe,autoRestoreFocus:le,forceFocus:T,focusable:W}),function(){F.SpatialNavigation.removeFocusable({focusKey:Qt})}},[]),(0,Q.useEffect)(function(){var Bt=vt.current;F.SpatialNavigation.updateFocusable(Qt,{node:Bt,preferredChildFocusKey:ge,focusable:W,isFocusBoundary:se,focusBoundaryDirections:pe,onEnterPress:He,onEnterRelease:je,onArrowPress:ze,onArrowRelease:Ye,onFocus:tt,onBlur:Qe})},[Qt,ge,W,se,pe,He,je,ze,Ye,tt,Qe]),{ref:vt,focusSelf:It,focused:pt,hasFocusedChild:si,focusKey:Qt}}},150:function(I){I.exports=t},117:function(I){I.exports=i},747:function(I){I.exports=s},23:function(I){I.exports=o},842:function(I){I.exports=l},682:function(I){I.exports=d},784:function(I){I.exports=h},604:function(I){I.exports=m},432:function(I){I.exports=b},67:function(I){I.exports=w},461:function(I){I.exports=L},156:function(I){I.exports=k}},A={};return function I(P){var H=A[P];if(H!==void 0)return H.exports;var q=A[P]={exports:{}};return j[P].call(q.exports,q,q.exports,I),q.exports}(607)}()})}(Kd)),Kd.exports}var ni=F3(),ry={},sy={},Bl={},ay={},gx;function q3(){return gx||(gx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e}(ay)),ay}var oy,yx;function j3(){if(yx)return oy;yx=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,h=typeof Un=="object"&&Un&&Un.Object===Object&&Un,m=typeof self=="object"&&self&&self.Object===Object&&self,b=h||m||Function("return this")(),w=Object.prototype,L=w.toString,k=Math.max,j=Math.min,A=function(){return b.Date.now()};function I(O,N,F){var J,x,S,z,W,U,Y=0,ue=!1,ee=!1,C=!0;if(typeof O!="function")throw new TypeError(n);N=Q(N)||0,P(F)&&(ue=!!F.leading,ee="maxWait"in F,S=ee?k(Q(F.maxWait)||0,N):S,C="trailing"in F?!!F.trailing:C);function le(ke){var Be=J,Ge=x;return J=x=void 0,Y=ke,z=O.apply(Ge,Be),z}function $(ke){return Y=ke,W=setTimeout(se,N),ue?le(ke):z}function T(ke){var Be=ke-U,Ge=ke-Y,Ve=N-Be;return ee?j(Ve,S-Ge):Ve}function M(ke){var Be=ke-U,Ge=ke-Y;return U===void 0||Be>=N||Be<0||ee&&Ge>=S}function se(){var ke=A();if(M(ke))return pe(ke);W=setTimeout(se,T(ke))}function pe(ke){return W=void 0,C&&J?le(ke):(J=x=void 0,z)}function oe(){W!==void 0&&clearTimeout(W),Y=0,J=U=x=W=void 0}function ge(){return W===void 0?z:pe(A())}function Ee(){var ke=A(),Be=M(ke);if(J=arguments,x=this,U=ke,Be){if(W===void 0)return $(U);if(ee)return W=setTimeout(se,N),le(U)}return W===void 0&&(W=setTimeout(se,N)),z}return Ee.cancel=oe,Ee.flush=ge,Ee}function P(O){var N=typeof O;return!!O&&(N=="object"||N=="function")}function H(O){return!!O&&typeof O=="object"}function q(O){return typeof O=="symbol"||H(O)&&L.call(O)==t}function Q(O){if(typeof O=="number")return O;if(q(O))return e;if(P(O)){var N=typeof O.valueOf=="function"?O.valueOf():O;O=P(N)?N+"":N}if(typeof O!="string")return O===0?O:+O;O=O.replace(i,"");var F=o.test(O);return F||l.test(O)?d(O.slice(2),F?2:8):s.test(O)?e:+O}return oy=I,oy}var uy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vx;function Oh(){return vx||(vx=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var d=arguments[l];d&&(o=s(o,i(d)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var d in o)e.call(o,d)&&o[d]&&(l=s(l,d));return l}function s(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(uy)),uy.exports}var $e={},ly={},_x;function ZC(){return _x||(_x=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(er());function t(s){return s&&s.__esModule?s:{default:s}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i}(ly)),ly}var bx;function gc(){if(bx)return $e;bx=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.checkSpecKeys=$e.checkNavigable=$e.changeSlide=$e.canUseDOM=$e.canGoNext=void 0,$e.clamp=m,$e.extractObject=void 0,$e.filterSettings=le,$e.validSettings=$e.swipeStart=$e.swipeMove=$e.swipeEnd=$e.slidesOnRight=$e.slidesOnLeft=$e.slideHandler=$e.siblingDirection=$e.safePreventDefault=$e.lazyStartIndex=$e.lazySlidesOnRight=$e.lazySlidesOnLeft=$e.lazyEndIndex=$e.keyHandler=$e.initializedState=$e.getWidth=$e.getTrackLeft=$e.getTrackCSS=$e.getTrackAnimateCSS=$e.getTotalSlides=$e.getSwipeDirection=$e.getSlideCount=$e.getRequiredLazySlides=$e.getPreClones=$e.getPostClones=$e.getOnDemandLazySlides=$e.getNavigableIndexes=$e.getHeight=void 0;var n=t(er()),e=t(ZC());function t($){return $&&$.__esModule?$:{default:$}}function i($){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i($)}function s($,T){var M=Object.keys($);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols($);T&&(se=se.filter(function(pe){return Object.getOwnPropertyDescriptor($,pe).enumerable})),M.push.apply(M,se)}return M}function o($){for(var T=1;T<arguments.length;T++){var M=arguments[T]!=null?arguments[T]:{};T%2?s(Object(M),!0).forEach(function(se){l($,se,M[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(M)):s(Object(M)).forEach(function(se){Object.defineProperty($,se,Object.getOwnPropertyDescriptor(M,se))})}return $}function l($,T,M){return T=d(T),T in $?Object.defineProperty($,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):$[T]=M,$}function d($){var T=h($,"string");return i(T)=="symbol"?T:String(T)}function h($,T){if(i($)!="object"||!$)return $;var M=$[Symbol.toPrimitive];if(M!==void 0){var se=M.call($,T);if(i(se)!="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)($)}function m($,T,M){return Math.max(T,Math.min($,M))}var b=$e.safePreventDefault=function(T){var M=["onTouchStart","onTouchMove","onWheel"];M.includes(T._reactName)||T.preventDefault()},w=$e.getOnDemandLazySlides=function(T){for(var M=[],se=L(T),pe=k(T),oe=se;oe<pe;oe++)T.lazyLoadedList.indexOf(oe)<0&&M.push(oe);return M};$e.getRequiredLazySlides=function(T){for(var M=[],se=L(T),pe=k(T),oe=se;oe<pe;oe++)M.push(oe);return M};var L=$e.lazyStartIndex=function(T){return T.currentSlide-j(T)},k=$e.lazyEndIndex=function(T){return T.currentSlide+A(T)},j=$e.lazySlidesOnLeft=function(T){return T.centerMode?Math.floor(T.slidesToShow/2)+(parseInt(T.centerPadding)>0?1:0):0},A=$e.lazySlidesOnRight=function(T){return T.centerMode?Math.floor((T.slidesToShow-1)/2)+1+(parseInt(T.centerPadding)>0?1:0):T.slidesToShow},I=$e.getWidth=function(T){return T&&T.offsetWidth||0},P=$e.getHeight=function(T){return T&&T.offsetHeight||0},H=$e.getSwipeDirection=function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,se,pe,oe,ge;return se=T.startX-T.curX,pe=T.startY-T.curY,oe=Math.atan2(pe,se),ge=Math.round(oe*180/Math.PI),ge<0&&(ge=360-Math.abs(ge)),ge<=45&&ge>=0||ge<=360&&ge>=315?"left":ge>=135&&ge<=225?"right":M===!0?ge>=35&&ge<=135?"up":"down":"vertical"},q=$e.canGoNext=function(T){var M=!0;return T.infinite||(T.centerMode&&T.currentSlide>=T.slideCount-1||T.slideCount<=T.slidesToShow||T.currentSlide>=T.slideCount-T.slidesToShow)&&(M=!1),M};$e.extractObject=function(T,M){var se={};return M.forEach(function(pe){return se[pe]=T[pe]}),se},$e.initializedState=function(T){var M=n.default.Children.count(T.children),se=T.listRef,pe=Math.ceil(I(se)),oe=T.trackRef&&T.trackRef.node,ge=Math.ceil(I(oe)),Ee;if(T.vertical)Ee=pe;else{var ke=T.centerMode&&parseInt(T.centerPadding)*2;typeof T.centerPadding=="string"&&T.centerPadding.slice(-1)==="%"&&(ke*=pe/100),Ee=Math.ceil((pe-ke)/T.slidesToShow)}var Be=se&&P(se.querySelector('[data-index="0"]')),Ge=Be*T.slidesToShow,Ve=T.currentSlide===void 0?T.initialSlide:T.currentSlide;T.rtl&&T.currentSlide===void 0&&(Ve=M-1-T.initialSlide);var xe=T.lazyLoadedList||[],re=w(o(o({},T),{},{currentSlide:Ve,lazyLoadedList:xe}));xe=xe.concat(re);var he={slideCount:M,slideWidth:Ee,listWidth:pe,trackWidth:ge,currentSlide:Ve,slideHeight:Be,listHeight:Ge,lazyLoadedList:xe};return T.autoplaying===null&&T.autoplay&&(he.autoplaying="playing"),he},$e.slideHandler=function(T){var M=T.waitForAnimate,se=T.animating,pe=T.fade,oe=T.infinite,ge=T.index,Ee=T.slideCount,ke=T.lazyLoad,Be=T.currentSlide,Ge=T.centerMode,Ve=T.slidesToScroll,xe=T.slidesToShow,re=T.useCSS,he=T.lazyLoadedList;if(M&&se)return{};var fe=ge,be,Me,Pe,Ie={},He={},je=oe?ge:m(ge,0,Ee-1);if(pe){if(!oe&&(ge<0||ge>=Ee))return{};ge<0?fe=ge+Ee:ge>=Ee&&(fe=ge-Ee),ke&&he.indexOf(fe)<0&&(he=he.concat(fe)),Ie={animating:!0,currentSlide:fe,lazyLoadedList:he,targetSlide:fe},He={animating:!1,targetSlide:fe}}else be=fe,fe<0?(be=fe+Ee,oe?Ee%Ve!==0&&(be=Ee-Ee%Ve):be=0):!q(T)&&fe>Be?fe=be=Be:Ge&&fe>=Ee?(fe=oe?Ee:Ee-1,be=oe?0:Ee-1):fe>=Ee&&(be=fe-Ee,oe?Ee%Ve!==0&&(be=0):be=Ee-xe),!oe&&fe+xe>=Ee&&(be=Ee-xe),Me=S(o(o({},T),{},{slideIndex:fe})),Pe=S(o(o({},T),{},{slideIndex:be})),oe||(Me===Pe&&(fe=be),Me=Pe),ke&&(he=he.concat(w(o(o({},T),{},{currentSlide:fe})))),re?(Ie={animating:!0,currentSlide:be,trackStyle:x(o(o({},T),{},{left:Me})),lazyLoadedList:he,targetSlide:je},He={animating:!1,currentSlide:be,trackStyle:J(o(o({},T),{},{left:Pe})),swipeLeft:null,targetSlide:je}):Ie={currentSlide:be,trackStyle:J(o(o({},T),{},{left:Pe})),lazyLoadedList:he,targetSlide:je};return{state:Ie,nextState:He}},$e.changeSlide=function(T,M){var se,pe,oe,ge,Ee,ke=T.slidesToScroll,Be=T.slidesToShow,Ge=T.slideCount,Ve=T.currentSlide,xe=T.targetSlide,re=T.lazyLoad,he=T.infinite;if(ge=Ge%ke!==0,se=ge?0:(Ge-Ve)%ke,M.message==="previous")oe=se===0?ke:Be-se,Ee=Ve-oe,re&&!he&&(pe=Ve-oe,Ee=pe===-1?Ge-1:pe),he||(Ee=xe-ke);else if(M.message==="next")oe=se===0?ke:se,Ee=Ve+oe,re&&!he&&(Ee=(Ve+ke)%Ge+se),he||(Ee=xe+ke);else if(M.message==="dots")Ee=M.index*M.slidesToScroll;else if(M.message==="children"){if(Ee=M.index,he){var fe=Y(o(o({},T),{},{targetSlide:Ee}));Ee>M.currentSlide&&fe==="left"?Ee=Ee-Ge:Ee<M.currentSlide&&fe==="right"&&(Ee=Ee+Ge)}}else M.message==="index"&&(Ee=Number(M.index));return Ee},$e.keyHandler=function(T,M,se){return T.target.tagName.match("TEXTAREA|INPUT|SELECT")||!M?"":T.keyCode===37?se?"next":"previous":T.keyCode===39?se?"previous":"next":""},$e.swipeStart=function(T,M,se){return T.target.tagName==="IMG"&&b(T),!M||!se&&T.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:T.touches?T.touches[0].pageX:T.clientX,startY:T.touches?T.touches[0].pageY:T.clientY,curX:T.touches?T.touches[0].pageX:T.clientX,curY:T.touches?T.touches[0].pageY:T.clientY}}},$e.swipeMove=function(T,M){var se=M.scrolling,pe=M.animating,oe=M.vertical,ge=M.swipeToSlide,Ee=M.verticalSwiping,ke=M.rtl,Be=M.currentSlide,Ge=M.edgeFriction,Ve=M.edgeDragged,xe=M.onEdge,re=M.swiped,he=M.swiping,fe=M.slideCount,be=M.slidesToScroll,Me=M.infinite,Pe=M.touchObject,Ie=M.swipeEvent,He=M.listHeight,je=M.listWidth;if(!se){if(pe)return b(T);oe&&ge&&Ee&&b(T);var ze,Ye={},tt=S(M);Pe.curX=T.touches?T.touches[0].pageX:T.clientX,Pe.curY=T.touches?T.touches[0].pageY:T.clientY,Pe.swipeLength=Math.round(Math.sqrt(Math.pow(Pe.curX-Pe.startX,2)));var Qe=Math.round(Math.sqrt(Math.pow(Pe.curY-Pe.startY,2)));if(!Ee&&!he&&Qe>10)return{scrolling:!0};Ee&&(Pe.swipeLength=Qe);var vt=(ke?-1:1)*(Pe.curX>Pe.startX?1:-1);Ee&&(vt=Pe.curY>Pe.startY?1:-1);var St=Math.ceil(fe/be),pt=H(M.touchObject,Ee),Nt=Pe.swipeLength;return Me||(Be===0&&(pt==="right"||pt==="down")||Be+1>=St&&(pt==="left"||pt==="up")||!q(M)&&(pt==="left"||pt==="up"))&&(Nt=Pe.swipeLength*Ge,Ve===!1&&xe&&(xe(pt),Ye.edgeDragged=!0)),!re&&Ie&&(Ie(pt),Ye.swiped=!0),oe?ze=tt+Nt*(He/je)*vt:ke?ze=tt-Nt*vt:ze=tt+Nt*vt,Ee&&(ze=tt+Nt*vt),Ye=o(o({},Ye),{},{touchObject:Pe,swipeLeft:ze,trackStyle:J(o(o({},M),{},{left:ze}))}),Math.abs(Pe.curX-Pe.startX)<Math.abs(Pe.curY-Pe.startY)*.8||Pe.swipeLength>10&&(Ye.swiping=!0,b(T)),Ye}},$e.swipeEnd=function(T,M){var se=M.dragging,pe=M.swipe,oe=M.touchObject,ge=M.listWidth,Ee=M.touchThreshold,ke=M.verticalSwiping,Be=M.listHeight,Ge=M.swipeToSlide,Ve=M.scrolling,xe=M.onSwipe,re=M.targetSlide,he=M.currentSlide,fe=M.infinite;if(!se)return pe&&b(T),{};var be=ke?Be/Ee:ge/Ee,Me=H(oe,ke),Pe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ve||!oe.swipeLength)return Pe;if(oe.swipeLength>be){b(T),xe&&xe(Me);var Ie,He,je=fe?he:re;switch(Me){case"left":case"up":He=je+N(M),Ie=Ge?O(M,He):He,Pe.currentDirection=0;break;case"right":case"down":He=je-N(M),Ie=Ge?O(M,He):He,Pe.currentDirection=1;break;default:Ie=je}Pe.triggerSlideHandler=Ie}else{var ze=S(M);Pe.trackStyle=x(o(o({},M),{},{left:ze}))}return Pe};var Q=$e.getNavigableIndexes=function(T){for(var M=T.infinite?T.slideCount*2:T.slideCount,se=T.infinite?T.slidesToShow*-1:0,pe=T.infinite?T.slidesToShow*-1:0,oe=[];se<M;)oe.push(se),se=pe+T.slidesToScroll,pe+=Math.min(T.slidesToScroll,T.slidesToShow);return oe},O=$e.checkNavigable=function(T,M){var se=Q(T),pe=0;if(M>se[se.length-1])M=se[se.length-1];else for(var oe in se){if(M<se[oe]){M=pe;break}pe=se[oe]}return M},N=$e.getSlideCount=function(T){var M=T.centerMode?T.slideWidth*Math.floor(T.slidesToShow/2):0;if(T.swipeToSlide){var se,pe=T.listRef,oe=pe.querySelectorAll&&pe.querySelectorAll(".slick-slide")||[];if(Array.from(oe).every(function(ke){if(T.vertical){if(ke.offsetTop+P(ke)/2>T.swipeLeft*-1)return se=ke,!1}else if(ke.offsetLeft-M+I(ke)/2>T.swipeLeft*-1)return se=ke,!1;return!0}),!se)return 0;var ge=T.rtl===!0?T.slideCount-T.currentSlide:T.currentSlide,Ee=Math.abs(se.dataset.index-ge)||1;return Ee}else return T.slidesToScroll},F=$e.checkSpecKeys=function(T,M){return M.reduce(function(se,pe){return se&&T.hasOwnProperty(pe)},!0)?null:console.error("Keys Missing:",T)},J=$e.getTrackCSS=function(T){F(T,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var M,se,pe=T.slideCount+2*T.slidesToShow;T.vertical?se=pe*T.slideHeight:M=U(T)*T.slideWidth;var oe={opacity:1,transition:"",WebkitTransition:""};if(T.useTransform){var ge=T.vertical?"translate3d(0px, "+T.left+"px, 0px)":"translate3d("+T.left+"px, 0px, 0px)",Ee=T.vertical?"translate3d(0px, "+T.left+"px, 0px)":"translate3d("+T.left+"px, 0px, 0px)",ke=T.vertical?"translateY("+T.left+"px)":"translateX("+T.left+"px)";oe=o(o({},oe),{},{WebkitTransform:ge,transform:Ee,msTransform:ke})}else T.vertical?oe.top=T.left:oe.left=T.left;return T.fade&&(oe={opacity:1}),M&&(oe.width=M),se&&(oe.height=se),window&&!window.addEventListener&&window.attachEvent&&(T.vertical?oe.marginTop=T.left+"px":oe.marginLeft=T.left+"px"),oe},x=$e.getTrackAnimateCSS=function(T){F(T,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var M=J(T);return T.useTransform?(M.WebkitTransition="-webkit-transform "+T.speed+"ms "+T.cssEase,M.transition="transform "+T.speed+"ms "+T.cssEase):T.vertical?M.transition="top "+T.speed+"ms "+T.cssEase:M.transition="left "+T.speed+"ms "+T.cssEase,M},S=$e.getTrackLeft=function(T){if(T.unslick)return 0;F(T,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var M=T.slideIndex,se=T.trackRef,pe=T.infinite,oe=T.centerMode,ge=T.slideCount,Ee=T.slidesToShow,ke=T.slidesToScroll,Be=T.slideWidth,Ge=T.listWidth,Ve=T.variableWidth,xe=T.slideHeight,re=T.fade,he=T.vertical,fe=0,be,Me,Pe=0;if(re||T.slideCount===1)return 0;var Ie=0;if(pe?(Ie=-z(T),ge%ke!==0&&M+ke>ge&&(Ie=-(M>ge?Ee-(M-ge):ge%ke)),oe&&(Ie+=parseInt(Ee/2))):(ge%ke!==0&&M+ke>ge&&(Ie=Ee-ge%ke),oe&&(Ie=parseInt(Ee/2))),fe=Ie*Be,Pe=Ie*xe,he?be=M*xe*-1+Pe:be=M*Be*-1+fe,Ve===!0){var He,je=se&&se.node;if(He=M+z(T),Me=je&&je.childNodes[He],be=Me?Me.offsetLeft*-1:0,oe===!0){He=pe?M+z(T):M,Me=je&&je.children[He],be=0;for(var ze=0;ze<He;ze++)be-=je&&je.children[ze]&&je.children[ze].offsetWidth;be-=parseInt(T.centerPadding),be+=Me&&(Ge-Me.offsetWidth)/2}}return be},z=$e.getPreClones=function(T){return T.unslick||!T.infinite?0:T.variableWidth?T.slideCount:T.slidesToShow+(T.centerMode?1:0)},W=$e.getPostClones=function(T){return T.unslick||!T.infinite?0:T.slideCount},U=$e.getTotalSlides=function(T){return T.slideCount===1?1:z(T)+T.slideCount+W(T)},Y=$e.siblingDirection=function(T){return T.targetSlide>T.currentSlide?T.targetSlide>T.currentSlide+ue(T)?"left":"right":T.targetSlide<T.currentSlide-ee(T)?"right":"left"},ue=$e.slidesOnRight=function(T){var M=T.slidesToShow,se=T.centerMode,pe=T.rtl,oe=T.centerPadding;if(se){var ge=(M-1)/2+1;return parseInt(oe)>0&&(ge+=1),pe&&M%2===0&&(ge+=1),ge}return pe?0:M-1},ee=$e.slidesOnLeft=function(T){var M=T.slidesToShow,se=T.centerMode,pe=T.rtl,oe=T.centerPadding;if(se){var ge=(M-1)/2+1;return parseInt(oe)>0&&(ge+=1),!pe&&M%2===0&&(ge+=1),ge}return pe?M-1:0};$e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var C=$e.validSettings=Object.keys(e.default);function le($){return C.reduce(function(T,M){return $.hasOwnProperty(M)&&(T[M]=$[M]),T},{})}return $e}var Ul={},Tx;function H3(){if(Tx)return Ul;Tx=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.Track=void 0;var n=i(er()),e=i(Oh()),t=gc();function i(x){return x&&x.__esModule?x:{default:x}}function s(x){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},s(x)}function o(){return o=Object.assign?Object.assign.bind():function(x){for(var S=1;S<arguments.length;S++){var z=arguments[S];for(var W in z)Object.prototype.hasOwnProperty.call(z,W)&&(x[W]=z[W])}return x},o.apply(this,arguments)}function l(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function d(x,S){for(var z=0;z<S.length;z++){var W=S[z];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(x,q(W.key),W)}}function h(x,S,z){return S&&d(x.prototype,S),Object.defineProperty(x,"prototype",{writable:!1}),x}function m(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),S&&b(x,S)}function b(x,S){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,U){return W.__proto__=U,W},b(x,S)}function w(x){var S=j();return function(){var W=A(x),U;if(S){var Y=A(this).constructor;U=Reflect.construct(W,arguments,Y)}else U=W.apply(this,arguments);return L(this,U)}}function L(x,S){if(S&&(s(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(x)}function k(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function j(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!x})()}function A(x){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},A(x)}function I(x,S){var z=Object.keys(x);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(x);S&&(W=W.filter(function(U){return Object.getOwnPropertyDescriptor(x,U).enumerable})),z.push.apply(z,W)}return z}function P(x){for(var S=1;S<arguments.length;S++){var z=arguments[S]!=null?arguments[S]:{};S%2?I(Object(z),!0).forEach(function(W){H(x,W,z[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(z)):I(Object(z)).forEach(function(W){Object.defineProperty(x,W,Object.getOwnPropertyDescriptor(z,W))})}return x}function H(x,S,z){return S=q(S),S in x?Object.defineProperty(x,S,{value:z,enumerable:!0,configurable:!0,writable:!0}):x[S]=z,x}function q(x){var S=Q(x,"string");return s(S)=="symbol"?S:String(S)}function Q(x,S){if(s(x)!="object"||!x)return x;var z=x[Symbol.toPrimitive];if(z!==void 0){var W=z.call(x,S);if(s(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(x)}var O=function(S){var z,W,U,Y,ue;S.rtl?ue=S.slideCount-1-S.index:ue=S.index,U=ue<0||ue>=S.slideCount,S.centerMode?(Y=Math.floor(S.slidesToShow/2),W=(ue-S.currentSlide)%S.slideCount===0,ue>S.currentSlide-Y-1&&ue<=S.currentSlide+Y&&(z=!0)):z=S.currentSlide<=ue&&ue<S.currentSlide+S.slidesToShow;var ee;S.targetSlide<0?ee=S.targetSlide+S.slideCount:S.targetSlide>=S.slideCount?ee=S.targetSlide-S.slideCount:ee=S.targetSlide;var C=ue===ee;return{"slick-slide":!0,"slick-active":z,"slick-center":W,"slick-cloned":U,"slick-current":C}},N=function(S){var z={};return(S.variableWidth===void 0||S.variableWidth===!1)&&(z.width=S.slideWidth),S.fade&&(z.position="relative",S.vertical?z.top=-S.index*parseInt(S.slideHeight):z.left=-S.index*parseInt(S.slideWidth),z.opacity=S.currentSlide===S.index?1:0,z.zIndex=S.currentSlide===S.index?999:998,S.useCSS&&(z.transition="opacity "+S.speed+"ms "+S.cssEase+", visibility "+S.speed+"ms "+S.cssEase)),z},F=function(S,z){return S.key||z},J=function(S){var z,W=[],U=[],Y=[],ue=n.default.Children.count(S.children),ee=(0,t.lazyStartIndex)(S),C=(0,t.lazyEndIndex)(S);return n.default.Children.forEach(S.children,function(le,$){var T,M={message:"children",index:$,slidesToScroll:S.slidesToScroll,currentSlide:S.currentSlide};!S.lazyLoad||S.lazyLoad&&S.lazyLoadedList.indexOf($)>=0?T=le:T=n.default.createElement("div",null);var se=N(P(P({},S),{},{index:$})),pe=T.props.className||"",oe=O(P(P({},S),{},{index:$}));if(W.push(n.default.cloneElement(T,{key:"original"+F(T,$),"data-index":$,className:(0,e.default)(oe,pe),tabIndex:"-1","aria-hidden":!oe["slick-active"],style:P(P({outline:"none"},T.props.style||{}),se),onClick:function(ke){T.props&&T.props.onClick&&T.props.onClick(ke),S.focusOnSelect&&S.focusOnSelect(M)}})),S.infinite&&S.fade===!1){var ge=ue-$;ge<=(0,t.getPreClones)(S)&&(z=-ge,z>=ee&&(T=le),oe=O(P(P({},S),{},{index:z})),U.push(n.default.cloneElement(T,{key:"precloned"+F(T,z),"data-index":z,tabIndex:"-1",className:(0,e.default)(oe,pe),"aria-hidden":!oe["slick-active"],style:P(P({},T.props.style||{}),se),onClick:function(ke){T.props&&T.props.onClick&&T.props.onClick(ke),S.focusOnSelect&&S.focusOnSelect(M)}}))),z=ue+$,z<C&&(T=le),oe=O(P(P({},S),{},{index:z})),Y.push(n.default.cloneElement(T,{key:"postcloned"+F(T,z),"data-index":z,tabIndex:"-1",className:(0,e.default)(oe,pe),"aria-hidden":!oe["slick-active"],style:P(P({},T.props.style||{}),se),onClick:function(ke){T.props&&T.props.onClick&&T.props.onClick(ke),S.focusOnSelect&&S.focusOnSelect(M)}}))}}),S.rtl?U.concat(W,Y).reverse():U.concat(W,Y)};return Ul.Track=function(x){m(z,x);var S=w(z);function z(){var W;l(this,z);for(var U=arguments.length,Y=new Array(U),ue=0;ue<U;ue++)Y[ue]=arguments[ue];return W=S.call.apply(S,[this].concat(Y)),H(k(W),"node",null),H(k(W),"handleRef",function(ee){W.node=ee}),W}return h(z,[{key:"render",value:function(){var U=J(this.props),Y=this.props,ue=Y.onMouseEnter,ee=Y.onMouseOver,C=Y.onMouseLeave,le={onMouseEnter:ue,onMouseOver:ee,onMouseLeave:C};return n.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},le),U)}}]),z}(n.default.PureComponent),Ul}var Fl={},Sx;function z3(){if(Sx)return Fl;Sx=1;function n(O){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(O)}Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.Dots=void 0;var e=s(er()),t=s(Oh()),i=gc();function s(O){return O&&O.__esModule?O:{default:O}}function o(O,N){var F=Object.keys(O);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(O);N&&(J=J.filter(function(x){return Object.getOwnPropertyDescriptor(O,x).enumerable})),F.push.apply(F,J)}return F}function l(O){for(var N=1;N<arguments.length;N++){var F=arguments[N]!=null?arguments[N]:{};N%2?o(Object(F),!0).forEach(function(J){d(O,J,F[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(F)):o(Object(F)).forEach(function(J){Object.defineProperty(O,J,Object.getOwnPropertyDescriptor(F,J))})}return O}function d(O,N,F){return N=w(N),N in O?Object.defineProperty(O,N,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[N]=F,O}function h(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function m(O,N){for(var F=0;F<N.length;F++){var J=N[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(O,w(J.key),J)}}function b(O,N,F){return N&&m(O.prototype,N),Object.defineProperty(O,"prototype",{writable:!1}),O}function w(O){var N=L(O,"string");return n(N)=="symbol"?N:String(N)}function L(O,N){if(n(O)!="object"||!O)return O;var F=O[Symbol.toPrimitive];if(F!==void 0){var J=F.call(O,N);if(n(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function k(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),N&&j(O,N)}function j(O,N){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,x){return J.__proto__=x,J},j(O,N)}function A(O){var N=H();return function(){var J=q(O),x;if(N){var S=q(this).constructor;x=Reflect.construct(J,arguments,S)}else x=J.apply(this,arguments);return I(this,x)}}function I(O,N){if(N&&(n(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(O)}function P(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function H(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!O})()}function q(O){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},q(O)}var Q=function(N){var F;return N.infinite?F=Math.ceil(N.slideCount/N.slidesToScroll):F=Math.ceil((N.slideCount-N.slidesToShow)/N.slidesToScroll)+1,F};return Fl.Dots=function(O){k(F,O);var N=A(F);function F(){return h(this,F),N.apply(this,arguments)}return b(F,[{key:"clickHandler",value:function(x,S){S.preventDefault(),this.props.clickHandler(x)}},{key:"render",value:function(){for(var x=this.props,S=x.onMouseEnter,z=x.onMouseOver,W=x.onMouseLeave,U=x.infinite,Y=x.slidesToScroll,ue=x.slidesToShow,ee=x.slideCount,C=x.currentSlide,le=Q({slideCount:ee,slidesToScroll:Y,slidesToShow:ue,infinite:U}),$={onMouseEnter:S,onMouseOver:z,onMouseLeave:W},T=[],M=0;M<le;M++){var se=(M+1)*Y-1,pe=U?se:(0,i.clamp)(se,0,ee-1),oe=pe-(Y-1),ge=U?oe:(0,i.clamp)(oe,0,ee-1),Ee=(0,t.default)({"slick-active":U?C>=ge&&C<=pe:C===ge}),ke={message:"dots",index:M,slidesToScroll:Y,currentSlide:C},Be=this.clickHandler.bind(this,ke);T=T.concat(e.default.createElement("li",{key:M,className:Ee},e.default.cloneElement(this.props.customPaging(M),{onClick:Be})))}return e.default.cloneElement(this.props.appendDots(T),l({className:this.props.dotsClass},$))}}]),F}(e.default.PureComponent),Fl}var Ia={},xx;function G3(){if(xx)return Ia;xx=1;function n(O){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(O)}Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.PrevArrow=Ia.NextArrow=void 0;var e=s(er()),t=s(Oh()),i=gc();function s(O){return O&&O.__esModule?O:{default:O}}function o(){return o=Object.assign?Object.assign.bind():function(O){for(var N=1;N<arguments.length;N++){var F=arguments[N];for(var J in F)Object.prototype.hasOwnProperty.call(F,J)&&(O[J]=F[J])}return O},o.apply(this,arguments)}function l(O,N){var F=Object.keys(O);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(O);N&&(J=J.filter(function(x){return Object.getOwnPropertyDescriptor(O,x).enumerable})),F.push.apply(F,J)}return F}function d(O){for(var N=1;N<arguments.length;N++){var F=arguments[N]!=null?arguments[N]:{};N%2?l(Object(F),!0).forEach(function(J){h(O,J,F[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(F)):l(Object(F)).forEach(function(J){Object.defineProperty(O,J,Object.getOwnPropertyDescriptor(F,J))})}return O}function h(O,N,F){return N=L(N),N in O?Object.defineProperty(O,N,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[N]=F,O}function m(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function b(O,N){for(var F=0;F<N.length;F++){var J=N[F];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(O,L(J.key),J)}}function w(O,N,F){return N&&b(O.prototype,N),Object.defineProperty(O,"prototype",{writable:!1}),O}function L(O){var N=k(O,"string");return n(N)=="symbol"?N:String(N)}function k(O,N){if(n(O)!="object"||!O)return O;var F=O[Symbol.toPrimitive];if(F!==void 0){var J=F.call(O,N);if(n(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function j(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),N&&A(O,N)}function A(O,N){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,x){return J.__proto__=x,J},A(O,N)}function I(O){var N=q();return function(){var J=Q(O),x;if(N){var S=Q(this).constructor;x=Reflect.construct(J,arguments,S)}else x=J.apply(this,arguments);return P(this,x)}}function P(O,N){if(N&&(n(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(O)}function H(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function q(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!O})()}function Q(O){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},Q(O)}return Ia.PrevArrow=function(O){j(F,O);var N=I(F);function F(){return m(this,F),N.apply(this,arguments)}return w(F,[{key:"clickHandler",value:function(x,S){S&&S.preventDefault(),this.props.clickHandler(x,S)}},{key:"render",value:function(){var x={"slick-arrow":!0,"slick-prev":!0},S=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(x["slick-disabled"]=!0,S=null);var z={key:"0","data-role":"none",className:(0,t.default)(x),style:{display:"block"},onClick:S},W={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},U;return this.props.prevArrow?U=e.default.cloneElement(this.props.prevArrow,d(d({},z),W)):U=e.default.createElement("button",o({key:"0",type:"button"},z)," ","Previous"),U}}]),F}(e.default.PureComponent),Ia.NextArrow=function(O){j(F,O);var N=I(F);function F(){return m(this,F),N.apply(this,arguments)}return w(F,[{key:"clickHandler",value:function(x,S){S&&S.preventDefault(),this.props.clickHandler(x,S)}},{key:"render",value:function(){var x={"slick-arrow":!0,"slick-next":!0},S=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(x["slick-disabled"]=!0,S=null);var z={key:"1","data-role":"none",className:(0,t.default)(x),style:{display:"block"},onClick:S},W={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},U;return this.props.nextArrow?U=e.default.cloneElement(this.props.nextArrow,d(d({},z),W)):U=e.default.createElement("button",o({key:"1",type:"button"},z)," ","Next"),U}}]),F}(e.default.PureComponent),Ia}var JC=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(s,o){return s[0]===t?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),s=this.__entries__[i];return s&&s[1]},e.prototype.set=function(t,i){var s=n(this.__entries__,t);~s?this.__entries__[s][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,s=n(i,t);~s&&i.splice(s,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var s=0,o=this.__entries__;s<o.length;s++){var l=o[s];t.call(i,l[1],l[0])}},e}()}(),Jy=typeof window<"u"&&typeof document<"u"&&window.document===document,Zd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),V3=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Zd):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),$3=2;function K3(n,e){var t=!1,i=!1,s=0;function o(){t&&(t=!1,n()),i&&d()}function l(){V3(o)}function d(){var h=Date.now();if(t){if(h-s<$3)return;i=!0}else t=!0,i=!1,setTimeout(l,e);s=h}return d}var X3=20,Y3=["top","right","bottom","left","width","height","size","weight"],W3=typeof MutationObserver<"u",Q3=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=K3(this.refresh.bind(this),X3)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Jy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),W3?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Jy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,s=Y3.some(function(o){return!!~i.indexOf(o)});s&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),ew=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var s=i[t];Object.defineProperty(n,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return n},ou=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Zd},tw=Rh(0,0,0,0);function Jd(n){return parseFloat(n)||0}function Ex(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,s){var o=n["border-"+s+"-width"];return i+Jd(o)},0)}function Z3(n){for(var e=["top","right","bottom","left"],t={},i=0,s=e;i<s.length;i++){var o=s[i],l=n["padding-"+o];t[o]=Jd(l)}return t}function J3(n){var e=n.getBBox();return Rh(0,0,e.width,e.height)}function eM(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return tw;var i=ou(n).getComputedStyle(n),s=Z3(i),o=s.left+s.right,l=s.top+s.bottom,d=Jd(i.width),h=Jd(i.height);if(i.boxSizing==="border-box"&&(Math.round(d+o)!==e&&(d-=Ex(i,"left","right")+o),Math.round(h+l)!==t&&(h-=Ex(i,"top","bottom")+l)),!iM(n)){var m=Math.round(d+o)-e,b=Math.round(h+l)-t;Math.abs(m)!==1&&(d-=m),Math.abs(b)!==1&&(h-=b)}return Rh(s.left,s.top,d,h)}var tM=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof ou(n).SVGGraphicsElement}:function(n){return n instanceof ou(n).SVGElement&&typeof n.getBBox=="function"}}();function iM(n){return n===ou(n).document.documentElement}function nM(n){return Jy?tM(n)?J3(n):eM(n):tw}function rM(n){var e=n.x,t=n.y,i=n.width,s=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return ew(l,{x:e,y:t,width:i,height:s,top:t,right:e+i,bottom:s+t,left:e}),l}function Rh(n,e,t,i){return{x:n,y:e,width:t,height:i}}var sM=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Rh(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=nM(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),aM=function(){function n(e,t){var i=rM(t);ew(this,{target:e,contentRect:i})}return n}(),oM=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new JC,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ou(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new sM(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ou(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new aM(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),iw=typeof WeakMap<"u"?new WeakMap:new JC,nw=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Q3.getInstance(),i=new oM(e,t,this);iw.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){nw.prototype[n]=function(){var e;return(e=iw.get(this))[n].apply(e,arguments)}});var uM=function(){return typeof Zd.ResizeObserver<"u"?Zd.ResizeObserver:nw}();const lM=Object.freeze(Object.defineProperty({__proto__:null,default:uM},Symbol.toStringTag,{value:"Module"})),cM=pC(lM);var Cx;function dM(){if(Cx)return Bl;Cx=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.InnerSlider=void 0;var n=m(er()),e=m(q3()),t=m(j3()),i=m(Oh()),s=gc(),o=H3(),l=z3(),d=G3(),h=m(cM);function m(U){return U&&U.__esModule?U:{default:U}}function b(U){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},b(U)}function w(){return w=Object.assign?Object.assign.bind():function(U){for(var Y=1;Y<arguments.length;Y++){var ue=arguments[Y];for(var ee in ue)Object.prototype.hasOwnProperty.call(ue,ee)&&(U[ee]=ue[ee])}return U},w.apply(this,arguments)}function L(U,Y){if(U==null)return{};var ue=k(U,Y),ee,C;if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(U);for(C=0;C<le.length;C++)ee=le[C],!(Y.indexOf(ee)>=0)&&Object.prototype.propertyIsEnumerable.call(U,ee)&&(ue[ee]=U[ee])}return ue}function k(U,Y){if(U==null)return{};var ue={},ee=Object.keys(U),C,le;for(le=0;le<ee.length;le++)C=ee[le],!(Y.indexOf(C)>=0)&&(ue[C]=U[C]);return ue}function j(U,Y){var ue=Object.keys(U);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(U);Y&&(ee=ee.filter(function(C){return Object.getOwnPropertyDescriptor(U,C).enumerable})),ue.push.apply(ue,ee)}return ue}function A(U){for(var Y=1;Y<arguments.length;Y++){var ue=arguments[Y]!=null?arguments[Y]:{};Y%2?j(Object(ue),!0).forEach(function(ee){S(U,ee,ue[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(ue)):j(Object(ue)).forEach(function(ee){Object.defineProperty(U,ee,Object.getOwnPropertyDescriptor(ue,ee))})}return U}function I(U,Y){if(!(U instanceof Y))throw new TypeError("Cannot call a class as a function")}function P(U,Y){for(var ue=0;ue<Y.length;ue++){var ee=Y[ue];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(U,z(ee.key),ee)}}function H(U,Y,ue){return Y&&P(U.prototype,Y),Object.defineProperty(U,"prototype",{writable:!1}),U}function q(U,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(Y&&Y.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),Y&&Q(U,Y)}function Q(U,Y){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,C){return ee.__proto__=C,ee},Q(U,Y)}function O(U){var Y=J();return function(){var ee=x(U),C;if(Y){var le=x(this).constructor;C=Reflect.construct(ee,arguments,le)}else C=ee.apply(this,arguments);return N(this,C)}}function N(U,Y){if(Y&&(b(Y)==="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(U)}function F(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function J(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!U})()}function x(U){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},x(U)}function S(U,Y,ue){return Y=z(Y),Y in U?Object.defineProperty(U,Y,{value:ue,enumerable:!0,configurable:!0,writable:!0}):U[Y]=ue,U}function z(U){var Y=W(U,"string");return b(Y)=="symbol"?Y:String(Y)}function W(U,Y){if(b(U)!="object"||!U)return U;var ue=U[Symbol.toPrimitive];if(ue!==void 0){var ee=ue.call(U,Y);if(b(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(U)}return Bl.InnerSlider=function(U){q(ue,U);var Y=O(ue);function ue(ee){var C;I(this,ue),C=Y.call(this,ee),S(F(C),"listRefHandler",function($){return C.list=$}),S(F(C),"trackRefHandler",function($){return C.track=$}),S(F(C),"adaptHeight",function(){if(C.props.adaptiveHeight&&C.list){var $=C.list.querySelector('[data-index="'.concat(C.state.currentSlide,'"]'));C.list.style.height=(0,s.getHeight)($)+"px"}}),S(F(C),"componentDidMount",function(){if(C.props.onInit&&C.props.onInit(),C.props.lazyLoad){var $=(0,s.getOnDemandLazySlides)(A(A({},C.props),C.state));$.length>0&&(C.setState(function(M){return{lazyLoadedList:M.lazyLoadedList.concat($)}}),C.props.onLazyLoad&&C.props.onLazyLoad($))}var T=A({listRef:C.list,trackRef:C.track},C.props);C.updateState(T,!0,function(){C.adaptHeight(),C.props.autoplay&&C.autoPlay("update")}),C.props.lazyLoad==="progressive"&&(C.lazyLoadTimer=setInterval(C.progressiveLazyLoad,1e3)),C.ro=new h.default(function(){C.state.animating?(C.onWindowResized(!1),C.callbackTimers.push(setTimeout(function(){return C.onWindowResized()},C.props.speed))):C.onWindowResized()}),C.ro.observe(C.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(M){M.onfocus=C.props.pauseOnFocus?C.onSlideFocus:null,M.onblur=C.props.pauseOnFocus?C.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",C.onWindowResized):window.attachEvent("onresize",C.onWindowResized)}),S(F(C),"componentWillUnmount",function(){C.animationEndCallback&&clearTimeout(C.animationEndCallback),C.lazyLoadTimer&&clearInterval(C.lazyLoadTimer),C.callbackTimers.length&&(C.callbackTimers.forEach(function($){return clearTimeout($)}),C.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",C.onWindowResized):window.detachEvent("onresize",C.onWindowResized),C.autoplayTimer&&clearInterval(C.autoplayTimer),C.ro.disconnect()}),S(F(C),"componentDidUpdate",function($){if(C.checkImagesLoad(),C.props.onReInit&&C.props.onReInit(),C.props.lazyLoad){var T=(0,s.getOnDemandLazySlides)(A(A({},C.props),C.state));T.length>0&&(C.setState(function(pe){return{lazyLoadedList:pe.lazyLoadedList.concat(T)}}),C.props.onLazyLoad&&C.props.onLazyLoad(T))}C.adaptHeight();var M=A(A({listRef:C.list,trackRef:C.track},C.props),C.state),se=C.didPropsChange($);se&&C.updateState(M,se,function(){C.state.currentSlide>=n.default.Children.count(C.props.children)&&C.changeSlide({message:"index",index:n.default.Children.count(C.props.children)-C.props.slidesToShow,currentSlide:C.state.currentSlide}),C.props.autoplay?C.autoPlay("update"):C.pause("paused")})}),S(F(C),"onWindowResized",function($){C.debouncedResize&&C.debouncedResize.cancel(),C.debouncedResize=(0,t.default)(function(){return C.resizeWindow($)},50),C.debouncedResize()}),S(F(C),"resizeWindow",function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,T=!!(C.track&&C.track.node);if(T){var M=A(A({listRef:C.list,trackRef:C.track},C.props),C.state);C.updateState(M,$,function(){C.props.autoplay?C.autoPlay("update"):C.pause("paused")}),C.setState({animating:!1}),clearTimeout(C.animationEndCallback),delete C.animationEndCallback}}),S(F(C),"updateState",function($,T,M){var se=(0,s.initializedState)($);$=A(A(A({},$),se),{},{slideIndex:se.currentSlide});var pe=(0,s.getTrackLeft)($);$=A(A({},$),{},{left:pe});var oe=(0,s.getTrackCSS)($);(T||n.default.Children.count(C.props.children)!==n.default.Children.count($.children))&&(se.trackStyle=oe),C.setState(se,M)}),S(F(C),"ssrInit",function(){if(C.props.variableWidth){var $=0,T=0,M=[],se=(0,s.getPreClones)(A(A(A({},C.props),C.state),{},{slideCount:C.props.children.length})),pe=(0,s.getPostClones)(A(A(A({},C.props),C.state),{},{slideCount:C.props.children.length}));C.props.children.forEach(function(Me){M.push(Me.props.style.width),$+=Me.props.style.width});for(var oe=0;oe<se;oe++)T+=M[M.length-1-oe],$+=M[M.length-1-oe];for(var ge=0;ge<pe;ge++)$+=M[ge];for(var Ee=0;Ee<C.state.currentSlide;Ee++)T+=M[Ee];var ke={width:$+"px",left:-T+"px"};if(C.props.centerMode){var Be="".concat(M[C.state.currentSlide],"px");ke.left="calc(".concat(ke.left," + (100% - ").concat(Be,") / 2 ) ")}return{trackStyle:ke}}var Ge=n.default.Children.count(C.props.children),Ve=A(A(A({},C.props),C.state),{},{slideCount:Ge}),xe=(0,s.getPreClones)(Ve)+(0,s.getPostClones)(Ve)+Ge,re=100/C.props.slidesToShow*xe,he=100/xe,fe=-he*((0,s.getPreClones)(Ve)+C.state.currentSlide)*re/100;C.props.centerMode&&(fe+=(100-he*re/100)/2);var be={width:re+"%",left:fe+"%"};return{slideWidth:he+"%",trackStyle:be}}),S(F(C),"checkImagesLoad",function(){var $=C.list&&C.list.querySelectorAll&&C.list.querySelectorAll(".slick-slide img")||[],T=$.length,M=0;Array.prototype.forEach.call($,function(se){var pe=function(){return++M&&M>=T&&C.onWindowResized()};if(!se.onclick)se.onclick=function(){return se.parentNode.focus()};else{var oe=se.onclick;se.onclick=function(ge){oe(ge),se.parentNode.focus()}}se.onload||(C.props.lazyLoad?se.onload=function(){C.adaptHeight(),C.callbackTimers.push(setTimeout(C.onWindowResized,C.props.speed))}:(se.onload=pe,se.onerror=function(){pe(),C.props.onLazyLoadError&&C.props.onLazyLoadError()}))})}),S(F(C),"progressiveLazyLoad",function(){for(var $=[],T=A(A({},C.props),C.state),M=C.state.currentSlide;M<C.state.slideCount+(0,s.getPostClones)(T);M++)if(C.state.lazyLoadedList.indexOf(M)<0){$.push(M);break}for(var se=C.state.currentSlide-1;se>=-(0,s.getPreClones)(T);se--)if(C.state.lazyLoadedList.indexOf(se)<0){$.push(se);break}$.length>0?(C.setState(function(pe){return{lazyLoadedList:pe.lazyLoadedList.concat($)}}),C.props.onLazyLoad&&C.props.onLazyLoad($)):C.lazyLoadTimer&&(clearInterval(C.lazyLoadTimer),delete C.lazyLoadTimer)}),S(F(C),"slideHandler",function($){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=C.props,se=M.asNavFor,pe=M.beforeChange,oe=M.onLazyLoad,ge=M.speed,Ee=M.afterChange,ke=C.state.currentSlide,Be=(0,s.slideHandler)(A(A(A({index:$},C.props),C.state),{},{trackRef:C.track,useCSS:C.props.useCSS&&!T})),Ge=Be.state,Ve=Be.nextState;if(Ge){pe&&pe(ke,Ge.currentSlide);var xe=Ge.lazyLoadedList.filter(function(re){return C.state.lazyLoadedList.indexOf(re)<0});oe&&xe.length>0&&oe(xe),!C.props.waitForAnimate&&C.animationEndCallback&&(clearTimeout(C.animationEndCallback),Ee&&Ee(ke),delete C.animationEndCallback),C.setState(Ge,function(){se&&C.asNavForIndex!==$&&(C.asNavForIndex=$,se.innerSlider.slideHandler($)),Ve&&(C.animationEndCallback=setTimeout(function(){var re=Ve.animating,he=L(Ve,["animating"]);C.setState(he,function(){C.callbackTimers.push(setTimeout(function(){return C.setState({animating:re})},10)),Ee&&Ee(Ge.currentSlide),delete C.animationEndCallback})},ge))})}}),S(F(C),"changeSlide",function($){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=A(A({},C.props),C.state),se=(0,s.changeSlide)(M,$);if(!(se!==0&&!se)&&(T===!0?C.slideHandler(se,T):C.slideHandler(se),C.props.autoplay&&C.autoPlay("update"),C.props.focusOnSelect)){var pe=C.list.querySelectorAll(".slick-current");pe[0]&&pe[0].focus()}}),S(F(C),"clickHandler",function($){C.clickable===!1&&($.stopPropagation(),$.preventDefault()),C.clickable=!0}),S(F(C),"keyHandler",function($){var T=(0,s.keyHandler)($,C.props.accessibility,C.props.rtl);T!==""&&C.changeSlide({message:T})}),S(F(C),"selectHandler",function($){C.changeSlide($)}),S(F(C),"disableBodyScroll",function(){var $=function(M){M=M||window.event,M.preventDefault&&M.preventDefault(),M.returnValue=!1};window.ontouchmove=$}),S(F(C),"enableBodyScroll",function(){window.ontouchmove=null}),S(F(C),"swipeStart",function($){C.props.verticalSwiping&&C.disableBodyScroll();var T=(0,s.swipeStart)($,C.props.swipe,C.props.draggable);T!==""&&C.setState(T)}),S(F(C),"swipeMove",function($){var T=(0,s.swipeMove)($,A(A(A({},C.props),C.state),{},{trackRef:C.track,listRef:C.list,slideIndex:C.state.currentSlide}));T&&(T.swiping&&(C.clickable=!1),C.setState(T))}),S(F(C),"swipeEnd",function($){var T=(0,s.swipeEnd)($,A(A(A({},C.props),C.state),{},{trackRef:C.track,listRef:C.list,slideIndex:C.state.currentSlide}));if(T){var M=T.triggerSlideHandler;delete T.triggerSlideHandler,C.setState(T),M!==void 0&&(C.slideHandler(M),C.props.verticalSwiping&&C.enableBodyScroll())}}),S(F(C),"touchEnd",function($){C.swipeEnd($),C.clickable=!0}),S(F(C),"slickPrev",function(){C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"previous"})},0))}),S(F(C),"slickNext",function(){C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"next"})},0))}),S(F(C),"slickGoTo",function($){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($=Number($),isNaN($))return"";C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"index",index:$,currentSlide:C.state.currentSlide},T)},0))}),S(F(C),"play",function(){var $;if(C.props.rtl)$=C.state.currentSlide-C.props.slidesToScroll;else if((0,s.canGoNext)(A(A({},C.props),C.state)))$=C.state.currentSlide+C.props.slidesToScroll;else return!1;C.slideHandler($)}),S(F(C),"autoPlay",function($){C.autoplayTimer&&clearInterval(C.autoplayTimer);var T=C.state.autoplaying;if($==="update"){if(T==="hovered"||T==="focused"||T==="paused")return}else if($==="leave"){if(T==="paused"||T==="focused")return}else if($==="blur"&&(T==="paused"||T==="hovered"))return;C.autoplayTimer=setInterval(C.play,C.props.autoplaySpeed+50),C.setState({autoplaying:"playing"})}),S(F(C),"pause",function($){C.autoplayTimer&&(clearInterval(C.autoplayTimer),C.autoplayTimer=null);var T=C.state.autoplaying;$==="paused"?C.setState({autoplaying:"paused"}):$==="focused"?(T==="hovered"||T==="playing")&&C.setState({autoplaying:"focused"}):T==="playing"&&C.setState({autoplaying:"hovered"})}),S(F(C),"onDotsOver",function(){return C.props.autoplay&&C.pause("hovered")}),S(F(C),"onDotsLeave",function(){return C.props.autoplay&&C.state.autoplaying==="hovered"&&C.autoPlay("leave")}),S(F(C),"onTrackOver",function(){return C.props.autoplay&&C.pause("hovered")}),S(F(C),"onTrackLeave",function(){return C.props.autoplay&&C.state.autoplaying==="hovered"&&C.autoPlay("leave")}),S(F(C),"onSlideFocus",function(){return C.props.autoplay&&C.pause("focused")}),S(F(C),"onSlideBlur",function(){return C.props.autoplay&&C.state.autoplaying==="focused"&&C.autoPlay("blur")}),S(F(C),"render",function(){var $=(0,i.default)("slick-slider",C.props.className,{"slick-vertical":C.props.vertical,"slick-initialized":!0}),T=A(A({},C.props),C.state),M=(0,s.extractObject)(T,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),se=C.props.pauseOnHover;M=A(A({},M),{},{onMouseEnter:se?C.onTrackOver:null,onMouseLeave:se?C.onTrackLeave:null,onMouseOver:se?C.onTrackOver:null,focusOnSelect:C.props.focusOnSelect&&C.clickable?C.selectHandler:null});var pe;if(C.props.dots===!0&&C.state.slideCount>=C.props.slidesToShow){var oe=(0,s.extractObject)(T,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ge=C.props.pauseOnDotsHover;oe=A(A({},oe),{},{clickHandler:C.changeSlide,onMouseEnter:ge?C.onDotsLeave:null,onMouseOver:ge?C.onDotsOver:null,onMouseLeave:ge?C.onDotsLeave:null}),pe=n.default.createElement(l.Dots,oe)}var Ee,ke,Be=(0,s.extractObject)(T,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Be.clickHandler=C.changeSlide,C.props.arrows&&(Ee=n.default.createElement(d.PrevArrow,Be),ke=n.default.createElement(d.NextArrow,Be));var Ge=null;C.props.vertical&&(Ge={height:C.state.listHeight});var Ve=null;C.props.vertical===!1?C.props.centerMode===!0&&(Ve={padding:"0px "+C.props.centerPadding}):C.props.centerMode===!0&&(Ve={padding:C.props.centerPadding+" 0px"});var xe=A(A({},Ge),Ve),re=C.props.touchMove,he={className:"slick-list",style:xe,onClick:C.clickHandler,onMouseDown:re?C.swipeStart:null,onMouseMove:C.state.dragging&&re?C.swipeMove:null,onMouseUp:re?C.swipeEnd:null,onMouseLeave:C.state.dragging&&re?C.swipeEnd:null,onTouchStart:re?C.swipeStart:null,onTouchMove:C.state.dragging&&re?C.swipeMove:null,onTouchEnd:re?C.touchEnd:null,onTouchCancel:C.state.dragging&&re?C.swipeEnd:null,onKeyDown:C.props.accessibility?C.keyHandler:null},fe={className:$,dir:"ltr",style:C.props.style};return C.props.unslick&&(he={className:"slick-list"},fe={className:$}),n.default.createElement("div",fe,C.props.unslick?"":Ee,n.default.createElement("div",w({ref:C.listRefHandler},he),n.default.createElement(o.Track,w({ref:C.trackRefHandler},M),C.props.children)),C.props.unslick?"":ke,C.props.unslick?"":pe)}),C.list=null,C.track=null,C.state=A(A({},e.default),{},{currentSlide:C.props.initialSlide,targetSlide:C.props.initialSlide?C.props.initialSlide:0,slideCount:n.default.Children.count(C.props.children)}),C.callbackTimers=[],C.clickable=!0,C.debouncedResize=null;var le=C.ssrInit();return C.state=A(A({},C.state),le),C}return H(ue,[{key:"didPropsChange",value:function(C){for(var le=!1,$=0,T=Object.keys(this.props);$<T.length;$++){var M=T[$];if(!C.hasOwnProperty(M)){le=!0;break}if(!(b(C[M])==="object"||typeof C[M]=="function"||isNaN(C[M]))&&C[M]!==this.props[M]){le=!0;break}}return le||n.default.Children.count(this.props.children)!==n.default.Children.count(C.children)}}]),ue}(n.default.Component),Bl}var cy,wx;function hM(){if(wx)return cy;wx=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return cy=n,cy}var dy,Ax;function fM(){if(Ax)return dy;Ax=1;var n=hM(),e=function(s){var o=/[height|width]$/;return o.test(s)},t=function(s){var o="",l=Object.keys(s);return l.forEach(function(d,h){var m=s[d];d=n(d),e(d)&&typeof m=="number"&&(m=m+"px"),m===!0?o+=d:m===!1?o+="not "+d:o+="("+d+": "+m+")",h<l.length-1&&(o+=" and ")}),o},i=function(s){var o="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(l,d){o+=t(l),d<s.length-1&&(o+=", ")}),o):t(s)};return dy=i,dy}var hy,Dx;function pM(){if(Dx)return hy;Dx=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},hy=n,hy}var fy,Ox;function rw(){if(Ox)return fy;Ox=1;function n(i,s){var o=0,l=i.length,d;for(o;o<l&&(d=s(i[o],o),d!==!1);o++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return fy={isFunction:t,isArray:e,each:n},fy}var py,Rx;function mM(){if(Rx)return py;Rx=1;var n=pM(),e=rw().each;function t(i,s){this.query=i,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(i);var o=this;this.listener=function(l){o.mql=l.currentTarget||l,o.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var s=new n(i);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(i){var s=this.handlers;e(s,function(o,l){if(o.equals(i))return o.destroy(),!s.splice(l,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(s){s[i]()})}},py=t,py}var my,kx;function gM(){if(kx)return my;kx=1;var n=mM(),e=rw(),t=e.each,i=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(l,d,h){var m=this.queries,b=h&&this.browserIsIncapable;return m[l]||(m[l]=new n(l,b)),i(d)&&(d={match:d}),s(d)||(d=[d]),t(d,function(w){i(w)&&(w={match:w}),m[l].addHandler(w)}),this},unregister:function(l,d){var h=this.queries[l];return h&&(d?h.removeHandler(d):(h.clear(),delete this.queries[l])),this}},my=o,my}var gy,Mx;function yM(){if(Mx)return gy;Mx=1;var n=gM();return gy=new n,gy}var Lx;function vM(){return Lx||(Lx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=l(er()),t=dM(),i=l(fM()),s=l(ZC()),o=gc();function l(x){return x&&x.__esModule?x:{default:x}}function d(x){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},d(x)}function h(){return h=Object.assign?Object.assign.bind():function(x){for(var S=1;S<arguments.length;S++){var z=arguments[S];for(var W in z)Object.prototype.hasOwnProperty.call(z,W)&&(x[W]=z[W])}return x},h.apply(this,arguments)}function m(x,S){var z=Object.keys(x);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(x);S&&(W=W.filter(function(U){return Object.getOwnPropertyDescriptor(x,U).enumerable})),z.push.apply(z,W)}return z}function b(x){for(var S=1;S<arguments.length;S++){var z=arguments[S]!=null?arguments[S]:{};S%2?m(Object(z),!0).forEach(function(W){O(x,W,z[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(z)):m(Object(z)).forEach(function(W){Object.defineProperty(x,W,Object.getOwnPropertyDescriptor(z,W))})}return x}function w(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function L(x,S){for(var z=0;z<S.length;z++){var W=S[z];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(x,N(W.key),W)}}function k(x,S,z){return S&&L(x.prototype,S),Object.defineProperty(x,"prototype",{writable:!1}),x}function j(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),S&&A(x,S)}function A(x,S){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,U){return W.__proto__=U,W},A(x,S)}function I(x){var S=q();return function(){var W=Q(x),U;if(S){var Y=Q(this).constructor;U=Reflect.construct(W,arguments,Y)}else U=W.apply(this,arguments);return P(this,U)}}function P(x,S){if(S&&(d(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(x)}function H(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function q(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!x})()}function Q(x){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},Q(x)}function O(x,S,z){return S=N(S),S in x?Object.defineProperty(x,S,{value:z,enumerable:!0,configurable:!0,writable:!0}):x[S]=z,x}function N(x){var S=F(x,"string");return d(S)=="symbol"?S:String(S)}function F(x,S){if(d(x)!="object"||!x)return x;var z=x[Symbol.toPrimitive];if(z!==void 0){var W=z.call(x,S);if(d(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(x)}var J=(0,o.canUseDOM)()&&yM();n.default=function(x){j(z,x);var S=I(z);function z(W){var U;return w(this,z),U=S.call(this,W),O(H(U),"innerSliderRefHandler",function(Y){return U.innerSlider=Y}),O(H(U),"slickPrev",function(){return U.innerSlider.slickPrev()}),O(H(U),"slickNext",function(){return U.innerSlider.slickNext()}),O(H(U),"slickGoTo",function(Y){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return U.innerSlider.slickGoTo(Y,ue)}),O(H(U),"slickPause",function(){return U.innerSlider.pause("paused")}),O(H(U),"slickPlay",function(){return U.innerSlider.autoPlay("play")}),U.state={breakpoint:null},U._responsiveMediaHandlers=[],U}return k(z,[{key:"media",value:function(U,Y){J.register(U,Y),this._responsiveMediaHandlers.push({query:U,handler:Y})}},{key:"componentDidMount",value:function(){var U=this;if(this.props.responsive){var Y=this.props.responsive.map(function(ee){return ee.breakpoint});Y.sort(function(ee,C){return ee-C}),Y.forEach(function(ee,C){var le;C===0?le=(0,i.default)({minWidth:0,maxWidth:ee}):le=(0,i.default)({minWidth:Y[C-1]+1,maxWidth:ee}),(0,o.canUseDOM)()&&U.media(le,function(){U.setState({breakpoint:ee})})});var ue=(0,i.default)({minWidth:Y.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(ue,function(){U.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(U){J.unregister(U.query,U.handler)})}},{key:"render",value:function(){var U=this,Y,ue;this.state.breakpoint?(ue=this.props.responsive.filter(function(ge){return ge.breakpoint===U.state.breakpoint}),Y=ue[0].settings==="unslick"?"unslick":b(b(b({},s.default),this.props),ue[0].settings)):Y=b(b({},s.default),this.props),Y.centerMode&&(Y.slidesToScroll>1,Y.slidesToScroll=1),Y.fade&&(Y.slidesToShow>1,Y.slidesToScroll>1,Y.slidesToShow=1,Y.slidesToScroll=1);var ee=e.default.Children.toArray(this.props.children);ee=ee.filter(function(ge){return typeof ge=="string"?!!ge.trim():!!ge}),Y.variableWidth&&(Y.rows>1||Y.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Y.variableWidth=!1);for(var C=[],le=null,$=0;$<ee.length;$+=Y.rows*Y.slidesPerRow){for(var T=[],M=$;M<$+Y.rows*Y.slidesPerRow;M+=Y.slidesPerRow){for(var se=[],pe=M;pe<M+Y.slidesPerRow&&(Y.variableWidth&&ee[pe].props.style&&(le=ee[pe].props.style.width),!(pe>=ee.length));pe+=1)se.push(e.default.cloneElement(ee[pe],{key:100*$+10*M+pe,tabIndex:-1,style:{width:"".concat(100/Y.slidesPerRow,"%"),display:"inline-block"}}));T.push(e.default.createElement("div",{key:10*$+M},se))}Y.variableWidth?C.push(e.default.createElement("div",{key:$,style:{width:le}},T)):C.push(e.default.createElement("div",{key:$},T))}if(Y==="unslick"){var oe="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:oe},ee)}else C.length<=Y.slidesToShow&&!Y.infinite&&(Y.unslick=!0);return e.default.createElement(t.InnerSlider,h({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(Y)),C)}}]),z}(e.default.Component)}(sy)),sy}var Px;function _M(){return Px||(Px=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(vM());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default}(ry)),ry}var bM=_M();const TM=vu(bM),SM=({onPlay:n})=>{const{ref:e,focused:t,focusKey:i}=ni.useFocusable({focusable:!0});return Ke.jsxs("div",{ref:e,className:"carousel-buttons",children:[Ke.jsx("button",{className:`watch-button ${t?"focused":""}`,onClick:n,style:{border:t?"2px solid blue":"1px solid red"},children:" WATCH"}),Ke.jsx("button",{className:"mylist-button",children:"+ MY LIST"})]})},xM=({duration:n=5,reset:e,totalSlides:t,activeIndex:i,onDotClick:s})=>{const[o,l]=De.useState(Array.from({length:t},()=>100)),[d,h]=De.useState(n);return De.useEffect(()=>{l(m=>m.map((b,w)=>w===i?100:m[w])),h(n)},[e,i,t,n]),De.useEffect(()=>{let m=0;const b=100,w=setInterval(()=>{m+=b,l(L=>L.map((k,j)=>j===i?Math.max(0,k-100/(n*10)):k)),m%1e3===0&&h(L=>Math.max(0,L-1)),m>=n*1e3&&clearInterval(w)},b);return()=>clearInterval(w)},[i,n]),Ke.jsx("div",{className:"timer-overlay",children:o.map((m,b)=>Ke.jsx("div",{className:`progress-bar ${b===i?"active":""}`,onClick:()=>s==null?void 0:s(b),children:Ke.jsx("div",{className:"progress-fill",style:{width:`${m}%`}})},b))})},EM=({item:n,reset:e,activeIndex:t,interval:i,totalSlides:s,onPlay:o})=>{const{ref:l,focused:d}=ni.useFocusable({focusable:!0,onEnterPress:()=>o(n)});return De.useEffect(()=>{var h;d&&((h=l.current)==null||h.scrollIntoView({behavior:"smooth",block:"center"}))},[d]),Ke.jsxs("div",{ref:l,className:`carousel-slide ${d?"focused":""}`,tabIndex:-1,children:[Ke.jsx("img",{className:`carousel-image ${d?"focused":""}`,src:n.spotlight,alt:n.title,onClick:()=>o(n),style:{cursor:"pointer"}}),Ke.jsx(xM,{duration:5,reset:e,interval:i,totalSlides:s,activeIndex:t}),Ke.jsxs("div",{className:"slide-content",children:[Ke.jsx("h2",{children:n.title}),Ke.jsx("p",{children:n.description}),Ke.jsx(SM,{onPlay:()=>o(n)})]})]})},CM=({data:n,onPlay:e,interval:t=5})=>{const i=De.useRef(null),{ref:s,focusKey:o}=ni.useFocusable({focusable:!0,trackChildren:!0}),[l,d]=De.useState(0),[h,m]=De.useState(!1),b=n.content.length,w=De.useMemo(()=>({dots:!1,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:t*1e3,arrows:!1,beforeChange:(L,k)=>{d(k)}}),[t]);return De.useEffect(()=>{m(!0);const L=setTimeout(()=>m(!1),100);return()=>clearTimeout(L)},[l]),Ke.jsx(ni.FocusContext.Provider,{value:o,children:Ke.jsx("div",{ref:s,className:"carousel",children:Ke.jsx(TM,{ref:i,...w,children:n.content.map((L,k)=>Ke.jsx(EM,{interval:5,item:L,onPlay:e,index:k,activeIndex:l,totalSlides:b,reset:h},L.id))})})})},wM=({title:n})=>Ke.jsx("h2",{className:"tray-title",children:n}),AM=({item:n,layout:e})=>Ke.jsx("img",{src:e==="portrait"?n.portrait:n.poster,alt:n.title,className:"tile-image"}),DM=()=>Ke.jsx("button",{className:"play-button",children:""}),OM=({item:n,layout:e,rowIndex:t,tileIndex:i,onPlay:s})=>{const{ref:o,focused:l,focusKey:d,hasFocusedChild:h}=ni.useFocusable({focusKey:`tile-${t}-${i}`,trackChildren:!0,onEnterPress:()=>s(n),onFocus:m=>{var b;(b=o.current)==null||b.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}});return Ke.jsx(ni.FocusContext.Provider,{value:d,children:Ke.jsxs("div",{ref:o,className:`tile ${e==="portrait"?"portrait-tile":"landscape-tile"} ${l?"focused":""} ${h?"active-tray":""}`,onClick:()=>s(n),children:[Ke.jsx(AM,{item:n,layout:e}),Ke.jsx(DM,{})]})})},RM=({onClick:n,rowIndex:e})=>{const{ref:t,focused:i}=ni.useFocusable({focusKey:`view-more-${e}`,onEnterPress:n});return Ke.jsx("div",{ref:t,className:`tile landscape-tile view-more-tile ${i?"focused":""}`,onClick:n,children:Ke.jsx("div",{className:"view-more-content",children:Ke.jsx("h2",{children:"View More"})})})},kM=({onClick:n,rowIndex:e})=>{const{ref:t,focused:i}=ni.useFocusable({focusKey:`view-more-${e}`,onEnterPress:n});return Ke.jsx("div",{ref:t,className:`tile portrait-tile view-more-tile ${i?"focused":""}`,onClick:n,children:Ke.jsx("div",{className:"view-more-content",children:Ke.jsx("h2",{children:"View More"})})})},MM=({items:n,layout:e,rowIndex:t,onPlay:i,onViewMore:s})=>{const{ref:o,focusKey:l,hasFocusedChild:d}=ni.useFocusable({focusKey:`tray-${t}`,trackChildren:!0});return De.useEffect(()=>{t===0&&ni.setFocus("tile-0-0")},[]),Ke.jsx(ni.FocusContext.Provider,{value:l,children:Ke.jsxs("div",{ref:o,className:`tray-content ${d?"active-tray":""}`,children:[n.map((h,m)=>Ke.jsx(OM,{item:h,layout:e,onPlay:i,rowIndex:t,tileIndex:m},`tile-${t}-${m}`)),e==="landscape"?Ke.jsx(RM,{id:`view-more-landscape-${t}`,title:"View More",imageUrl:"/placeholder.jpg",linkUrl:"/view-more",onClick:s,rowIndex:t}):Ke.jsx(kM,{id:`view-more-portrait-${t}`,title:"View More",imageUrl:"/placeholder.jpg",linkUrl:"/view-more",onClick:s,rowIndex:t})]})})};function LM(...n){return n.length===1&&n[0]?n[0]:e=>{for(let t of n)typeof t=="function"?t(e):t!=null&&(t.current=e)}}const PM=({title:n,items:e,layout:t,rowIndex:i,onPlay:s})=>{const o=De.useRef(null),l=Tu(),{ref:d,hasFocusedChild:h}=ni.useFocusable({focusKey:`tray-${i}`,trackChildren:!0,onFocus:()=>{var b;(b=o.current)==null||b.scrollIntoView({behavior:"smooth",block:"nearest"})}}),m=()=>{console.log(`Navigating to View More page for ${t} tray`),l(t==="portrait"?"/view-more/portrait":"/view-more/landscape")};return Ke.jsxs("div",{ref:LM(o,d),className:`tray ${t==="portrait"?"portrait-tray":"landscape-tray"} ${h?"active-tray":""}`,children:[Ke.jsx(wM,{title:n}),Ke.jsx(MM,{items:e,layout:t,rowIndex:i,onPlay:s,onViewMore:m})]})},NM="https://i.ytimg.com/vi/GV3HUDMQ-F8/maxresdefault.jpg",IM=JSON.parse(`[{"type":"spotlight","layout":"landscape","content":[{"title":"HanuMan","poster":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","spotlight":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","thumbnail":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","portrait":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","action":"play","videoUrl":"https://www.w3schools.com/html/mov_bbb.mp4","description":"a small-time thief who gains Hanuman's powers and uses them to protect his village. The movie is set in the fictional village of Anjanadri. ","series":[]},{"title":"John Wick","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","spotlight":"https://www.adweek.com/wp-content/uploads/2019/05/john-wick-poster-qa-hed-page-2019.jpg?w=1320&h=660&crop=1","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8jZPqvqnNRMggzlwOnsWmGY0tN7sSpBDGOQ&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","action":"play","description":"American action thriller film about a retired hitman, Keanu Reeves, who returns to the criminal underworld after gangsters kill his dog, a gift from his deceased wife, and steal his car, seeking revenge","series":[]},{"title":"Captain America: Brave New World (2025)","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7ZoB07Woy4UITg5pHILx-ltV1FuuTmh0BvQ&s","spotlight":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","thumbnail":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","portrait":"https://i.pinimg.com/736x/3b/28/a6/3b28a687cdb627b750802d09923f66ff.jpg","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"Sam Wilson, now the Captain America, finds himself embroiled in an international incident after meeting with the newly elected U.S. President Thaddeus Ross, and must uncover a nefarious global plot before the mastermind behind it causes chaos","series":[]},{"title":"Spider-Man","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","spotlight":"https://c8.alamy.com/comp/CXJC1E/billboard-advertisement-poster-advert-ad-for-2012-film-movie-the-amazing-CXJC1E.jpg","thumbnail":"https://c8.alamy.com/comp/2JHDGBD/tobey-maguire-poster-spider-man-2-2004-2JHDGBD.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"American teenager Peter Parker, a poor sickly orphan, is bitten by a radioactive spider. As a result of the bite, he gains superhuman strength, ...","series":["Spider-Man","Marvel Cinematic Universe"]},{"title":"Guardians of the Galaxy","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9ymtjdvwRyjHloRGD9GEkjeDqwDMZXYSj6Q&s","spotlight":"https://c4.wallpaperflare.com/wallpaper/50/243/675/guardians-of-the-galaxy-marvel-comics-star-lord-gamora-wallpaper-preview.jpg","thumbnail":"https://upload.wikimedia.org/wikipedia/en/c/c4/Guardians_of_the_Galaxy_poster.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9ymtjdvwRyjHloRGD9GEkjeDqwDMZXYSj6Q&s","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"A group of intergalactic criminals must pull together to stop a fanatical warrior from taking control of the universe.","series":["Marvel Cinematic Universe"]},{"title":"Kalki","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7iTdgKJB7fFcfAPxigTm9rDqDJoDxuM9sOg&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7iTdgKJB7fFcfAPxigTm9rDqDJoDxuM9sOg&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7iTdgKJB7fFcfAPxigTm9rDqDJoDxuM9sOg&s","portrait":"https://www.thestatesman.com/wp-content/uploads/2024/05/IMG_9909.jpeg","action":"play","videoUrl":"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4","description":"A suspenseful crime drama","series":[]},{"title":"Avengers: Infinity War","poster":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_FMjpg_UX1000_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]}]},{"type":"tray","name":"Continue Watching","layout":"landscape","content":[{"title":"HanuMan","poster":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","spotlight":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","thumbnail":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","portrait":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","action":"play","videoUrl":"https://www.w3schools.com/html/mov_bbb.mp4","description":"a small-time thief who gains Hanuman's powers and uses them to protect his village. The movie is set in the fictional village of Anjanadri. ","series":[]},{"title":"Kalki","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7iTdgKJB7fFcfAPxigTm9rDqDJoDxuM9sOg&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf0Gx9D94uxgVPPfyks3izS8dUy3zAvRoVmQ&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7iTdgKJB7fFcfAPxigTm9rDqDJoDxuM9sOg&s","portrait":"https://www.thestatesman.com/wp-content/uploads/2024/05/IMG_9909.jpeg","action":"play","videoUrl":"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4","description":"A suspenseful crime drama","series":[]},{"title":"Captain America: Brave New World (2025)","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7ZoB07Woy4UITg5pHILx-ltV1FuuTmh0BvQ&s","spotlight":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","thumbnail":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","portrait":"https://i.pinimg.com/736x/3b/28/a6/3b28a687cdb627b750802d09923f66ff.jpg","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"Sam Wilson, now the Captain America, finds himself embroiled in an international incident after meeting with the newly elected U.S. President Thaddeus Ross, and must uncover a nefarious global plot before the mastermind behind it causes chaos","series":[]},{"title":"John Wick","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","spotlight":"https://www.adweek.com/wp-content/uploads/2019/05/john-wick-poster-qa-hed-page-2019.jpg?w=1320&h=660&crop=1","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8jZPqvqnNRMggzlwOnsWmGY0tN7sSpBDGOQ&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"American action thriller film about a retired hitman, Keanu Reeves, who returns to the criminal underworld after gangsters kill his dog, a gift from his deceased wife, and steal his car, seeking revenge","series":[]},{"title":"Avengers: Infinity War","poster":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_FMjpg_UX1000_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]},{"title":"Spider-Man","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","spotlight":"https://c8.alamy.com/comp/CXJC1E/billboard-advertisement-poster-advert-ad-for-2012-film-movie-the-amazing-CXJC1E.jpg","thumbnail":"https://c8.alamy.com/comp/2JHDGBD/tobey-maguire-poster-spider-man-2-2004-2JHDGBD.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"American teenager Peter Parker, a poor sickly orphan, is bitten by a radioactive spider. As a result of the bite, he gains superhuman strength, ...","series":["Spider-Man","Marvel Cinematic Universe"]},{"title":"Guardians of the Galaxy","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHnexJWcXh1-cM8UdcdEVettL0oWK0rnDUGg&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9ZbMOcuQ-7G4tM_t_OAPpTH4bn1H7La0lng&s","thumbnail":"https://upload.wikimedia.org/wikipedia/en/c/c4/Guardians_of_the_Galaxy_poster.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9ymtjdvwRyjHloRGD9GEkjeDqwDMZXYSj6Q&s","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"A group of intergalactic criminals must pull together to stop a fanatical warrior from taking control of the universe.","series":["Marvel Cinematic Universe"]},{"title":"The Matrix","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4","description":"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.","series":["The Matrix Trilogy"]},{"title":"Avengers: Endgame","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv_mvHCvzj913EoJYgK5ygvfzjmMQKppOLSA&s","spotlight":"https://c4.wallpaperflare.com/wallpaper/275/717/310/avengers-infinity-war-superheroes-cast-4k-8k-wallpaper-preview.jpg","thumbnail":"https://wallpapercave.com/wp/wp4866150.jpg","portrait":"https://terrigen-cdn-dev.marvel.com/content/prod/2x/avengersendgame_lob_mas_mob_01_2.jpg","action":"play","videoUrl":"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4","description":"The Avengers assemble once more to undo the damage caused by Thanos and restore the universe.","series":["Marvel Cinematic Universe"]},{"title":"Black Panther","poster":"https://m.media-amazon.com/images/I/810SlMj1+eL.jpg","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4cG_nJd9eN64OicxZl8uWjHijcog5AGRcgQ&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSX5OEPBLNuTMuvB_4qXbCkY2ang2kJtLQpKA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSa3Zd8R5-d8FtKDDFwBkwx9_VLBJwxIQHBqA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"T'Challa, the new king of Wakanda, must defend his nation from enemies and claim his rightful place as the Black Panther.","series":["Marvel Cinematic Universe"]}]},{"type":"tray","name":"Hot Picks","layout":"landscape","content":[{"title":"Kalki","poster":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Check_movie_poster.jpg/640px-Check_movie_poster.jpg","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRf0Gx9D94uxgVPPfyks3izS8dUy3zAvRoVmQ&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTtLJFZdgUpaGKLUovQ8uCGuA3s9fwnB-E-gA&s","portrait":"https://www.thestatesman.com/wp-content/uploads/2024/05/IMG_9909.jpeg","action":"play","videoUrl":"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4","description":"A suspenseful crime drama","series":[]},{"title":"HanuMan","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR88wtDPYU9gYv2U0gaI8BDwz9RxSKaeZZbMw&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-JhQNQWYufJe3VWekhx579rhN8OVcx-KHCA&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV1DQYXOFn7-Juik1NILqMKb8cN3IL7blAZA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV1DQYXOFn7-Juik1NILqMKb8cN3IL7blAZA&s","action":"play","videoUrl":"https://www.w3schools.com/html/mov_bbb.mp4","description":"A thrilling action movie","series":[]},{"title":"Avengers: Infinity War","poster":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]},{"title":"Spider-Man","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","spotlight":"https://c8.alamy.com/comp/CXJC1E/billboard-advertisement-poster-advert-ad-for-2012-film-movie-the-amazing-CXJC1E.jpg","thumbnail":"https://c8.alamy.com/comp/2JHDGBD/tobey-maguire-poster-spider-man-2-2004-2JHDGBD.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"American teenager Peter Parker, a poor sickly orphan, is bitten by a radioactive spider. As a result of the bite, he gains superhuman strength, ...","series":["Spider-Man","Marvel Cinematic Universe"]},{"title":"Avengers: Endgame","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQv_mvHCvzj913EoJYgK5ygvfzjmMQKppOLSA&s","spotlight":"https://c4.wallpaperflare.com/wallpaper/275/717/310/avengers-infinity-war-superheroes-cast-4k-8k-wallpaper-preview.jpg","thumbnail":"https://wallpapercave.com/wp/wp4866150.jpg","portrait":"https://terrigen-cdn-dev.marvel.com/content/prod/2x/avengersendgame_lob_mas_mob_01_2.jpg","action":"play","videoUrl":"https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/720/Big_Buck_Bunny_720_10s_1MB.mp4","description":"The Avengers assemble once more to undo the damage caused by Thanos and restore the universe.","series":["Marvel Cinematic Universe"]},{"title":"Black Panther","poster":"https://m.media-amazon.com/images/I/810SlMj1+eL.jpg","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4cG_nJd9eN64OicxZl8uWjHijcog5AGRcgQ&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSX5OEPBLNuTMuvB_4qXbCkY2ang2kJtLQpKA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSa3Zd8R5-d8FtKDDFwBkwx9_VLBJwxIQHBqA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"T'Challa, the new king of Wakanda, must defend his nation from enemies and claim his rightful place as the Black Panther.","series":["Marvel Cinematic Universe"]},{"title":"John Wick","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","spotlight":"https://www.adweek.com/wp-content/uploads/2019/05/john-wick-poster-qa-hed-page-2019.jpg?w=1320&h=660&crop=1","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8jZPqvqnNRMggzlwOnsWmGY0tN7sSpBDGOQ&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"American action thriller film about a retired hitman, Keanu Reeves, who returns to the criminal underworld after gangsters kill his dog, a gift from his deceased wife, and steal his car, seeking revenge","series":[]},{"title":"Avengers: Infinity War","poster":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_FMjpg_UX1000_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]},{"title":"Spider-Man","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","spotlight":"https://c8.alamy.com/comp/CXJC1E/billboard-advertisement-poster-advert-ad-for-2012-film-movie-the-amazing-CXJC1E.jpg","thumbnail":"https://c8.alamy.com/comp/2JHDGBD/tobey-maguire-poster-spider-man-2-2004-2JHDGBD.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"American teenager Peter Parker, a poor sickly orphan, is bitten by a radioactive spider. As a result of the bite, he gains superhuman strength, ...","series":["Spider-Man","Marvel Cinematic Universe"]},{"title":"Guardians of the Galaxy","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHnexJWcXh1-cM8UdcdEVettL0oWK0rnDUGg&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9ZbMOcuQ-7G4tM_t_OAPpTH4bn1H7La0lng&s","thumbnail":"https://upload.wikimedia.org/wikipedia/en/c/c4/Guardians_of_the_Galaxy_poster.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9ymtjdvwRyjHloRGD9GEkjeDqwDMZXYSj6Q&s","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"A group of intergalactic criminals must pull together to stop a fanatical warrior from taking control of the universe.","series":["Marvel Cinematic Universe"]},{"title":"The Matrix","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4","description":"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.","series":["The Matrix Trilogy"]},{"title":"HanuMan","poster":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","spotlight":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","thumbnail":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","portrait":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","action":"play","videoUrl":"https://www.w3schools.com/html/mov_bbb.mp4","description":"a small-time thief who gains Hanuman's powers and uses them to protect his village. The movie is set in the fictional village of Anjanadri. ","series":[]},{"title":"Captain America: Brave New World (2025)","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7ZoB07Woy4UITg5pHILx-ltV1FuuTmh0BvQ&s","spotlight":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","thumbnail":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","portrait":"https://i.pinimg.com/736x/3b/28/a6/3b28a687cdb627b750802d09923f66ff.jpg","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"Sam Wilson, now the Captain America, finds himself embroiled in an international incident after meeting with the newly elected U.S. President Thaddeus Ross, and must uncover a nefarious global plot before the mastermind behind it causes chaos","series":[]},{"title":"Avengers: Infinity War","poster":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]}]},{"type":"tray","name":"Best of UEL & UECL","layout":"landscape","content":[{"title":"John Wick","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","spotlight":"https://www.adweek.com/wp-content/uploads/2019/05/john-wick-poster-qa-hed-page-2019.jpg?w=1320&h=660&crop=1","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8jZPqvqnNRMggzlwOnsWmGY0tN7sSpBDGOQ&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","action":"play","description":"American action thriller film about a retired hitman, Keanu Reeves, who returns to the criminal underworld after gangsters kill his dog, a gift from his deceased wife, and steal his car, seeking revenge","series":[]},{"title":"HanuMan","poster":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","spotlight":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","thumbnail":"https://economictimes.indiatimes.com/thumb/msid-106888809,width-1600,height-900,resizemode-4,imgsize-112166/hanumandb.jpg?from=mdr","portrait":"https://i.pinimg.com/736x/75/2d/29/752d29e9d9cb839a8fc8fb5acd064bad.jpg","action":"play","videoUrl":"https://www.w3schools.com/html/mov_bbb.mp4","description":"a small-time thief who gains Hanuman's powers and uses them to protect his village. The movie is set in the fictional village of Anjanadri. ","series":[]},{"title":"Captain America: Brave New World (2025)","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7ZoB07Woy4UITg5pHILx-ltV1FuuTmh0BvQ&s","spotlight":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","thumbnail":"https://assets-in.bmscdn.com/discovery-catalog/events/et00399765-detsvzqehh-landscape.jpg","portrait":"https://i.pinimg.com/736x/3b/28/a6/3b28a687cdb627b750802d09923f66ff.jpg","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"Sam Wilson, now the Captain America, finds himself embroiled in an international incident after meeting with the newly elected U.S. President Thaddeus Ross, and must uncover a nefarious global plot before the mastermind behind it causes chaos","series":[]},{"title":"Avengers: Infinity War","poster":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/I/81y2fn9eYrL._AC_UF1000,1000_QL80_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]},{"title":"Avengers: Infinity War","poster":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","spotlight":"https://cdn.marvel.com/content/1x/avengersinfinitywar_lob_mas_hlf_01_2.jpg","thumbnail":"https://www.motherjones.com/wp-content/uploads/2018/04/avengers-infinity-war-official-poster.jpg?w=990","portrait":"https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_FMjpg_UX1000_.jpg","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":" the Avengers and their allies unite to face the cosmic threat of Thanos, who seeks to collect all six Infinity Stones to reshape reality, leading to an epic showdown with devastating consequences","series":[]},{"title":"Spider-Man","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","spotlight":"https://c8.alamy.com/comp/CXJC1E/billboard-advertisement-poster-advert-ad-for-2012-film-movie-the-amazing-CXJC1E.jpg","thumbnail":"https://c8.alamy.com/comp/2JHDGBD/tobey-maguire-poster-spider-man-2-2004-2JHDGBD.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"American teenager Peter Parker, a poor sickly orphan, is bitten by a radioactive spider. As a result of the bite, he gains superhuman strength, ...","series":["Spider-Man","Marvel Cinematic Universe"]},{"title":"Guardians of the Galaxy","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHnexJWcXh1-cM8UdcdEVettL0oWK0rnDUGg&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9ZbMOcuQ-7G4tM_t_OAPpTH4bn1H7La0lng&s","thumbnail":"https://upload.wikimedia.org/wikipedia/en/c/c4/Guardians_of_the_Galaxy_poster.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9ymtjdvwRyjHloRGD9GEkjeDqwDMZXYSj6Q&s","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"A group of intergalactic criminals must pull together to stop a fanatical warrior from taking control of the universe.","series":["Marvel Cinematic Universe"]},{"title":"The Matrix","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4","description":"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.","series":["The Matrix Trilogy"]}]},{"type":"tray","name":"Top Web Series","layout":"portrait","content":[{"title":"HanuMan","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR88wtDPYU9gYv2U0gaI8BDwz9RxSKaeZZbMw&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-JhQNQWYufJe3VWekhx579rhN8OVcx-KHCA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV1DQYXOFn7-Juik1NILqMKb8cN3IL7blAZA&s","action":"play","videoUrl":"https://www.w3schools.com/html/mov_bbb.mp4","description":"A thrilling action movie","series":[]},{"title":"Spider-Man","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","spotlight":"https://c8.alamy.com/comp/CXJC1E/billboard-advertisement-poster-advert-ad-for-2012-film-movie-the-amazing-CXJC1E.jpg","thumbnail":"https://c8.alamy.com/comp/2JHDGBD/tobey-maguire-poster-spider-man-2-2004-2JHDGBD.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nmdvDFGNQ_URUxZGUb0sCJRjwRXOWsSmDA&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","description":"American teenager Peter Parker, a poor sickly orphan, is bitten by a radioactive spider. As a result of the bite, he gains superhuman strength, ...","series":["Spider-Man","Marvel Cinematic Universe"]},{"title":"John Wick","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","spotlight":"https://www.adweek.com/wp-content/uploads/2019/05/john-wick-poster-qa-hed-page-2019.jpg?w=1320&h=660&crop=1","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8jZPqvqnNRMggzlwOnsWmGY0tN7sSpBDGOQ&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-c7qgVOh5J1g1oJ1tByv0ZeOdyrV9QxBqGppEG-ZHT-50PyXcMYFudM3LfYePbSnG0wI&usqp=CAU","action":"play","description":"American action thriller film about a retired hitman, Keanu Reeves, who returns to the criminal underworld after gangsters kill his dog, a gift from his deceased wife, and steal his car, seeking revenge","series":[]},{"title":"The Matrix","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","thumbnail":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQiGrj04oN18Xfv1hnyjNwdb1AZL_R9zJtEZA&s","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8_OByzpPMRkIE_wDf1k7-DL1oPon9bYTeqQ&s","action":"play","videoUrl":"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4","description":"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.","series":["The Matrix Trilogy"]},{"title":"Guardians of the Galaxy","poster":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRHnexJWcXh1-cM8UdcdEVettL0oWK0rnDUGg&s","spotlight":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9ZbMOcuQ-7G4tM_t_OAPpTH4bn1H7La0lng&s","thumbnail":"https://upload.wikimedia.org/wikipedia/en/c/c4/Guardians_of_the_Galaxy_poster.jpg","portrait":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR9ymtjdvwRyjHloRGD9GEkjeDqwDMZXYSj6Q&s","action":"play","videoUrl":"https://test-videos.co.uk/vids/sintel/mp4/h264/720/Sintel_720_10s_1MB.mp4","description":"A group of intergalactic criminals must pull together to stop a fanatical warrior from taking control of the universe.","series":["Marvel Cinematic Universe"]}]}]`),sw={loadingScreen:NM,layouts:IM},BM=n=>n.layouts.map(e=>({type:e.type,name:e.name??"",layout:e.layout,content:e.content.map((t,i)=>({id:i.toString(),title:t.title,poster:t.poster,spotlight:t.spotlight,thumbnail:t.thumbnail,portrait:t.portrait,action:t.action,videoUrl:t.videoUrl??"",description:t.description??"No description available",series:t.series??[]}))})),Nx=BM(sw),Ix=n=>n.content.map(e=>({...e})),UM=()=>{const{ref:n,focusKey:e}=ni.useFocusable(),[t,i]=De.useState(!0),s=Tu(),[o,l]=De.useState(0);De.useEffect(()=>{const b=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(b)},[]),De.useEffect(()=>{o===0&&ni.setFocus("tile-0-0")},[e,o]);const d=b=>{b.videoUrl?s("/player",{state:{videoUrl:b.videoUrl}}):console.error("No video URL found for this item.")},h=Nx.find(b=>b.type==="spotlight"),m=Nx.filter(b=>b.type==="tray");return t?Ke.jsx("div",{className:"loading-screen",children:Ke.jsx("img",{src:sw.loadingScreen,alt:"Loading..."})}):Ke.jsx(ni.FocusContext.Provider,{value:e,children:Ke.jsxs("div",{ref:n,className:"homepage",children:[" ",h&&Ke.jsx(CM,{data:{...h,content:Ix(h)},onPlay:d}),m.map((b,w)=>Ke.jsx(PM,{title:b.name??"",items:Ix(b),layout:b.name==="Hot Picks"||b.name==="Top Web Series"?"portrait":"landscape",onPlay:d,rowIndex:w,onFocus:()=>l(w)},`tray-${w}`))]})})};var yy,Bx;function kh(){if(Bx)return yy;Bx=1;var n;return typeof window<"u"?n=window:typeof Un<"u"?n=Un:typeof self<"u"?n=self:n={},yy=n,yy}var FM=kh();const te=vu(FM),qM={},jM=Object.freeze(Object.defineProperty({__proto__:null,default:qM},Symbol.toStringTag,{value:"Module"})),HM=pC(jM);var vy,Ux;function aw(){if(Ux)return vy;Ux=1;var n=typeof Un<"u"?Un:typeof window<"u"?window:{},e=HM,t;return typeof document<"u"?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"],t||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=e)),vy=t,vy}var zM=aw();const Fe=vu(zM);var Bd={exports:{}},_y={exports:{}},Fx;function GM(){return Fx||(Fx=1,function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)({}).hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(null,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports}(_y)),_y.exports}var by,qx;function VM(){if(qx)return by;qx=1,by=e;var n=Object.prototype.toString;function e(t){if(!t)return!1;var i=n.call(t);return i==="[object Function]"||typeof t=="function"&&i!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}return by}var Ty,jx;function $M(){if(jx)return Ty;jx=1;function n(s,o){var l=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(l)return(l=l.call(s)).next.bind(l);if(Array.isArray(s)||(l=e(s))||o){l&&(s=l);var d=0;return function(){return d>=s.length?{done:!0}:{done:!1,value:s[d++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(s,o){if(s){if(typeof s=="string")return t(s,o);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return t(s,o)}}function t(s,o){(o==null||o>s.length)&&(o=s.length);for(var l=0,d=new Array(o);l<o;l++)d[l]=s[l];return d}var i=function(){function s(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var o=s.prototype;return o.getIsEnabled=function(){return this.enabled_},o.enable=function(){this.enabled_=!0},o.disable=function(){this.enabled_=!1},o.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},o.addInterceptor=function(d,h){this.typeToInterceptorsMap_.has(d)||this.typeToInterceptorsMap_.set(d,new Set);var m=this.typeToInterceptorsMap_.get(d);return m.has(h)?!1:(m.add(h),!0)},o.removeInterceptor=function(d,h){var m=this.typeToInterceptorsMap_.get(d);return m&&m.has(h)?(m.delete(h),!0):!1},o.clearInterceptorsByType=function(d){var h=this.typeToInterceptorsMap_.get(d);return h?(this.typeToInterceptorsMap_.delete(d),this.typeToInterceptorsMap_.set(d,new Set),!0):!1},o.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},o.getForType=function(d){return this.typeToInterceptorsMap_.get(d)||new Set},o.execute=function(d,h){for(var m=this.getForType(d),b=n(m),w;!(w=b()).done;){var L=w.value;try{h=L(h)}catch{}}return h},s}();return Ty=i,Ty}var Sy,Hx;function KM(){if(Hx)return Sy;Hx=1;var n=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var i=t.prototype;return i.getIsEnabled=function(){return this.enabled_},i.enable=function(){this.enabled_=!0},i.disable=function(){this.enabled_=!1},i.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},i.getMaxAttempts=function(){return this.maxAttempts_},i.setMaxAttempts=function(o){this.maxAttempts_=o},i.getDelayFactor=function(){return this.delayFactor_},i.setDelayFactor=function(o){this.delayFactor_=o},i.getFuzzFactor=function(){return this.fuzzFactor_},i.setFuzzFactor=function(o){this.fuzzFactor_=o},i.getInitialDelay=function(){return this.initialDelay_},i.setInitialDelay=function(o){this.initialDelay_=o},i.createRetry=function(o){var l=o===void 0?{}:o,d=l.maxAttempts,h=l.delayFactor,m=l.fuzzFactor,b=l.initialDelay;return new e({maxAttempts:d||this.maxAttempts_,delayFactor:h||this.delayFactor_,fuzzFactor:m||this.fuzzFactor_,initialDelay:b||this.initialDelay_})},t}(),e=function(){function t(s){this.maxAttempts_=s.maxAttempts,this.delayFactor_=s.delayFactor,this.fuzzFactor_=s.fuzzFactor,this.currentDelay_=s.initialDelay,this.currentAttempt_=1}var i=t.prototype;return i.moveToNextAttempt=function(){this.currentAttempt_++;var o=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+o},i.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},i.getCurrentDelay=function(){return this.currentDelay_},i.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},i.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},i.getCurrentFuzzedDelay=function(){var o=this.getCurrentMinPossibleDelay(),l=this.getCurrentMaxPossibleDelay();return o+Math.random()*(l-o)},t}();return Sy=n,Sy}var xy,zx;function XM(){if(zx)return xy;zx=1;var n=kh(),e=function(s,o){return o===void 0&&(o=!1),function(l,d,h){if(l){s(l);return}if(d.statusCode>=400&&d.statusCode<=599){var m=h;if(o)if(n.TextDecoder){var b=t(d.headers&&d.headers["content-type"]);try{m=new TextDecoder(b).decode(h)}catch{}}else m=String.fromCharCode.apply(null,new Uint8Array(h));s({cause:m});return}s(null,h)}};function t(i){return i===void 0&&(i=""),i.toLowerCase().split(";").reduce(function(s,o){var l=o.split("="),d=l[0],h=l[1];return d.trim()==="charset"?h.trim():s},"utf-8")}return xy=e,xy}var Gx;function YM(){if(Gx)return Bd.exports;Gx=1;var n=kh(),e=GM(),t=VM(),i=$M(),s=KM();m.httpHandler=XM(),m.requestInterceptorsStorage=new i,m.responseInterceptorsStorage=new i,m.retryManager=new s;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var o=function(j){var A={};return j&&j.trim().split(`
`).forEach(function(I){var P=I.indexOf(":"),H=I.slice(0,P).trim().toLowerCase(),q=I.slice(P+1).trim();typeof A[H]>"u"?A[H]=q:Array.isArray(A[H])?A[H].push(q):A[H]=[A[H],q]}),A};Bd.exports=m,Bd.exports.default=m,m.XMLHttpRequest=n.XMLHttpRequest||L,m.XDomainRequest="withCredentials"in new m.XMLHttpRequest?m.XMLHttpRequest:n.XDomainRequest,l(["get","put","post","patch","head","delete"],function(k){m[k==="delete"?"del":k]=function(j,A,I){return A=h(j,A,I),A.method=k.toUpperCase(),b(A)}});function l(k,j){for(var A=0;A<k.length;A++)j(k[A])}function d(k){for(var j in k)if(k.hasOwnProperty(j))return!1;return!0}function h(k,j,A){var I=k;return t(j)?(A=j,typeof k=="string"&&(I={uri:k})):I=e({},j,{uri:k}),I.callback=A,I}function m(k,j,A){return j=h(k,j,A),b(j)}function b(k){if(typeof k.callback>"u")throw new Error("callback argument missing");if(k.requestType&&m.requestInterceptorsStorage.getIsEnabled()){var j={uri:k.uri||k.url,headers:k.headers||{},body:k.body,metadata:k.metadata||{},retry:k.retry,timeout:k.timeout},A=m.requestInterceptorsStorage.execute(k.requestType,j);k.uri=A.uri,k.headers=A.headers,k.body=A.body,k.metadata=A.metadata,k.retry=A.retry,k.timeout=A.timeout}var I=!1,P=function(le,$,T){I||(I=!0,k.callback(le,$,T))};function H(){N.readyState===4&&!m.responseInterceptorsStorage.getIsEnabled()&&setTimeout(O,0)}function q(){var C=void 0;if(N.response?C=N.response:C=N.responseText||w(N),Y)try{C=JSON.parse(C)}catch{}return C}function Q(C){if(clearTimeout(ue),clearTimeout(k.retryTimeout),C instanceof Error||(C=new Error(""+(C||"Unknown XMLHttpRequest Error"))),C.statusCode=0,!J&&m.retryManager.getIsEnabled()&&k.retry&&k.retry.shouldRetry()){k.retryTimeout=setTimeout(function(){k.retry.moveToNextAttempt(),k.xhr=N,b(k)},k.retry.getCurrentFuzzedDelay());return}if(k.requestType&&m.responseInterceptorsStorage.getIsEnabled()){var le={headers:ee.headers||{},body:ee.body,responseUrl:N.responseURL,responseType:N.responseType},$=m.responseInterceptorsStorage.execute(k.requestType,le);ee.body=$.body,ee.headers=$.headers}return P(C,ee)}function O(){if(!J){var C;clearTimeout(ue),clearTimeout(k.retryTimeout),k.useXDR&&N.status===void 0?C=200:C=N.status===1223?204:N.status;var le=ee,$=null;if(C!==0?(le={body:q(),statusCode:C,method:S,headers:{},url:x,rawRequest:N},N.getAllResponseHeaders&&(le.headers=o(N.getAllResponseHeaders()))):$=new Error("Internal XMLHttpRequest Error"),k.requestType&&m.responseInterceptorsStorage.getIsEnabled()){var T={headers:le.headers||{},body:le.body,responseUrl:N.responseURL,responseType:N.responseType},M=m.responseInterceptorsStorage.execute(k.requestType,T);le.body=M.body,le.headers=M.headers}return P($,le,le.body)}}var N=k.xhr||null;N||(k.cors||k.useXDR?N=new m.XDomainRequest:N=new m.XMLHttpRequest);var F,J,x=N.url=k.uri||k.url,S=N.method=k.method||"GET",z=k.body||k.data,W=N.headers=k.headers||{},U=!!k.sync,Y=!1,ue,ee={body:void 0,headers:{},statusCode:0,method:S,url:x,rawRequest:N};if("json"in k&&k.json!==!1&&(Y=!0,W.accept||W.Accept||(W.Accept="application/json"),S!=="GET"&&S!=="HEAD"&&(W["content-type"]||W["Content-Type"]||(W["Content-Type"]="application/json"),z=JSON.stringify(k.json===!0?z:k.json))),N.onreadystatechange=H,N.onload=O,N.onerror=Q,N.onprogress=function(){},N.onabort=function(){J=!0,clearTimeout(k.retryTimeout)},N.ontimeout=Q,N.open(S,x,!U,k.username,k.password),U||(N.withCredentials=!!k.withCredentials),!U&&k.timeout>0&&(ue=setTimeout(function(){if(!J){J=!0,N.abort("timeout");var C=new Error("XMLHttpRequest timeout");C.code="ETIMEDOUT",Q(C)}},k.timeout)),N.setRequestHeader)for(F in W)W.hasOwnProperty(F)&&N.setRequestHeader(F,W[F]);else if(k.headers&&!d(k.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in k&&(N.responseType=k.responseType),"beforeSend"in k&&typeof k.beforeSend=="function"&&k.beforeSend(N),N.send(z||null),N}function w(k){try{if(k.responseType==="document")return k.responseXML;var j=k.responseXML&&k.responseXML.documentElement.nodeName==="parsererror";if(k.responseType===""&&!j)return k.responseXML}catch{}return null}function L(){}return Bd.exports}var WM=YM();const ow=vu(WM);var Ey={exports:{}},Cy,Vx;function QM(){if(Vx)return Cy;Vx=1;var n=aw(),e=Object.create||function(){function x(){}return function(S){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return x.prototype=S,new x}}();function t(x,S){this.name="ParsingError",this.code=x.code,this.message=S||x.message}t.prototype=e(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function i(x){function S(W,U,Y,ue){return(W|0)*3600+(U|0)*60+(Y|0)+(ue|0)/1e3}var z=x.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return z?z[3]?S(z[1],z[2],z[3].replace(":",""),z[4]):z[1]>59?S(z[1],z[2],0,z[4]):S(0,z[1],z[2],z[4]):null}function s(){this.values=e(null)}s.prototype={set:function(x,S){!this.get(x)&&S!==""&&(this.values[x]=S)},get:function(x,S,z){return z?this.has(x)?this.values[x]:S[z]:this.has(x)?this.values[x]:S},has:function(x){return x in this.values},alt:function(x,S,z){for(var W=0;W<z.length;++W)if(S===z[W]){this.set(x,S);break}},integer:function(x,S){/^-?\d+$/.test(S)&&this.set(x,parseInt(S,10))},percent:function(x,S){return S.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(S=parseFloat(S),S>=0&&S<=100)?(this.set(x,S),!0):!1}};function o(x,S,z,W){var U=W?x.split(W):[x];for(var Y in U)if(typeof U[Y]=="string"){var ue=U[Y].split(z);if(ue.length===2){var ee=ue[0].trim(),C=ue[1].trim();S(ee,C)}}}function l(x,S,z){var W=x;function U(){var ee=i(x);if(ee===null)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+W);return x=x.replace(/^[^\sa-zA-Z-]+/,""),ee}function Y(ee,C){var le=new s;o(ee,function($,T){switch($){case"region":for(var M=z.length-1;M>=0;M--)if(z[M].id===T){le.set($,z[M].region);break}break;case"vertical":le.alt($,T,["rl","lr"]);break;case"line":var se=T.split(","),pe=se[0];le.integer($,pe),le.percent($,pe)&&le.set("snapToLines",!1),le.alt($,pe,["auto"]),se.length===2&&le.alt("lineAlign",se[1],["start","center","end"]);break;case"position":se=T.split(","),le.percent($,se[0]),se.length===2&&le.alt("positionAlign",se[1],["start","center","end"]);break;case"size":le.percent($,T);break;case"align":le.alt($,T,["start","center","end","left","right"]);break}},/:/,/\s/),C.region=le.get("region",null),C.vertical=le.get("vertical","");try{C.line=le.get("line","auto")}catch{}C.lineAlign=le.get("lineAlign","start"),C.snapToLines=le.get("snapToLines",!0),C.size=le.get("size",100);try{C.align=le.get("align","center")}catch{C.align=le.get("align","middle")}try{C.position=le.get("position","auto")}catch{C.position=le.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},C.align)}C.positionAlign=le.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},C.align)}function ue(){x=x.replace(/^\s+/,"")}if(ue(),S.startTime=U(),ue(),x.substr(0,3)!=="-->")throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+W);x=x.substr(3),ue(),S.endTime=U(),ue(),Y(x,S)}var d=n.createElement&&n.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},m={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},b={v:"title",lang:"lang"},w={rt:"ruby"};function L(x,S){function z(){if(!S)return null;function pe(ge){return S=S.substr(ge.length),ge}var oe=S.match(/^([^<]*)(<[^>]*>?)?/);return pe(oe[1]?oe[1]:oe[2])}function W(pe){return d.innerHTML=pe,pe=d.textContent,d.textContent="",pe}function U(pe,oe){return!w[oe.localName]||w[oe.localName]===pe.localName}function Y(pe,oe){var ge=h[pe];if(!ge)return null;var Ee=x.document.createElement(ge),ke=b[pe];return ke&&oe&&(Ee[ke]=oe.trim()),Ee}for(var ue=x.document.createElement("div"),ee=ue,C,le=[];(C=z())!==null;){if(C[0]==="<"){if(C[1]==="/"){le.length&&le[le.length-1]===C.substr(2).replace(">","")&&(le.pop(),ee=ee.parentNode);continue}var $=i(C.substr(1,C.length-2)),T;if($){T=x.document.createProcessingInstruction("timestamp",$),ee.appendChild(T);continue}var M=C.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!M||(T=Y(M[1],M[3]),!T)||!U(ee,T))continue;if(M[2]){var se=M[2].split(".");se.forEach(function(pe){var oe=/^bg_/.test(pe),ge=oe?pe.slice(3):pe;if(m.hasOwnProperty(ge)){var Ee=oe?"background-color":"color",ke=m[ge];T.style[Ee]=ke}}),T.className=se.join(" ")}le.push(M[1]),ee.appendChild(T),ee=T;continue}ee.appendChild(x.document.createTextNode(W(C)))}return ue}var k=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function j(x){for(var S=0;S<k.length;S++){var z=k[S];if(x>=z[0]&&x<=z[1])return!0}return!1}function A(x){var S=[],z="",W;if(!x||!x.childNodes)return"ltr";function U(ee,C){for(var le=C.childNodes.length-1;le>=0;le--)ee.push(C.childNodes[le])}function Y(ee){if(!ee||!ee.length)return null;var C=ee.pop(),le=C.textContent||C.innerText;if(le){var $=le.match(/^.*(\n|\r)/);return $?(ee.length=0,$[0]):le}if(C.tagName==="ruby")return Y(ee);if(C.childNodes)return U(ee,C),Y(ee)}for(U(S,x);z=Y(S);)for(var ue=0;ue<z.length;ue++)if(W=z.charCodeAt(ue),j(W))return"rtl";return"ltr"}function I(x){if(typeof x.line=="number"&&(x.snapToLines||x.line>=0&&x.line<=100))return x.line;if(!x.track||!x.track.textTrackList||!x.track.textTrackList.mediaElement)return-1;for(var S=x.track,z=S.textTrackList,W=0,U=0;U<z.length&&z[U]!==S;U++)z[U].mode==="showing"&&W++;return++W*-1}function P(){}P.prototype.applyStyles=function(x,S){S=S||this.div;for(var z in x)x.hasOwnProperty(z)&&(S.style[z]=x[z])},P.prototype.formatStyle=function(x,S){return x===0?0:x+S};function H(x,S,z){P.call(this),this.cue=S,this.cueDiv=L(x,S.text);var W={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:S.vertical===""?"horizontal-tb":S.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(W,this.cueDiv),this.div=x.document.createElement("div"),W={direction:A(this.cueDiv),writingMode:S.vertical===""?"horizontal-tb":S.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:S.align==="middle"?"center":S.align,font:z.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(W),this.div.appendChild(this.cueDiv);var U=0;switch(S.positionAlign){case"start":case"line-left":U=S.position;break;case"center":U=S.position-S.size/2;break;case"end":case"line-right":U=S.position-S.size;break}S.vertical===""?this.applyStyles({left:this.formatStyle(U,"%"),width:this.formatStyle(S.size,"%")}):this.applyStyles({top:this.formatStyle(U,"%"),height:this.formatStyle(S.size,"%")}),this.move=function(Y){this.applyStyles({top:this.formatStyle(Y.top,"px"),bottom:this.formatStyle(Y.bottom,"px"),left:this.formatStyle(Y.left,"px"),right:this.formatStyle(Y.right,"px"),height:this.formatStyle(Y.height,"px"),width:this.formatStyle(Y.width,"px")})}}H.prototype=e(P.prototype),H.prototype.constructor=H;function q(x){var S,z,W,U;if(x.div){z=x.div.offsetHeight,W=x.div.offsetWidth,U=x.div.offsetTop;var Y=(Y=x.div.childNodes)&&(Y=Y[0])&&Y.getClientRects&&Y.getClientRects();x=x.div.getBoundingClientRect(),S=Y?Math.max(Y[0]&&Y[0].height||0,x.height/Y.length):0}this.left=x.left,this.right=x.right,this.top=x.top||U,this.height=x.height||z,this.bottom=x.bottom||U+(x.height||z),this.width=x.width||W,this.lineHeight=S!==void 0?S:x.lineHeight}q.prototype.move=function(x,S){switch(S=S!==void 0?S:this.lineHeight,x){case"+x":this.left+=S,this.right+=S;break;case"-x":this.left-=S,this.right-=S;break;case"+y":this.top+=S,this.bottom+=S;break;case"-y":this.top-=S,this.bottom-=S;break}},q.prototype.overlaps=function(x){return this.left<x.right&&this.right>x.left&&this.top<x.bottom&&this.bottom>x.top},q.prototype.overlapsAny=function(x){for(var S=0;S<x.length;S++)if(this.overlaps(x[S]))return!0;return!1},q.prototype.within=function(x){return this.top>=x.top&&this.bottom<=x.bottom&&this.left>=x.left&&this.right<=x.right},q.prototype.overlapsOppositeAxis=function(x,S){switch(S){case"+x":return this.left<x.left;case"-x":return this.right>x.right;case"+y":return this.top<x.top;case"-y":return this.bottom>x.bottom}},q.prototype.intersectPercentage=function(x){var S=Math.max(0,Math.min(this.right,x.right)-Math.max(this.left,x.left)),z=Math.max(0,Math.min(this.bottom,x.bottom)-Math.max(this.top,x.top)),W=S*z;return W/(this.height*this.width)},q.prototype.toCSSCompatValues=function(x){return{top:this.top-x.top,bottom:x.bottom-this.bottom,left:this.left-x.left,right:x.right-this.right,height:this.height,width:this.width}},q.getSimpleBoxPosition=function(x){var S=x.div?x.div.offsetHeight:x.tagName?x.offsetHeight:0,z=x.div?x.div.offsetWidth:x.tagName?x.offsetWidth:0,W=x.div?x.div.offsetTop:x.tagName?x.offsetTop:0;x=x.div?x.div.getBoundingClientRect():x.tagName?x.getBoundingClientRect():x;var U={left:x.left,right:x.right,top:x.top||W,height:x.height||S,bottom:x.bottom||W+(x.height||S),width:x.width||z};return U};function Q(x,S,z,W){function U(ge,Ee){for(var ke,Be=new q(ge),Ge=1,Ve=0;Ve<Ee.length;Ve++){for(;ge.overlapsOppositeAxis(z,Ee[Ve])||ge.within(z)&&ge.overlapsAny(W);)ge.move(Ee[Ve]);if(ge.within(z))return ge;var xe=ge.intersectPercentage(z);Ge>xe&&(ke=new q(ge),Ge=xe),ge=new q(Be)}return ke||Be}var Y=new q(S),ue=S.cue,ee=I(ue),C=[];if(ue.snapToLines){var le;switch(ue.vertical){case"":C=["+y","-y"],le="height";break;case"rl":C=["+x","-x"],le="width";break;case"lr":C=["-x","+x"],le="width";break}var $=Y.lineHeight,T=$*Math.round(ee),M=z[le]+$,se=C[0];Math.abs(T)>M&&(T=T<0?-1:1,T*=Math.ceil(M/$)*$),ee<0&&(T+=ue.vertical===""?z.height:z.width,C=C.reverse()),Y.move(se,T)}else{var pe=Y.lineHeight/z.height*100;switch(ue.lineAlign){case"center":ee-=pe/2;break;case"end":ee-=pe;break}switch(ue.vertical){case"":S.applyStyles({top:S.formatStyle(ee,"%")});break;case"rl":S.applyStyles({left:S.formatStyle(ee,"%")});break;case"lr":S.applyStyles({right:S.formatStyle(ee,"%")});break}C=["+y","-x","+x","-y"],Y=new q(S)}var oe=U(Y,C);S.move(oe.toCSSCompatValues(z))}function O(){}O.StringDecoder=function(){return{decode:function(x){if(!x)return"";if(typeof x!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(x))}}},O.convertCueToDOMTree=function(x,S){return!x||!S?null:L(x,S)};var N=.05,F="sans-serif",J="1.5%";return O.processCues=function(x,S,z){if(!x||!S||!z)return null;for(;z.firstChild;)z.removeChild(z.firstChild);var W=x.document.createElement("div");W.style.position="absolute",W.style.left="0",W.style.right="0",W.style.top="0",W.style.bottom="0",W.style.margin=J,z.appendChild(W);function U($){for(var T=0;T<$.length;T++)if($[T].hasBeenReset||!$[T].displayState)return!0;return!1}if(!U(S)){for(var Y=0;Y<S.length;Y++)W.appendChild(S[Y].displayState);return}var ue=[],ee=q.getSimpleBoxPosition(W),C=Math.round(ee.height*N*100)/100,le={font:C+"px "+F};(function(){for(var $,T,M=0;M<S.length;M++)T=S[M],$=new H(x,T,le),W.appendChild($.div),Q(x,$,ee,ue),T.displayState=$.div,ue.push(q.getSimpleBoxPosition($))})()},O.Parser=function(x,S,z){z||(z=S,S={}),S||(S={}),this.window=x,this.vttjs=S,this.state="INITIAL",this.buffer="",this.decoder=z||new TextDecoder("utf8"),this.regionList=[]},O.Parser.prototype={reportOrThrowError:function(x){if(x instanceof t)this.onparsingerror&&this.onparsingerror(x);else throw x},parse:function(x){var S=this;x&&(S.buffer+=S.decoder.decode(x,{stream:!0}));function z(){for(var $=S.buffer,T=0;T<$.length&&$[T]!=="\r"&&$[T]!==`
`;)++T;var M=$.substr(0,T);return $[T]==="\r"&&++T,$[T]===`
`&&++T,S.buffer=$.substr(T),M}function W($){var T=new s;if(o($,function(se,pe){switch(se){case"id":T.set(se,pe);break;case"width":T.percent(se,pe);break;case"lines":T.integer(se,pe);break;case"regionanchor":case"viewportanchor":var oe=pe.split(",");if(oe.length!==2)break;var ge=new s;if(ge.percent("x",oe[0]),ge.percent("y",oe[1]),!ge.has("x")||!ge.has("y"))break;T.set(se+"X",ge.get("x")),T.set(se+"Y",ge.get("y"));break;case"scroll":T.alt(se,pe,["up"]);break}},/=/,/\s/),T.has("id")){var M=new(S.vttjs.VTTRegion||S.window.VTTRegion);M.width=T.get("width",100),M.lines=T.get("lines",3),M.regionAnchorX=T.get("regionanchorX",0),M.regionAnchorY=T.get("regionanchorY",100),M.viewportAnchorX=T.get("viewportanchorX",0),M.viewportAnchorY=T.get("viewportanchorY",100),M.scroll=T.get("scroll",""),S.onregion&&S.onregion(M),S.regionList.push({id:T.get("id"),region:M})}}function U($){var T=new s;o($,function(M,se){switch(M){case"MPEGT":T.integer(M+"S",se);break;case"LOCA":T.set(M+"L",i(se));break}},/[^\d]:/,/,/),S.ontimestampmap&&S.ontimestampmap({MPEGTS:T.get("MPEGTS"),LOCAL:T.get("LOCAL")})}function Y($){$.match(/X-TIMESTAMP-MAP/)?o($,function(T,M){switch(T){case"X-TIMESTAMP-MAP":U(M);break}},/=/):o($,function(T,M){switch(T){case"Region":W(M);break}},/:/)}try{var ue;if(S.state==="INITIAL"){if(!/\r\n|\n/.test(S.buffer))return this;ue=z();var ee=ue.match(/^WEBVTT([ \t].*)?$/);if(!ee||!ee[0])throw new t(t.Errors.BadSignature);S.state="HEADER"}for(var C=!1;S.buffer;){if(!/\r\n|\n/.test(S.buffer))return this;switch(C?C=!1:ue=z(),S.state){case"HEADER":/:/.test(ue)?Y(ue):ue||(S.state="ID");continue;case"NOTE":ue||(S.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(ue)){S.state="NOTE";break}if(!ue)continue;S.cue=new(S.vttjs.VTTCue||S.window.VTTCue)(0,0,"");try{S.cue.align="center"}catch{S.cue.align="middle"}if(S.state="CUE",ue.indexOf("-->")===-1){S.cue.id=ue;continue}case"CUE":try{l(ue,S.cue,S.regionList)}catch($){S.reportOrThrowError($),S.cue=null,S.state="BADCUE";continue}S.state="CUETEXT";continue;case"CUETEXT":var le=ue.indexOf("-->")!==-1;if(!ue||le&&(C=!0)){S.oncue&&S.oncue(S.cue),S.cue=null,S.state="ID";continue}S.cue.text&&(S.cue.text+=`
`),S.cue.text+=ue.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":ue||(S.state="ID");continue}}}catch($){S.reportOrThrowError($),S.state==="CUETEXT"&&S.cue&&S.oncue&&S.oncue(S.cue),S.cue=null,S.state=S.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var x=this;try{if(x.buffer+=x.decoder.decode(),(x.cue||x.state==="HEADER")&&(x.buffer+=`

`,x.parse()),x.state==="INITIAL")throw new t(t.Errors.BadSignature)}catch(S){x.reportOrThrowError(S)}return x.onflush&&x.onflush(),this}},Cy=O,Cy}var wy,$x;function ZM(){if($x)return wy;$x=1;var n="auto",e={"":1,lr:1,rl:1},t={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(l){if(typeof l!="string")return!1;var d=e[l.toLowerCase()];return d?l.toLowerCase():!1}function s(l){if(typeof l!="string")return!1;var d=t[l.toLowerCase()];return d?l.toLowerCase():!1}function o(l,d,h){this.hasBeenReset=!1;var m="",b=!1,w=l,L=d,k=h,j=null,A="",I=!0,P="auto",H="start",q="auto",Q="auto",O=100,N="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return m},set:function(F){m=""+F}},pauseOnExit:{enumerable:!0,get:function(){return b},set:function(F){b=!!F}},startTime:{enumerable:!0,get:function(){return w},set:function(F){if(typeof F!="number")throw new TypeError("Start time must be set to a number.");w=F,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return L},set:function(F){if(typeof F!="number")throw new TypeError("End time must be set to a number.");L=F,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return k},set:function(F){k=""+F,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return j},set:function(F){j=F,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return A},set:function(F){var J=i(F);if(J===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");A=J,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return I},set:function(F){I=!!F,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return P},set:function(F){if(typeof F!="number"&&F!==n)throw new SyntaxError("Line: an invalid number or illegal string was specified.");P=F,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return H},set:function(F){var J=s(F);J?(H=J,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return q},set:function(F){if(F<0||F>100)throw new Error("Position must be between 0 and 100.");q=F,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return Q},set:function(F){var J=s(F);J?(Q=J,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return O},set:function(F){if(F<0||F>100)throw new Error("Size must be between 0 and 100.");O=F,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return N},set:function(F){var J=s(F);if(!J)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");N=J,this.hasBeenReset=!0}}}),this.displayState=void 0}return o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},wy=o,wy}var Ay,Kx;function JM(){if(Kx)return Ay;Kx=1;var n={"":!0,up:!0};function e(s){if(typeof s!="string")return!1;var o=n[s.toLowerCase()];return o?s.toLowerCase():!1}function t(s){return typeof s=="number"&&s>=0&&s<=100}function i(){var s=100,o=3,l=0,d=100,h=0,m=100,b="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return s},set:function(w){if(!t(w))throw new Error("Width must be between 0 and 100.");s=w}},lines:{enumerable:!0,get:function(){return o},set:function(w){if(typeof w!="number")throw new TypeError("Lines must be set to a number.");o=w}},regionAnchorY:{enumerable:!0,get:function(){return d},set:function(w){if(!t(w))throw new Error("RegionAnchorX must be between 0 and 100.");d=w}},regionAnchorX:{enumerable:!0,get:function(){return l},set:function(w){if(!t(w))throw new Error("RegionAnchorY must be between 0 and 100.");l=w}},viewportAnchorY:{enumerable:!0,get:function(){return m},set:function(w){if(!t(w))throw new Error("ViewportAnchorY must be between 0 and 100.");m=w}},viewportAnchorX:{enumerable:!0,get:function(){return h},set:function(w){if(!t(w))throw new Error("ViewportAnchorX must be between 0 and 100.");h=w}},scroll:{enumerable:!0,get:function(){return b},set:function(w){var L=e(w);L===!1?console.warn("Scroll: an invalid or illegal string was specified."):b=L}}})}return Ay=i,Ay}var Xx;function eL(){if(Xx)return Ey.exports;Xx=1;var n=kh(),e=Ey.exports={WebVTT:QM(),VTTCue:ZM(),VTTRegion:JM()};n.vttjs=e,n.WebVTT=e.WebVTT;var t=e.VTTCue,i=e.VTTRegion,s=n.VTTCue,o=n.VTTRegion;return e.shim=function(){n.VTTCue=t,n.VTTRegion=i},e.restore=function(){n.VTTCue=s,n.VTTRegion=o},n.VTTCue||e.shim(),Ey.exports}var tL=eL();const Yx=vu(tL);function hi(){return hi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hi.apply(null,arguments)}var Wx="https://example.com",Mh=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=te.location&&te.location.href||"");var i=/^\/\//.test(e),s=!te.location&&!/\/\//i.test(e);e=new te.URL(e,te.location||Wx);var o=new URL(t,e);return s?o.href.slice(Wx.length):i?o.href.slice(o.protocol.length):o.href},Vv=function(){function n(){this.listeners={}}var e=n.prototype;return e.on=function(i,s){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(s)},e.off=function(i,s){if(!this.listeners[i])return!1;var o=this.listeners[i].indexOf(s);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(o,1),o>-1},e.trigger=function(i){var s=this.listeners[i];if(s)if(arguments.length===2)for(var o=s.length,l=0;l<o;++l)s[l].call(this,arguments[1]);else for(var d=Array.prototype.slice.call(arguments,1),h=s.length,m=0;m<h;++m)s[m].apply(this,d)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(s){i.push(s)})},n}(),iL=function(e){return te.atob?te.atob(e):Buffer.from(e,"base64").toString("binary")};function uw(n){for(var e=iL(n),t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class nL extends Vv{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf(`
`);t>-1;t=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const rL="	",Dy=function(n){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(n||""),t={};return e[1]&&(t.length=parseInt(e[1],10)),e[2]&&(t.offset=parseInt(e[2],10)),t},sL=function(){const t="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+t+")")},Zi=function(n){const e={};if(!n)return e;const t=n.split(sL());let i=t.length,s;for(;i--;)t[i]!==""&&(s=/([^=]*)=(.*)/.exec(t[i]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),e[s[0]]=s[1]);return e},Qx=n=>{const e=n.split("x"),t={};return e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),t};class aL extends Vv{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((o,l)=>{const d=l(e);return d===e?o:o.concat([d])},[e]).forEach(o=>{for(let l=0;l<this.customParsers.length;l++)if(this.customParsers[l].call(this,o))return;if(o.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:o.slice(1)});return}if(o=o.replace("\r",""),t=/^#EXTM3U/.exec(o),t){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(o),t){i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),this.trigger("data",i);return}if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(o),t){i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(o),t){i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(o),t){i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(o),t){i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),this.trigger("data",i);return}if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(o),t){i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),this.trigger("data",i);return}if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(o),t){i=hi(Dy(t[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(o),t){i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),this.trigger("data",i);return}if(t=/^#EXT-X-MAP:(.*)$/.exec(o),t){if(i={type:"tag",tagType:"map"},t[1]){const l=Zi(t[1]);l.URI&&(i.uri=l.URI),l.BYTERANGE&&(i.byterange=Dy(l.BYTERANGE))}this.trigger("data",i);return}if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(o),t){i={type:"tag",tagType:"stream-inf"},t[1]&&(i.attributes=Zi(t[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=Qx(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(t=/^#EXT-X-MEDIA:(.*)$/.exec(o),t){i={type:"tag",tagType:"media"},t[1]&&(i.attributes=Zi(t[1])),this.trigger("data",i);return}if(t=/^#EXT-X-ENDLIST/.exec(o),t){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(t=/^#EXT-X-DISCONTINUITY/.exec(o),t){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(o),t){i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),this.trigger("data",i);return}if(t=/^#EXT-X-KEY:(.*)$/.exec(o),t){i={type:"tag",tagType:"key"},t[1]&&(i.attributes=Zi(t[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(t=/^#EXT-X-START:(.*)$/.exec(o),t){i={type:"tag",tagType:"start"},t[1]&&(i.attributes=Zi(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(o),t){i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",this.trigger("data",i);return}if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(o),t){i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",this.trigger("data",i);return}if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(o),t){i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",this.trigger("data",i);return}if(t=/^#EXT-X-SKIP:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"skip"},i.attributes=Zi(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(rL)),this.trigger("data",i);return}if(t=/^#EXT-X-PART:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"part"},i.attributes=Zi(t[1]),["DURATION"].forEach(function(l){i.attributes.hasOwnProperty(l)&&(i.attributes[l]=parseFloat(i.attributes[l]))}),["INDEPENDENT","GAP"].forEach(function(l){i.attributes.hasOwnProperty(l)&&(i.attributes[l]=/YES/.test(i.attributes[l]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=Dy(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"server-control"},i.attributes=Zi(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(l){i.attributes.hasOwnProperty(l)&&(i.attributes[l]=parseFloat(i.attributes[l]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(l){i.attributes.hasOwnProperty(l)&&(i.attributes[l]=/YES/.test(i.attributes[l]))}),this.trigger("data",i);return}if(t=/^#EXT-X-PART-INF:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Zi(t[1]),["PART-TARGET"].forEach(function(l){i.attributes.hasOwnProperty(l)&&(i.attributes[l]=parseFloat(i.attributes[l]))}),this.trigger("data",i);return}if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Zi(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(l){if(i.attributes.hasOwnProperty(l)){i.attributes[l]=parseInt(i.attributes[l],10);const d=l==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[d]=i.attributes[l],delete i.attributes[l]}}),this.trigger("data",i);return}if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Zi(t[1]),["LAST-MSN","LAST-PART"].forEach(function(l){i.attributes.hasOwnProperty(l)&&(i.attributes[l]=parseInt(i.attributes[l],10))}),this.trigger("data",i);return}if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(o),t&&t[1]){i={type:"tag",tagType:"daterange"},i.attributes=Zi(t[1]),["ID","CLASS"].forEach(function(d){i.attributes.hasOwnProperty(d)&&(i.attributes[d]=String(i.attributes[d]))}),["START-DATE","END-DATE"].forEach(function(d){i.attributes.hasOwnProperty(d)&&(i.attributes[d]=new Date(i.attributes[d]))}),["DURATION","PLANNED-DURATION"].forEach(function(d){i.attributes.hasOwnProperty(d)&&(i.attributes[d]=parseFloat(i.attributes[d]))}),["END-ON-NEXT"].forEach(function(d){i.attributes.hasOwnProperty(d)&&(i.attributes[d]=/YES/i.test(i.attributes[d]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(d){i.attributes.hasOwnProperty(d)&&(i.attributes[d]=i.attributes[d].toString(16))});const l=/^X-([A-Z]+-)+[A-Z]+$/;for(const d in i.attributes){if(!l.test(d))continue;const h=/[0-9A-Fa-f]{6}/g.test(i.attributes[d]),m=/^\d+(\.\d+)?$/.test(i.attributes[d]);i.attributes[d]=h?i.attributes[d].toString(16):m?parseFloat(i.attributes[d]):String(i.attributes[d])}this.trigger("data",i);return}if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(o),t){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(o),t){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(o),t){i={type:"tag",tagType:"content-steering"},i.attributes=Zi(t[1]),this.trigger("data",i);return}if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(o),t){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=Zi(t[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=Qx(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(t=/^#EXT-X-DEFINE:(.*)$/.exec(o),t){i={type:"tag",tagType:"define"},i.attributes=Zi(t[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:o.slice(4)})})}addParser({expression:e,customType:t,dataParser:i,segment:s}){typeof i!="function"&&(i=o=>o),this.customParsers.push(o=>{if(e.exec(o))return this.trigger("data",{type:"custom",data:i(o),customType:t,segment:s}),!0})}addTagMapper({expression:e,map:t}){const i=s=>e.test(s)?t(s):s;this.tagMappers.push(i)}}const oL=n=>n.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Fs=function(n){const e={};return Object.keys(n).forEach(function(t){e[oL(t)]=n[t]}),e},Oy=function(n){const{serverControl:e,targetDuration:t,partTargetDuration:i}=n;if(!e)return;const s="#EXT-X-SERVER-CONTROL",o="holdBack",l="partHoldBack",d=t&&t*3,h=i&&i*2;t&&!e.hasOwnProperty(o)&&(e[o]=d,this.trigger("info",{message:`${s} defaulting HOLD-BACK to targetDuration * 3 (${d}).`})),d&&e[o]<d&&(this.trigger("warn",{message:`${s} clamping HOLD-BACK (${e[o]}) to targetDuration * 3 (${d})`}),e[o]=d),i&&!e.hasOwnProperty(l)&&(e[l]=i*3,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[l]}).`})),i&&e[l]<h&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${e[l]}) to partTargetDuration * 2 (${h}).`}),e[l]=h)};class uL extends Vv{constructor(e={}){super(),this.lineStream=new nL,this.parseStream=new aL,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const t=this,i=[];let s={},o,l,d=!1;const h=function(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},b="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let w=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let L=0,k=0;const j={};this.on("end",()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&l&&(s.key=l),!s.timeline&&typeof w=="number"&&(s.timeline=w),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(A){let I,P;if(t.manifest.definitions){for(const H in t.manifest.definitions)if(A.uri&&(A.uri=A.uri.replace(`{$${H}}`,t.manifest.definitions[H])),A.attributes)for(const q in A.attributes)typeof A.attributes[q]=="string"&&(A.attributes[q]=A.attributes[q].replace(`{$${H}}`,t.manifest.definitions[H]))}({tag(){({version(){A.version&&(this.manifest.version=A.version)},"allow-cache"(){this.manifest.allowCache=A.allowed,"allowed"in A||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const H={};"length"in A&&(s.byterange=H,H.length=A.length,"offset"in A||(A.offset=L)),"offset"in A&&(s.byterange=H,H.offset=A.offset),L=H.offset+H.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),A.title&&(s.title=A.title),A.duration>0&&(s.duration=A.duration),A.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!A.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(A.attributes.METHOD==="NONE"){l=null;return}if(!A.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(A.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:A.attributes};return}if(A.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:A.attributes.URI};return}if(A.attributes.KEYFORMAT===b){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(A.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(A.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),A.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(A.attributes.KEYID&&A.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:A.attributes.KEYFORMAT,keyId:A.attributes.KEYID.substring(2)},pssh:uw(A.attributes.URI.split(",")[1])};return}A.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:A.attributes.METHOD||"AES-128",uri:A.attributes.URI},typeof A.attributes.IV<"u"&&(l.iv=A.attributes.IV)},"media-sequence"(){if(!isFinite(A.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+A.number});return}this.manifest.mediaSequence=A.number},"discontinuity-sequence"(){if(!isFinite(A.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+A.number});return}this.manifest.discontinuitySequence=A.number,w=A.number},"playlist-type"(){if(!/VOD|EVENT/.test(A.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+A.playlist});return}this.manifest.playlistType=A.playlistType},map(){o={},A.uri&&(o.uri=A.uri),A.byterange&&(o.byterange=A.byterange),l&&(o.key=l)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||m,!A.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),hi(s.attributes,A.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||m,!(A.attributes&&A.attributes.TYPE&&A.attributes["GROUP-ID"]&&A.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const H=this.manifest.mediaGroups[A.attributes.TYPE];H[A.attributes["GROUP-ID"]]=H[A.attributes["GROUP-ID"]]||{},I=H[A.attributes["GROUP-ID"]],P={default:/yes/i.test(A.attributes.DEFAULT)},P.default?P.autoselect=!0:P.autoselect=/yes/i.test(A.attributes.AUTOSELECT),A.attributes.LANGUAGE&&(P.language=A.attributes.LANGUAGE),A.attributes.URI&&(P.uri=A.attributes.URI),A.attributes["INSTREAM-ID"]&&(P.instreamId=A.attributes["INSTREAM-ID"]),A.attributes.CHARACTERISTICS&&(P.characteristics=A.attributes.CHARACTERISTICS),A.attributes.FORCED&&(P.forced=/yes/i.test(A.attributes.FORCED)),I[A.attributes.NAME]=P},discontinuity(){w+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=A.dateTimeString,this.manifest.dateTimeObject=A.dateTimeObject),s.dateTimeString=A.dateTimeString,s.dateTimeObject=A.dateTimeObject;const{lastProgramDateTime:H}=this;this.lastProgramDateTime=new Date(A.dateTimeString).getTime(),H===null&&this.manifest.segments.reduceRight((q,Q)=>(Q.programDateTime=q-Q.duration*1e3,Q.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(A.duration)||A.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+A.duration});return}this.manifest.targetDuration=A.duration,Oy.call(this,this.manifest)},start(){if(!A.attributes||isNaN(A.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:A.attributes["TIME-OFFSET"],precise:A.attributes.PRECISE}},"cue-out"(){s.cueOut=A.data},"cue-out-cont"(){s.cueOutCont=A.data},"cue-in"(){s.cueIn=A.data},skip(){this.manifest.skip=Fs(A.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",A.attributes,["SKIPPED-SEGMENTS"])},part(){d=!0;const H=this.manifest.segments.length,q=Fs(A.attributes);s.parts=s.parts||[],s.parts.push(q),q.byterange&&(q.byterange.hasOwnProperty("offset")||(q.byterange.offset=k),k=q.byterange.offset+q.byterange.length);const Q=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${Q} for segment #${H}`,A.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((O,N)=>{O.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${N} lacks required attribute(s): LAST-PART`})})},"server-control"(){const H=this.manifest.serverControl=Fs(A.attributes);H.hasOwnProperty("canBlockReload")||(H.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Oy.call(this,this.manifest),H.canSkipDateranges&&!H.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const H=this.manifest.segments.length,q=Fs(A.attributes),Q=q.type&&q.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(q),q.byterange&&(q.byterange.hasOwnProperty("offset")||(q.byterange.offset=Q?k:0,Q&&(k=q.byterange.offset+q.byterange.length)));const O=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${O} for segment #${H}`,A.attributes,["TYPE","URI"]),!!q.type)for(let N=0;N<s.preloadHints.length-1;N++){const F=s.preloadHints[N];F.type&&F.type===q.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${O} for segment #${H} has the same TYPE ${q.type} as preload hint #${N}`})}},"rendition-report"(){const H=Fs(A.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(H);const q=this.manifest.renditionReports.length-1,Q=["LAST-MSN","URI"];d&&Q.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${q}`,A.attributes,Q)},"part-inf"(){this.manifest.partInf=Fs(A.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",A.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Oy.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Fs(A.attributes));const H=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${H}`,A.attributes,["ID","START-DATE"]);const q=this.manifest.dateRanges[H];q.endDate&&q.startDate&&new Date(q.endDate)<new Date(q.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),q.duration&&q.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),q.plannedDuration&&q.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const Q=!!q.endOnNext;if(Q&&!q.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),Q&&(q.duration||q.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),q.duration&&q.endDate){const N=q.startDate.getTime()+q.duration*1e3;this.manifest.dateRanges[H].endDate=new Date(N)}if(!j[q.id])j[q.id]=q;else{for(const N in j[q.id])if(q[N]&&JSON.stringify(j[q.id][N])!==JSON.stringify(q[N])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const O=this.manifest.dateRanges.findIndex(N=>N.id===q.id);this.manifest.dateRanges[O]=hi(this.manifest.dateRanges[O],q),j[q.id]=hi(j[q.id],q),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Fs(A.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",A.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const H=(q,Q)=>{if(q in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${q}`});return}this.manifest.definitions[q]=Q};if("QUERYPARAM"in A.attributes){if("NAME"in A.attributes||"IMPORT"in A.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const q=this.params.get(A.attributes.QUERYPARAM);if(!q){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${A.attributes.QUERYPARAM}`});return}H(A.attributes.QUERYPARAM,decodeURIComponent(q));return}if("NAME"in A.attributes){if("IMPORT"in A.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in A.attributes)||typeof A.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${A.attributes.NAME}`});return}H(A.attributes.NAME,A.attributes.VALUE);return}if("IMPORT"in A.attributes){if(!this.mainDefinitions[A.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${A.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}H(A.attributes.IMPORT,this.mainDefinitions[A.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:A.attributes,uri:A.uri,timeline:w}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",A.attributes,["BANDWIDTH","URI"])}}[A.tagType]||h).call(t)},uri(){s.uri=A.uri,i.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=w,o&&(s.map=o),k=0,this.lastProgramDateTime!==null&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=s.duration*1e3),s={}},comment(){},custom(){A.segment?(s.custom=s.custom||{},s.custom[A.customType]=A.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[A.customType]=A.data)}})[A.type].call(t)})}requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:`manifest must be at least version ${t}`})}warnOnMissingAttributes_(e,t,i){const s=[];i.forEach(function(o){t.hasOwnProperty(o)||s.push(o)}),s.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${s.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var za={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},lL=["video","audio","text"],Zx=["Video","Audio","Text"],lw=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(t,i,s){var o=("00"+Number(i).toString(16)).slice(-2),l=("00"+Number(s).toString(16)).slice(-2);return"avc1."+o+"00"+l})},Tr=function(e){e===void 0&&(e="");var t=e.split(","),i=[];return t.forEach(function(s){s=s.trim();var o;lL.forEach(function(l){var d=za[l].exec(s.toLowerCase());if(!(!d||d.length<=1)){o=l;var h=s.substring(0,d[1].length),m=s.replace(h,"");i.push({type:h,details:m,mediaType:l})}}),o||i.push({type:s,details:"",mediaType:"unknown"})}),i},cL=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var s in i){var o=i[s];if(o.default&&o.playlists)return Tr(o.playlists[0].attributes.CODECS)}return null},cw=function(e){return e===void 0&&(e=""),za.audio.test(e.trim().toLowerCase())},dL=function(e){return e===void 0&&(e=""),za.text.test(e.trim().toLowerCase())},uu=function(e){if(!(!e||typeof e!="string")){var t=e.toLowerCase().split(",").map(function(o){return lw(o.trim())}),i="video";t.length===1&&cw(t[0])?i="audio":t.length===1&&dL(t[0])&&(i="application");var s="mp4";return t.every(function(o){return za.mp4.test(o)})?s="mp4":t.every(function(o){return za.webm.test(o)})?s="webm":t.every(function(o){return za.ogg.test(o)})&&(s="ogg"),i+"/"+s+';codecs="'+e+'"'}},Ql=function(e,t){return e===void 0&&(e=""),t===void 0&&(t=!1),te.MediaSource&&te.MediaSource.isTypeSupported&&te.MediaSource.isTypeSupported(uu(e))||t&&te.ManagedMediaSource&&te.ManagedMediaSource.isTypeSupported&&te.ManagedMediaSource.isTypeSupported(uu(e))||!1},Ry=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(t){t=t.trim();for(var i=0;i<Zx.length;i++){var s=Zx[i];if(za["muxer"+s].test(t))return!0}return!1})},Jx="mp4a.40.2",hL="avc1.4d400d",fL=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,pL=/^application\/dash\+xml/i,dw=function(e){return fL.test(e)?"hls":pL.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},mL=function(e){return e.toString(2).length},gL=function(e){return Math.ceil(mL(e)/8)},hw=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},yL=function(e){return hw(e)},it=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!yL(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Ii=te.BigInt||Number,ev=[Ii("0x1"),Ii("0x100"),Ii("0x10000"),Ii("0x1000000"),Ii("0x100000000"),Ii("0x10000000000"),Ii("0x1000000000000"),Ii("0x100000000000000"),Ii("0x10000000000000000")];(function(){var n=new Uint16Array([65484]),e=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var vL=function(e,t){var i=t===void 0?{}:t,s=i.signed,o=s===void 0?!1:s,l=i.le,d=l===void 0?!1:l;e=it(e);var h=d?"reduce":"reduceRight",m=e[h]?e[h]:Array.prototype[h],b=m.call(e,function(L,k,j){var A=d?j:Math.abs(j+1-e.length);return L+Ii(k)*ev[A]},Ii(0));if(o){var w=ev[e.length]/Ii(2)-Ii(1);b=Ii(b),b>w&&(b-=w,b-=w,b-=Ii(2))}return Number(b)},_L=function(e,t){var i={},s=i.le,o=s===void 0?!1:s;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Ii(e);for(var l=gL(e),d=new Uint8Array(new ArrayBuffer(l)),h=0;h<l;h++){var m=o?h:Math.abs(h+1-d.length);d[m]=Number(e/ev[h]&Ii(255)),e<0&&(d[m]=Math.abs(~d[m]),d[m]-=h===0?1:2)}return d},fw=function(e,t){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i},bL=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t=t.filter(function(d){return d&&(d.byteLength||d.length)&&typeof d!="string"}),t.length<=1)return it(t[0]);var s=t.reduce(function(d,h,m){return d+(h.byteLength||h.length)},0),o=new Uint8Array(s),l=0;return t.forEach(function(d){d=it(d),o.set(d,l),l+=d.byteLength}),o},Yt=function(e,t,i){var s=i===void 0?{}:i,o=s.offset,l=o===void 0?0:o,d=s.mask,h=d===void 0?[]:d;e=it(e),t=it(t);var m=t.every?t.every:Array.prototype.every;return t.length&&e.length-l>=t.length&&m.call(t,function(b,w){var L=h[w]?h[w]&e[l+w]:e[l+w];return b===L})},TL=function(e,t,i){t.forEach(function(s){for(var o in e.mediaGroups[s])for(var l in e.mediaGroups[s][o]){var d=e.mediaGroups[s][o][l];i(d,s,o,l)}})},ql={},es={},Ba={},eE;function Lh(){if(eE)return Ba;eE=1;function n(o,l,d){if(d===void 0&&(d=Array.prototype),o&&typeof d.find=="function")return d.find.call(o,l);for(var h=0;h<o.length;h++)if(Object.prototype.hasOwnProperty.call(o,h)){var m=o[h];if(l.call(void 0,m,h,o))return m}}function e(o,l){return l===void 0&&(l=Object),l&&typeof l.freeze=="function"?l.freeze(o):o}function t(o,l){if(o===null||typeof o!="object")throw new TypeError("target is not an object");for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o}var i=e({HTML:"text/html",isHTML:function(o){return o===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(o){return o===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Ba.assign=t,Ba.find=n,Ba.freeze=e,Ba.MIME_TYPE=i,Ba.NAMESPACE=s,Ba}var tE;function pw(){if(tE)return es;tE=1;var n=Lh(),e=n.find,t=n.NAMESPACE;function i(B){return B!==""}function s(B){return B?B.split(/[\t\n\f\r ]+/).filter(i):[]}function o(B,V){return B.hasOwnProperty(V)||(B[V]=!0),B}function l(B){if(!B)return[];var V=s(B);return Object.keys(V.reduce(o,{}))}function d(B){return function(V){return B&&B.indexOf(V)!==-1}}function h(B,V){for(var ae in B)Object.prototype.hasOwnProperty.call(B,ae)&&(V[ae]=B[ae])}function m(B,V){var ae=B.prototype;if(!(ae instanceof V)){let qe=function(){};var Se=qe;qe.prototype=V.prototype,qe=new qe,h(ae,qe),B.prototype=ae=qe}ae.constructor!=B&&(typeof B!="function"&&console.error("unknown Class:"+B),ae.constructor=B)}var b={},w=b.ELEMENT_NODE=1,L=b.ATTRIBUTE_NODE=2,k=b.TEXT_NODE=3,j=b.CDATA_SECTION_NODE=4,A=b.ENTITY_REFERENCE_NODE=5,I=b.ENTITY_NODE=6,P=b.PROCESSING_INSTRUCTION_NODE=7,H=b.COMMENT_NODE=8,q=b.DOCUMENT_NODE=9,Q=b.DOCUMENT_TYPE_NODE=10,O=b.DOCUMENT_FRAGMENT_NODE=11,N=b.NOTATION_NODE=12,F={},J={};F.INDEX_SIZE_ERR=(J[1]="Index size error",1),F.DOMSTRING_SIZE_ERR=(J[2]="DOMString size error",2);var x=F.HIERARCHY_REQUEST_ERR=(J[3]="Hierarchy request error",3);F.WRONG_DOCUMENT_ERR=(J[4]="Wrong document",4),F.INVALID_CHARACTER_ERR=(J[5]="Invalid character",5),F.NO_DATA_ALLOWED_ERR=(J[6]="No data allowed",6),F.NO_MODIFICATION_ALLOWED_ERR=(J[7]="No modification allowed",7);var S=F.NOT_FOUND_ERR=(J[8]="Not found",8);F.NOT_SUPPORTED_ERR=(J[9]="Not supported",9);var z=F.INUSE_ATTRIBUTE_ERR=(J[10]="Attribute in use",10);F.INVALID_STATE_ERR=(J[11]="Invalid state",11),F.SYNTAX_ERR=(J[12]="Syntax error",12),F.INVALID_MODIFICATION_ERR=(J[13]="Invalid modification",13),F.NAMESPACE_ERR=(J[14]="Invalid namespace",14),F.INVALID_ACCESS_ERR=(J[15]="Invalid access",15);function W(B,V){if(V instanceof Error)var ae=V;else ae=this,Error.call(this,J[B]),this.message=J[B],Error.captureStackTrace&&Error.captureStackTrace(this,W);return ae.code=B,V&&(this.message=this.message+": "+V),ae}W.prototype=Error.prototype,h(F,W);function U(){}U.prototype={length:0,item:function(B){return B>=0&&B<this.length?this[B]:null},toString:function(B,V){for(var ae=[],Se=0;Se<this.length;Se++)Gt(this[Se],ae,B,V);return ae.join("")},filter:function(B){return Array.prototype.filter.call(this,B)},indexOf:function(B){return Array.prototype.indexOf.call(this,B)}};function Y(B,V){this._node=B,this._refresh=V,ue(this)}function ue(B){var V=B._node._inc||B._node.ownerDocument._inc;if(B._inc!==V){var ae=B._refresh(B._node);if(Lr(B,"length",ae.length),!B.$$length||ae.length<B.$$length)for(var Se=ae.length;Se in B;Se++)Object.prototype.hasOwnProperty.call(B,Se)&&delete B[Se];h(ae,B),B._inc=V}}Y.prototype.item=function(B){return ue(this),this[B]||null},m(Y,U);function ee(){}function C(B,V){for(var ae=B.length;ae--;)if(B[ae]===V)return ae}function le(B,V,ae,Se){if(Se?V[C(V,Se)]=ae:V[V.length++]=ae,B){ae.ownerElement=B;var qe=B.ownerDocument;qe&&(Se&&Ee(qe,B,Se),ge(qe,B,ae))}}function $(B,V,ae){var Se=C(V,ae);if(Se>=0){for(var qe=V.length-1;Se<qe;)V[Se]=V[++Se];if(V.length=qe,B){var nt=B.ownerDocument;nt&&(Ee(nt,B,ae),ae.ownerElement=null)}}else throw new W(S,new Error(B.tagName+"@"+ae))}ee.prototype={length:0,item:U.prototype.item,getNamedItem:function(B){for(var V=this.length;V--;){var ae=this[V];if(ae.nodeName==B)return ae}},setNamedItem:function(B){var V=B.ownerElement;if(V&&V!=this._ownerElement)throw new W(z);var ae=this.getNamedItem(B.nodeName);return le(this._ownerElement,this,B,ae),ae},setNamedItemNS:function(B){var V=B.ownerElement,ae;if(V&&V!=this._ownerElement)throw new W(z);return ae=this.getNamedItemNS(B.namespaceURI,B.localName),le(this._ownerElement,this,B,ae),ae},removeNamedItem:function(B){var V=this.getNamedItem(B);return $(this._ownerElement,this,V),V},removeNamedItemNS:function(B,V){var ae=this.getNamedItemNS(B,V);return $(this._ownerElement,this,ae),ae},getNamedItemNS:function(B,V){for(var ae=this.length;ae--;){var Se=this[ae];if(Se.localName==V&&Se.namespaceURI==B)return Se}return null}};function T(){}T.prototype={hasFeature:function(B,V){return!0},createDocument:function(B,V,ae){var Se=new oe;if(Se.implementation=this,Se.childNodes=new U,Se.doctype=ae||null,ae&&Se.appendChild(ae),V){var qe=Se.createElementNS(B,V);Se.appendChild(qe)}return Se},createDocumentType:function(B,V,ae){var Se=new pt;return Se.name=B,Se.nodeName=B,Se.publicId=V||"",Se.systemId=ae||"",Se}};function M(){}M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(B,V){return He(this,B,V)},replaceChild:function(B,V){He(this,B,V,Ie),V&&this.removeChild(V)},removeChild:function(B){return Be(this,B)},appendChild:function(B){return this.insertBefore(B,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(B){return ir(this.ownerDocument||this,this,B)},normalize:function(){for(var B=this.firstChild;B;){var V=B.nextSibling;V&&V.nodeType==k&&B.nodeType==k?(this.removeChild(V),B.appendData(V.data)):(B.normalize(),B=V)}},isSupported:function(B,V){return this.ownerDocument.implementation.hasFeature(B,V)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(B){for(var V=this;V;){var ae=V._nsMap;if(ae){for(var Se in ae)if(Object.prototype.hasOwnProperty.call(ae,Se)&&ae[Se]===B)return Se}V=V.nodeType==L?V.ownerDocument:V.parentNode}return null},lookupNamespaceURI:function(B){for(var V=this;V;){var ae=V._nsMap;if(ae&&Object.prototype.hasOwnProperty.call(ae,B))return ae[B];V=V.nodeType==L?V.ownerDocument:V.parentNode}return null},isDefaultNamespace:function(B){var V=this.lookupPrefix(B);return V==null}};function se(B){return B=="<"&&"&lt;"||B==">"&&"&gt;"||B=="&"&&"&amp;"||B=='"'&&"&quot;"||"&#"+B.charCodeAt()+";"}h(b,M),h(b,M.prototype);function pe(B,V){if(V(B))return!0;if(B=B.firstChild)do if(pe(B,V))return!0;while(B=B.nextSibling)}function oe(){this.ownerDocument=this}function ge(B,V,ae){B&&B._inc++;var Se=ae.namespaceURI;Se===t.XMLNS&&(V._nsMap[ae.prefix?ae.localName:""]=ae.value)}function Ee(B,V,ae,Se){B&&B._inc++;var qe=ae.namespaceURI;qe===t.XMLNS&&delete V._nsMap[ae.prefix?ae.localName:""]}function ke(B,V,ae){if(B&&B._inc){B._inc++;var Se=V.childNodes;if(ae)Se[Se.length++]=ae;else{for(var qe=V.firstChild,nt=0;qe;)Se[nt++]=qe,qe=qe.nextSibling;Se.length=nt,delete Se[Se.length]}}}function Be(B,V){var ae=V.previousSibling,Se=V.nextSibling;return ae?ae.nextSibling=Se:B.firstChild=Se,Se?Se.previousSibling=ae:B.lastChild=ae,V.parentNode=null,V.previousSibling=null,V.nextSibling=null,ke(B.ownerDocument,B),V}function Ge(B){return B&&(B.nodeType===M.DOCUMENT_NODE||B.nodeType===M.DOCUMENT_FRAGMENT_NODE||B.nodeType===M.ELEMENT_NODE)}function Ve(B){return B&&(re(B)||he(B)||xe(B)||B.nodeType===M.DOCUMENT_FRAGMENT_NODE||B.nodeType===M.COMMENT_NODE||B.nodeType===M.PROCESSING_INSTRUCTION_NODE)}function xe(B){return B&&B.nodeType===M.DOCUMENT_TYPE_NODE}function re(B){return B&&B.nodeType===M.ELEMENT_NODE}function he(B){return B&&B.nodeType===M.TEXT_NODE}function fe(B,V){var ae=B.childNodes||[];if(e(ae,re)||xe(V))return!1;var Se=e(ae,xe);return!(V&&Se&&ae.indexOf(Se)>ae.indexOf(V))}function be(B,V){var ae=B.childNodes||[];function Se(nt){return re(nt)&&nt!==V}if(e(ae,Se))return!1;var qe=e(ae,xe);return!(V&&qe&&ae.indexOf(qe)>ae.indexOf(V))}function Me(B,V,ae){if(!Ge(B))throw new W(x,"Unexpected parent node type "+B.nodeType);if(ae&&ae.parentNode!==B)throw new W(S,"child not in parent");if(!Ve(V)||xe(V)&&B.nodeType!==M.DOCUMENT_NODE)throw new W(x,"Unexpected node type "+V.nodeType+" for parent node type "+B.nodeType)}function Pe(B,V,ae){var Se=B.childNodes||[],qe=V.childNodes||[];if(V.nodeType===M.DOCUMENT_FRAGMENT_NODE){var nt=qe.filter(re);if(nt.length>1||e(qe,he))throw new W(x,"More than one element or text in fragment");if(nt.length===1&&!fe(B,ae))throw new W(x,"Element in fragment can not be inserted before doctype")}if(re(V)&&!fe(B,ae))throw new W(x,"Only one element can be added and only after doctype");if(xe(V)){if(e(Se,xe))throw new W(x,"Only one doctype is allowed");var Dt=e(Se,re);if(ae&&Se.indexOf(Dt)<Se.indexOf(ae))throw new W(x,"Doctype can only be inserted before an element");if(!ae&&Dt)throw new W(x,"Doctype can not be appended since element is present")}}function Ie(B,V,ae){var Se=B.childNodes||[],qe=V.childNodes||[];if(V.nodeType===M.DOCUMENT_FRAGMENT_NODE){var nt=qe.filter(re);if(nt.length>1||e(qe,he))throw new W(x,"More than one element or text in fragment");if(nt.length===1&&!be(B,ae))throw new W(x,"Element in fragment can not be inserted before doctype")}if(re(V)&&!be(B,ae))throw new W(x,"Only one element can be added and only after doctype");if(xe(V)){let Ri=function(Gi){return xe(Gi)&&Gi!==ae};var fi=Ri;if(e(Se,Ri))throw new W(x,"Only one doctype is allowed");var Dt=e(Se,re);if(ae&&Se.indexOf(Dt)<Se.indexOf(ae))throw new W(x,"Doctype can only be inserted before an element")}}function He(B,V,ae,Se){Me(B,V,ae),B.nodeType===M.DOCUMENT_NODE&&(Se||Pe)(B,V,ae);var qe=V.parentNode;if(qe&&qe.removeChild(V),V.nodeType===O){var nt=V.firstChild;if(nt==null)return V;var Dt=V.lastChild}else nt=Dt=V;var fi=ae?ae.previousSibling:B.lastChild;nt.previousSibling=fi,Dt.nextSibling=ae,fi?fi.nextSibling=nt:B.firstChild=nt,ae==null?B.lastChild=Dt:ae.previousSibling=Dt;do nt.parentNode=B;while(nt!==Dt&&(nt=nt.nextSibling));return ke(B.ownerDocument||B,B),V.nodeType==O&&(V.firstChild=V.lastChild=null),V}function je(B,V){return V.parentNode&&V.parentNode.removeChild(V),V.parentNode=B,V.previousSibling=B.lastChild,V.nextSibling=null,V.previousSibling?V.previousSibling.nextSibling=V:B.firstChild=V,B.lastChild=V,ke(B.ownerDocument,B,V),V}oe.prototype={nodeName:"#document",nodeType:q,doctype:null,documentElement:null,_inc:1,insertBefore:function(B,V){if(B.nodeType==O){for(var ae=B.firstChild;ae;){var Se=ae.nextSibling;this.insertBefore(ae,V),ae=Se}return B}return He(this,B,V),B.ownerDocument=this,this.documentElement===null&&B.nodeType===w&&(this.documentElement=B),B},removeChild:function(B){return this.documentElement==B&&(this.documentElement=null),Be(this,B)},replaceChild:function(B,V){He(this,B,V,Ie),B.ownerDocument=this,V&&this.removeChild(V),re(B)&&(this.documentElement=B)},importNode:function(B,V){return us(this,B,V)},getElementById:function(B){var V=null;return pe(this.documentElement,function(ae){if(ae.nodeType==w&&ae.getAttribute("id")==B)return V=ae,!0}),V},getElementsByClassName:function(B){var V=l(B);return new Y(this,function(ae){var Se=[];return V.length>0&&pe(ae.documentElement,function(qe){if(qe!==ae&&qe.nodeType===w){var nt=qe.getAttribute("class");if(nt){var Dt=B===nt;if(!Dt){var fi=l(nt);Dt=V.every(d(fi))}Dt&&Se.push(qe)}}}),Se})},createElement:function(B){var V=new ze;V.ownerDocument=this,V.nodeName=B,V.tagName=B,V.localName=B,V.childNodes=new U;var ae=V.attributes=new ee;return ae._ownerElement=V,V},createDocumentFragment:function(){var B=new bi;return B.ownerDocument=this,B.childNodes=new U,B},createTextNode:function(B){var V=new Qe;return V.ownerDocument=this,V.appendData(B),V},createComment:function(B){var V=new vt;return V.ownerDocument=this,V.appendData(B),V},createCDATASection:function(B){var V=new St;return V.ownerDocument=this,V.appendData(B),V},createProcessingInstruction:function(B,V){var ae=new lt;return ae.ownerDocument=this,ae.tagName=ae.nodeName=ae.target=B,ae.nodeValue=ae.data=V,ae},createAttribute:function(B){var V=new Ye;return V.ownerDocument=this,V.name=B,V.nodeName=B,V.localName=B,V.specified=!0,V},createEntityReference:function(B){var V=new si;return V.ownerDocument=this,V.nodeName=B,V},createElementNS:function(B,V){var ae=new ze,Se=V.split(":"),qe=ae.attributes=new ee;return ae.childNodes=new U,ae.ownerDocument=this,ae.nodeName=V,ae.tagName=V,ae.namespaceURI=B,Se.length==2?(ae.prefix=Se[0],ae.localName=Se[1]):ae.localName=V,qe._ownerElement=ae,ae},createAttributeNS:function(B,V){var ae=new Ye,Se=V.split(":");return ae.ownerDocument=this,ae.nodeName=V,ae.name=V,ae.namespaceURI=B,ae.specified=!0,Se.length==2?(ae.prefix=Se[0],ae.localName=Se[1]):ae.localName=V,ae}},m(oe,M);function ze(){this._nsMap={}}ze.prototype={nodeType:w,hasAttribute:function(B){return this.getAttributeNode(B)!=null},getAttribute:function(B){var V=this.getAttributeNode(B);return V&&V.value||""},getAttributeNode:function(B){return this.attributes.getNamedItem(B)},setAttribute:function(B,V){var ae=this.ownerDocument.createAttribute(B);ae.value=ae.nodeValue=""+V,this.setAttributeNode(ae)},removeAttribute:function(B){var V=this.getAttributeNode(B);V&&this.removeAttributeNode(V)},appendChild:function(B){return B.nodeType===O?this.insertBefore(B,null):je(this,B)},setAttributeNode:function(B){return this.attributes.setNamedItem(B)},setAttributeNodeNS:function(B){return this.attributes.setNamedItemNS(B)},removeAttributeNode:function(B){return this.attributes.removeNamedItem(B.nodeName)},removeAttributeNS:function(B,V){var ae=this.getAttributeNodeNS(B,V);ae&&this.removeAttributeNode(ae)},hasAttributeNS:function(B,V){return this.getAttributeNodeNS(B,V)!=null},getAttributeNS:function(B,V){var ae=this.getAttributeNodeNS(B,V);return ae&&ae.value||""},setAttributeNS:function(B,V,ae){var Se=this.ownerDocument.createAttributeNS(B,V);Se.value=Se.nodeValue=""+ae,this.setAttributeNode(Se)},getAttributeNodeNS:function(B,V){return this.attributes.getNamedItemNS(B,V)},getElementsByTagName:function(B){return new Y(this,function(V){var ae=[];return pe(V,function(Se){Se!==V&&Se.nodeType==w&&(B==="*"||Se.tagName==B)&&ae.push(Se)}),ae})},getElementsByTagNameNS:function(B,V){return new Y(this,function(ae){var Se=[];return pe(ae,function(qe){qe!==ae&&qe.nodeType===w&&(B==="*"||qe.namespaceURI===B)&&(V==="*"||qe.localName==V)&&Se.push(qe)}),Se})}},oe.prototype.getElementsByTagName=ze.prototype.getElementsByTagName,oe.prototype.getElementsByTagNameNS=ze.prototype.getElementsByTagNameNS,m(ze,M);function Ye(){}Ye.prototype.nodeType=L,m(Ye,M);function tt(){}tt.prototype={data:"",substringData:function(B,V){return this.data.substring(B,B+V)},appendData:function(B){B=this.data+B,this.nodeValue=this.data=B,this.length=B.length},insertData:function(B,V){this.replaceData(B,0,V)},appendChild:function(B){throw new Error(J[x])},deleteData:function(B,V){this.replaceData(B,V,"")},replaceData:function(B,V,ae){var Se=this.data.substring(0,B),qe=this.data.substring(B+V);ae=Se+ae+qe,this.nodeValue=this.data=ae,this.length=ae.length}},m(tt,M);function Qe(){}Qe.prototype={nodeName:"#text",nodeType:k,splitText:function(B){var V=this.data,ae=V.substring(B);V=V.substring(0,B),this.data=this.nodeValue=V,this.length=V.length;var Se=this.ownerDocument.createTextNode(ae);return this.parentNode&&this.parentNode.insertBefore(Se,this.nextSibling),Se}},m(Qe,tt);function vt(){}vt.prototype={nodeName:"#comment",nodeType:H},m(vt,tt);function St(){}St.prototype={nodeName:"#cdata-section",nodeType:j},m(St,tt);function pt(){}pt.prototype.nodeType=Q,m(pt,M);function Nt(){}Nt.prototype.nodeType=N,m(Nt,M);function wt(){}wt.prototype.nodeType=I,m(wt,M);function si(){}si.prototype.nodeType=A,m(si,M);function bi(){}bi.prototype.nodeName="#document-fragment",bi.prototype.nodeType=O,m(bi,M);function lt(){}lt.prototype.nodeType=P,m(lt,M);function Qt(){}Qt.prototype.serializeToString=function(B,V,ae){return It.call(B,V,ae)},M.prototype.toString=It;function It(B,V){var ae=[],Se=this.nodeType==9&&this.documentElement||this,qe=Se.prefix,nt=Se.namespaceURI;if(nt&&qe==null){var qe=Se.lookupPrefix(nt);if(qe==null)var Dt=[{namespace:nt,prefix:null}]}return Gt(this,ae,B,V,Dt),ae.join("")}function Bt(B,V,ae){var Se=B.prefix||"",qe=B.namespaceURI;if(!qe||Se==="xml"&&qe===t.XML||qe===t.XMLNS)return!1;for(var nt=ae.length;nt--;){var Dt=ae[nt];if(Dt.prefix===Se)return Dt.namespace!==qe}return!0}function At(B,V,ae){B.push(" ",V,'="',ae.replace(/[<>&"\t\n\r]/g,se),'"')}function Gt(B,V,ae,Se,qe){if(qe||(qe=[]),Se)if(B=Se(B),B){if(typeof B=="string"){V.push(B);return}}else return;switch(B.nodeType){case w:var nt=B.attributes,Dt=nt.length,ct=B.firstChild,fi=B.tagName;ae=t.isHTML(B.namespaceURI)||ae;var Ri=fi;if(!ae&&!B.prefix&&B.namespaceURI){for(var Gi,Vi=0;Vi<nt.length;Vi++)if(nt.item(Vi).name==="xmlns"){Gi=nt.item(Vi).value;break}if(!Gi)for(var nn=qe.length-1;nn>=0;nn--){var $i=qe[nn];if($i.prefix===""&&$i.namespace===B.namespaceURI){Gi=$i.namespace;break}}if(Gi!==B.namespaceURI)for(var nn=qe.length-1;nn>=0;nn--){var $i=qe[nn];if($i.namespace===B.namespaceURI){$i.prefix&&(Ri=$i.prefix+":"+fi);break}}}V.push("<",Ri);for(var Vt=0;Vt<Dt;Vt++){var rn=nt.item(Vt);rn.prefix=="xmlns"?qe.push({prefix:rn.localName,namespace:rn.value}):rn.nodeName=="xmlns"&&qe.push({prefix:"",namespace:rn.value})}for(var Vt=0;Vt<Dt;Vt++){var rn=nt.item(Vt);if(Bt(rn,ae,qe)){var Ti=rn.prefix||"",Ut=rn.namespaceURI;At(V,Ti?"xmlns:"+Ti:"xmlns",Ut),qe.push({prefix:Ti,namespace:Ut})}Gt(rn,V,ae,Se,qe)}if(fi===Ri&&Bt(B,ae,qe)){var Ti=B.prefix||"",Ut=B.namespaceURI;At(V,Ti?"xmlns:"+Ti:"xmlns",Ut),qe.push({prefix:Ti,namespace:Ut})}if(ct||ae&&!/^(?:meta|link|img|br|hr|input)$/i.test(fi)){if(V.push(">"),ae&&/^script$/i.test(fi))for(;ct;)ct.data?V.push(ct.data):Gt(ct,V,ae,Se,qe.slice()),ct=ct.nextSibling;else for(;ct;)Gt(ct,V,ae,Se,qe.slice()),ct=ct.nextSibling;V.push("</",Ri,">")}else V.push("/>");return;case q:case O:for(var ct=B.firstChild;ct;)Gt(ct,V,ae,Se,qe.slice()),ct=ct.nextSibling;return;case L:return At(V,B.name,B.value);case k:return V.push(B.data.replace(/[<&>]/g,se));case j:return V.push("<![CDATA[",B.data,"]]>");case H:return V.push("<!--",B.data,"-->");case Q:var sn=B.publicId,mt=B.systemId;if(V.push("<!DOCTYPE ",B.name),sn)V.push(" PUBLIC ",sn),mt&&mt!="."&&V.push(" ",mt),V.push(">");else if(mt&&mt!=".")V.push(" SYSTEM ",mt,">");else{var Qa=B.internalSubset;Qa&&V.push(" [",Qa,"]"),V.push(">")}return;case P:return V.push("<?",B.target," ",B.data,"?>");case A:return V.push("&",B.nodeName,";");default:V.push("??",B.nodeName)}}function us(B,V,ae){var Se;switch(V.nodeType){case w:Se=V.cloneNode(!1),Se.ownerDocument=B;case O:break;case L:ae=!0;break}if(Se||(Se=V.cloneNode(!1)),Se.ownerDocument=B,Se.parentNode=null,ae)for(var qe=V.firstChild;qe;)Se.appendChild(us(B,qe,ae)),qe=qe.nextSibling;return Se}function ir(B,V,ae){var Se=new V.constructor;for(var qe in V)if(Object.prototype.hasOwnProperty.call(V,qe)){var nt=V[qe];typeof nt!="object"&&nt!=Se[qe]&&(Se[qe]=nt)}switch(V.childNodes&&(Se.childNodes=new U),Se.ownerDocument=B,Se.nodeType){case w:var Dt=V.attributes,fi=Se.attributes=new ee,Ri=Dt.length;fi._ownerElement=Se;for(var Gi=0;Gi<Ri;Gi++)Se.setAttributeNode(ir(B,Dt.item(Gi),!0));break;case L:ae=!0}if(ae)for(var Vi=V.firstChild;Vi;)Se.appendChild(ir(B,Vi,ae)),Vi=Vi.nextSibling;return Se}function Lr(B,V,ae){B[V]=ae}try{if(Object.defineProperty){let B=function(V){switch(V.nodeType){case w:case O:var ae=[];for(V=V.firstChild;V;)V.nodeType!==7&&V.nodeType!==8&&ae.push(B(V)),V=V.nextSibling;return ae.join("");default:return V.nodeValue}};var Pr=B;Object.defineProperty(Y.prototype,"length",{get:function(){return ue(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return B(this)},set:function(V){switch(this.nodeType){case w:case O:for(;this.firstChild;)this.removeChild(this.firstChild);(V||String(V))&&this.appendChild(this.ownerDocument.createTextNode(V));break;default:this.data=V,this.value=V,this.nodeValue=V}}}),Lr=function(V,ae,Se){V["$$"+ae]=Se}}}catch{}return es.DocumentType=pt,es.DOMException=W,es.DOMImplementation=T,es.Element=ze,es.Node=M,es.NodeList=U,es.XMLSerializer=Qt,es}var jl={},ky={},iE;function SL(){return iE||(iE=1,function(n){var e=Lh().freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),n.entityMap=n.HTML_ENTITIES}(ky)),ky}var Ud={},nE;function xL(){if(nE)return Ud;nE=1;var n=Lh().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),s=0,o=1,l=2,d=3,h=4,m=5,b=6,w=7;function L(x,S){this.message=x,this.locator=S,Error.captureStackTrace&&Error.captureStackTrace(this,L)}L.prototype=new Error,L.prototype.name=L.name;function k(){}k.prototype={parse:function(x,S,z){var W=this.domBuilder;W.startDocument(),Q(S,S={}),j(x,S,z,W,this.errorHandler),W.endDocument()}};function j(x,S,z,W,U){function Y(ze){if(ze>65535){ze-=65536;var Ye=55296+(ze>>10),tt=56320+(ze&1023);return String.fromCharCode(Ye,tt)}else return String.fromCharCode(ze)}function ue(ze){var Ye=ze.slice(1,-1);return Object.hasOwnProperty.call(z,Ye)?z[Ye]:Ye.charAt(0)==="#"?Y(parseInt(Ye.substr(1).replace("x","0x"))):(U.error("entity not found:"+ze),ze)}function ee(ze){if(ze>oe){var Ye=x.substring(oe,ze).replace(/&#?\w+;/g,ue);M&&C(oe),W.characters(Ye,0,ze-oe),oe=ze}}function C(ze,Ye){for(;ze>=$&&(Ye=T.exec(x));)le=Ye.index,$=le+Ye[0].length,M.lineNumber++;M.columnNumber=ze-le+1}for(var le=0,$=0,T=/.*(?:\r\n?|\n)|.*$/g,M=W.locator,se=[{currentNSMap:S}],pe={},oe=0;;){try{var ge=x.indexOf("<",oe);if(ge<0){if(!x.substr(oe).match(/^\s*$/)){var Ee=W.doc,ke=Ee.createTextNode(x.substr(oe));Ee.appendChild(ke),W.currentElement=ke}return}switch(ge>oe&&ee(ge),x.charAt(ge+1)){case"/":var Me=x.indexOf(">",ge+3),Be=x.substring(ge+2,Me).replace(/[ \t\n\r]+$/g,""),Ge=se.pop();Me<0?(Be=x.substring(ge+2).replace(/[\s<].*/,""),U.error("end tag name: "+Be+" is not complete:"+Ge.tagName),Me=ge+1+Be.length):Be.match(/\s</)&&(Be=Be.replace(/[\s<].*/,""),U.error("end tag name: "+Be+" maybe not complete"),Me=ge+1+Be.length);var Ve=Ge.localNSMap,xe=Ge.tagName==Be,re=xe||Ge.tagName&&Ge.tagName.toLowerCase()==Be.toLowerCase();if(re){if(W.endElement(Ge.uri,Ge.localName,Be),Ve)for(var he in Ve)Object.prototype.hasOwnProperty.call(Ve,he)&&W.endPrefixMapping(he);xe||U.fatalError("end tag name: "+Be+" is not match the current start tagName:"+Ge.tagName)}else se.push(Ge);Me++;break;case"?":M&&C(ge),Me=N(x,ge,W);break;case"!":M&&C(ge),Me=O(x,ge,W,U);break;default:M&&C(ge);var fe=new F,be=se[se.length-1].currentNSMap,Me=I(x,ge,fe,be,ue,U),Pe=fe.length;if(!fe.closed&&q(x,Me,fe.tagName,pe)&&(fe.closed=!0,z.nbsp||U.warning("unclosed xml attribute")),M&&Pe){for(var Ie=A(M,{}),He=0;He<Pe;He++){var je=fe[He];C(je.offset),je.locator=A(M,{})}W.locator=Ie,P(fe,W,be)&&se.push(fe),W.locator=M}else P(fe,W,be)&&se.push(fe);n.isHTML(fe.uri)&&!fe.closed?Me=H(x,Me,fe.tagName,ue,W):Me++}}catch(ze){if(ze instanceof L)throw ze;U.error("element parse error: "+ze),Me=-1}Me>oe?oe=Me:ee(Math.max(ge,oe)+1)}}function A(x,S){return S.lineNumber=x.lineNumber,S.columnNumber=x.columnNumber,S}function I(x,S,z,W,U,Y){function ue(M,se,pe){z.attributeNames.hasOwnProperty(M)&&Y.fatalError("Attribute "+M+" redefined"),z.addValue(M,se.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,U),pe)}for(var ee,C,le=++S,$=s;;){var T=x.charAt(le);switch(T){case"=":if($===o)ee=x.slice(S,le),$=d;else if($===l)$=d;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if($===d||$===o)if($===o&&(Y.warning('attribute value must after "="'),ee=x.slice(S,le)),S=le+1,le=x.indexOf(T,S),le>0)C=x.slice(S,le),ue(ee,C,S-1),$=m;else throw new Error("attribute value no end '"+T+"' match");else if($==h)C=x.slice(S,le),ue(ee,C,S),Y.warning('attribute "'+ee+'" missed start quot('+T+")!!"),S=le+1,$=m;else throw new Error('attribute value must after "="');break;case"/":switch($){case s:z.setTagName(x.slice(S,le));case m:case b:case w:$=w,z.closed=!0;case h:case o:break;case l:z.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Y.error("unexpected end of input"),$==s&&z.setTagName(x.slice(S,le)),le;case">":switch($){case s:z.setTagName(x.slice(S,le));case m:case b:case w:break;case h:case o:C=x.slice(S,le),C.slice(-1)==="/"&&(z.closed=!0,C=C.slice(0,-1));case l:$===l&&(C=ee),$==h?(Y.warning('attribute "'+C+'" missed quot(")!'),ue(ee,C,S)):((!n.isHTML(W[""])||!C.match(/^(?:disabled|checked|selected)$/i))&&Y.warning('attribute "'+C+'" missed value!! "'+C+'" instead!!'),ue(C,C,S));break;case d:throw new Error("attribute value missed!!")}return le;case"":T=" ";default:if(T<=" ")switch($){case s:z.setTagName(x.slice(S,le)),$=b;break;case o:ee=x.slice(S,le),$=l;break;case h:var C=x.slice(S,le);Y.warning('attribute "'+C+'" missed quot(")!!'),ue(ee,C,S);case m:$=b;break}else switch($){case l:z.tagName,(!n.isHTML(W[""])||!ee.match(/^(?:disabled|checked|selected)$/i))&&Y.warning('attribute "'+ee+'" missed value!! "'+ee+'" instead2!!'),ue(ee,ee,S),S=le,$=o;break;case m:Y.warning('attribute space is required"'+ee+'"!!');case b:$=o,S=le;break;case d:$=h,S=le;break;case w:throw new Error("elements closed character '/' and '>' must be connected to")}}le++}}function P(x,S,z){for(var W=x.tagName,U=null,T=x.length;T--;){var Y=x[T],ue=Y.qName,ee=Y.value,M=ue.indexOf(":");if(M>0)var C=Y.prefix=ue.slice(0,M),le=ue.slice(M+1),$=C==="xmlns"&&le;else le=ue,C=null,$=ue==="xmlns"&&"";Y.localName=le,$!==!1&&(U==null&&(U={},Q(z,z={})),z[$]=U[$]=ee,Y.uri=n.XMLNS,S.startPrefixMapping($,ee))}for(var T=x.length;T--;){Y=x[T];var C=Y.prefix;C&&(C==="xml"&&(Y.uri=n.XML),C!=="xmlns"&&(Y.uri=z[C||""]))}var M=W.indexOf(":");M>0?(C=x.prefix=W.slice(0,M),le=x.localName=W.slice(M+1)):(C=null,le=x.localName=W);var se=x.uri=z[C||""];if(S.startElement(se,le,W,x),x.closed){if(S.endElement(se,le,W),U)for(C in U)Object.prototype.hasOwnProperty.call(U,C)&&S.endPrefixMapping(C)}else return x.currentNSMap=z,x.localNSMap=U,!0}function H(x,S,z,W,U){if(/^(?:script|textarea)$/i.test(z)){var Y=x.indexOf("</"+z+">",S),ue=x.substring(S+1,Y);if(/[&<]/.test(ue))return/^script$/i.test(z)?(U.characters(ue,0,ue.length),Y):(ue=ue.replace(/&#?\w+;/g,W),U.characters(ue,0,ue.length),Y)}return S+1}function q(x,S,z,W){var U=W[z];return U==null&&(U=x.lastIndexOf("</"+z+">"),U<S&&(U=x.lastIndexOf("</"+z)),W[z]=U),U<S}function Q(x,S){for(var z in x)Object.prototype.hasOwnProperty.call(x,z)&&(S[z]=x[z])}function O(x,S,z,W){var U=x.charAt(S+2);switch(U){case"-":if(x.charAt(S+3)==="-"){var Y=x.indexOf("-->",S+4);return Y>S?(z.comment(x,S+4,Y-S-4),Y+3):(W.error("Unclosed comment"),-1)}else return-1;default:if(x.substr(S+3,6)=="CDATA["){var Y=x.indexOf("]]>",S+9);return z.startCDATA(),z.characters(x,S+9,Y-S-9),z.endCDATA(),Y+3}var ue=J(x,S),ee=ue.length;if(ee>1&&/!doctype/i.test(ue[0][0])){var C=ue[1][0],le=!1,$=!1;ee>3&&(/^public$/i.test(ue[2][0])?(le=ue[3][0],$=ee>4&&ue[4][0]):/^system$/i.test(ue[2][0])&&($=ue[3][0]));var T=ue[ee-1];return z.startDTD(C,le,$),z.endDTD(),T.index+T[0].length}}return-1}function N(x,S,z){var W=x.indexOf("?>",S);if(W){var U=x.substring(S,W).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return U?(U[0].length,z.processingInstruction(U[1],U[2]),W+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(x){if(!i.test(x))throw new Error("invalid tagName:"+x);this.tagName=x},addValue:function(x,S,z){if(!i.test(x))throw new Error("invalid attribute:"+x);this.attributeNames[x]=this.length,this[this.length++]={qName:x,value:S,offset:z}},length:0,getLocalName:function(x){return this[x].localName},getLocator:function(x){return this[x].locator},getQName:function(x){return this[x].qName},getURI:function(x){return this[x].uri},getValue:function(x){return this[x].value}};function J(x,S){var z,W=[],U=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(U.lastIndex=S,U.exec(x);z=U.exec(x);)if(W.push(z),z[1])return W}return Ud.XMLReader=k,Ud.ParseError=L,Ud}var rE;function EL(){if(rE)return jl;rE=1;var n=Lh(),e=pw(),t=SL(),i=xL(),s=e.DOMImplementation,o=n.NAMESPACE,l=i.ParseError,d=i.XMLReader;function h(I){return I.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function m(I){this.options=I||{locator:{}}}m.prototype.parseFromString=function(I,P){var H=this.options,q=new d,Q=H.domBuilder||new w,O=H.errorHandler,N=H.locator,F=H.xmlns||{},J=/\/x?html?$/.test(P),x=J?t.HTML_ENTITIES:t.XML_ENTITIES;N&&Q.setDocumentLocator(N),q.errorHandler=b(O,Q,N),q.domBuilder=H.domBuilder||Q,J&&(F[""]=o.HTML),F.xml=F.xml||o.XML;var S=H.normalizeLineEndings||h;return I&&typeof I=="string"?q.parse(S(I),F,x):q.errorHandler.error("invalid doc source"),Q.doc};function b(I,P,H){if(!I){if(P instanceof w)return P;I=P}var q={},Q=I instanceof Function;H=H||{};function O(N){var F=I[N];!F&&Q&&(F=I.length==2?function(J){I(N,J)}:I),q[N]=F&&function(J){F("[xmldom "+N+"]	"+J+k(H))}||function(){}}return O("warning"),O("error"),O("fatalError"),q}function w(){this.cdata=!1}function L(I,P){P.lineNumber=I.lineNumber,P.columnNumber=I.columnNumber}w.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(I,P,H,q){var Q=this.doc,O=Q.createElementNS(I,H||P),N=q.length;A(this,O),this.currentElement=O,this.locator&&L(this.locator,O);for(var F=0;F<N;F++){var I=q.getURI(F),J=q.getValue(F),H=q.getQName(F),x=Q.createAttributeNS(I,H);this.locator&&L(q.getLocator(F),x),x.value=x.nodeValue=J,O.setAttributeNode(x)}},endElement:function(I,P,H){var q=this.currentElement;q.tagName,this.currentElement=q.parentNode},startPrefixMapping:function(I,P){},endPrefixMapping:function(I){},processingInstruction:function(I,P){var H=this.doc.createProcessingInstruction(I,P);this.locator&&L(this.locator,H),A(this,H)},ignorableWhitespace:function(I,P,H){},characters:function(I,P,H){if(I=j.apply(this,arguments),I){if(this.cdata)var q=this.doc.createCDATASection(I);else var q=this.doc.createTextNode(I);this.currentElement?this.currentElement.appendChild(q):/^\s*$/.test(I)&&this.doc.appendChild(q),this.locator&&L(this.locator,q)}},skippedEntity:function(I){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(I){(this.locator=I)&&(I.lineNumber=0)},comment:function(I,P,H){I=j.apply(this,arguments);var q=this.doc.createComment(I);this.locator&&L(this.locator,q),A(this,q)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(I,P,H){var q=this.doc.implementation;if(q&&q.createDocumentType){var Q=q.createDocumentType(I,P,H);this.locator&&L(this.locator,Q),A(this,Q),this.doc.doctype=Q}},warning:function(I){console.warn("[xmldom warning]	"+I,k(this.locator))},error:function(I){console.error("[xmldom error]	"+I,k(this.locator))},fatalError:function(I){throw new l(I,this.locator)}};function k(I){if(I)return`
@`+(I.systemId||"")+"#[line:"+I.lineNumber+",col:"+I.columnNumber+"]"}function j(I,P,H){return typeof I=="string"?I.substr(P,H):I.length>=P+H||P?new java.lang.String(I,P,H)+"":I}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(I){w.prototype[I]=function(){return null}});function A(I,P){I.currentElement?I.currentElement.appendChild(P):I.doc.appendChild(P)}return jl.__DOMHandler=w,jl.normalizeLineEndings=h,jl.DOMParser=m,jl}var sE;function CL(){if(sE)return ql;sE=1;var n=pw();return ql.DOMImplementation=n.DOMImplementation,ql.XMLSerializer=n.XMLSerializer,ql.DOMParser=EL().DOMParser,ql}var wL=CL();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const aE=n=>!!n&&typeof n=="object",Di=(...n)=>n.reduce((e,t)=>(typeof t!="object"||Object.keys(t).forEach(i=>{Array.isArray(e[i])&&Array.isArray(t[i])?e[i]=e[i].concat(t[i]):aE(e[i])&&aE(t[i])?e[i]=Di(e[i],t[i]):e[i]=t[i]}),e),{}),mw=n=>Object.keys(n).map(e=>n[e]),AL=(n,e)=>{const t=[];for(let i=n;i<e;i++)t.push(i);return t},lu=n=>n.reduce((e,t)=>e.concat(t),[]),gw=n=>{if(!n.length)return[];const e=[];for(let t=0;t<n.length;t++)e.push(n[t]);return e},DL=(n,e)=>n.reduce((t,i,s)=>(i[e]&&t.push(s),t),[]),OL=(n,e)=>mw(n.reduce((t,i)=>(i.forEach(s=>{t[e(s)]=s}),t),{}));var cu={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const rc=({baseUrl:n="",source:e="",range:t="",indexRange:i=""})=>{const s={uri:e,resolvedUri:Mh(n||"",e)};if(t||i){const l=(t||i).split("-");let d=te.BigInt?te.BigInt(l[0]):parseInt(l[0],10),h=te.BigInt?te.BigInt(l[1]):parseInt(l[1],10);d<Number.MAX_SAFE_INTEGER&&typeof d=="bigint"&&(d=Number(d)),h<Number.MAX_SAFE_INTEGER&&typeof h=="bigint"&&(h=Number(h));let m;typeof h=="bigint"||typeof d=="bigint"?m=te.BigInt(h)-te.BigInt(d)+te.BigInt(1):m=h-d+1,typeof m=="bigint"&&m<Number.MAX_SAFE_INTEGER&&(m=Number(m)),s.byterange={length:m,offset:d}}return s},RL=n=>{let e;return typeof n.offset=="bigint"||typeof n.length=="bigint"?e=te.BigInt(n.offset)+te.BigInt(n.length)-te.BigInt(1):e=n.offset+n.length-1,`${n.offset}-${e}`},oE=n=>(n&&typeof n!="number"&&(n=parseInt(n,10)),isNaN(n)?null:n),kL={static(n){const{duration:e,timescale:t=1,sourceDuration:i,periodDuration:s}=n,o=oE(n.endNumber),l=e/t;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/l}:{start:0,end:i/l}},dynamic(n){const{NOW:e,clientOffset:t,availabilityStartTime:i,timescale:s=1,duration:o,periodStart:l=0,minimumUpdatePeriod:d=0,timeShiftBufferDepth:h=1/0}=n,m=oE(n.endNumber),b=(e+t)/1e3,w=i+l,k=b+d-w,j=Math.ceil(k*s/o),A=Math.floor((b-w-h)*s/o),I=Math.floor((b-w)*s/o);return{start:Math.max(0,A),end:typeof m=="number"?m:Math.min(j,I)}}},ML=n=>e=>{const{duration:t,timescale:i=1,periodStart:s,startNumber:o=1}=n;return{number:o+e,duration:t/i,timeline:s,time:e*t}},$v=n=>{const{type:e,duration:t,timescale:i=1,periodDuration:s,sourceDuration:o}=n,{start:l,end:d}=kL[e](n),h=AL(l,d).map(ML(n));if(e==="static"){const m=h.length-1,b=typeof s=="number"?s:o;h[m].duration=b-t/i*m}return h},yw=n=>{const{baseUrl:e,initialization:t={},sourceDuration:i,indexRange:s="",periodStart:o,presentationTime:l,number:d=0,duration:h}=n;if(!e)throw new Error(cu.NO_BASE_URL);const m=rc({baseUrl:e,source:t.sourceURL,range:t.range}),b=rc({baseUrl:e,source:e,indexRange:s});if(b.map=m,h){const w=$v(n);w.length&&(b.duration=w[0].duration,b.timeline=w[0].timeline)}else i&&(b.duration=i,b.timeline=o);return b.presentationTime=l||o,b.number=d,[b]},Kv=(n,e,t)=>{const i=n.sidx.map?n.sidx.map:null,s=n.sidx.duration,o=n.timeline||0,l=n.sidx.byterange,d=l.offset+l.length,h=e.timescale,m=e.references.filter(I=>I.referenceType!==1),b=[],w=n.endList?"static":"dynamic",L=n.sidx.timeline;let k=L,j=n.mediaSequence||0,A;typeof e.firstOffset=="bigint"?A=te.BigInt(d)+e.firstOffset:A=d+e.firstOffset;for(let I=0;I<m.length;I++){const P=e.references[I],H=P.referencedSize,q=P.subsegmentDuration;let Q;typeof A=="bigint"?Q=A+te.BigInt(H)-te.BigInt(1):Q=A+H-1;const O=`${A}-${Q}`,F=yw({baseUrl:t,timescale:h,timeline:o,periodStart:L,presentationTime:k,number:j,duration:q,sourceDuration:s,indexRange:O,type:w})[0];i&&(F.map=i),b.push(F),typeof A=="bigint"?A+=te.BigInt(H):A+=H,k+=q/h,j++}return n.segments=b,n},LL=["AUDIO","SUBTITLES"],PL=1/60,vw=n=>OL(n,({timeline:e})=>e).sort((e,t)=>e.timeline>t.timeline?1:-1),NL=(n,e)=>{for(let t=0;t<n.length;t++)if(n[t].attributes.NAME===e)return n[t];return null},uE=n=>{let e=[];return TL(n,LL,(t,i,s,o)=>{e=e.concat(t.playlists||[])}),e},lE=({playlist:n,mediaSequence:e})=>{n.mediaSequence=e,n.segments.forEach((t,i)=>{t.number=n.mediaSequence+i})},IL=({oldPlaylists:n,newPlaylists:e,timelineStarts:t})=>{e.forEach(i=>{i.discontinuitySequence=t.findIndex(function({timeline:h}){return h===i.timeline});const s=NL(n,i.attributes.NAME);if(!s||i.sidx)return;const o=i.segments[0],l=s.segments.findIndex(function(h){return Math.abs(h.presentationTime-o.presentationTime)<PL});if(l===-1){lE({playlist:i,mediaSequence:s.mediaSequence+s.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!s.segments.length&&i.timeline>s.timeline||s.segments.length&&i.timeline>s.segments[s.segments.length-1].timeline)&&i.discontinuitySequence--;return}s.segments[l].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),lE({playlist:i,mediaSequence:s.segments[l].number})})},BL=({oldManifest:n,newManifest:e})=>{const t=n.playlists.concat(uE(n)),i=e.playlists.concat(uE(e));return e.timelineStarts=vw([n.timelineStarts,e.timelineStarts]),IL({oldPlaylists:t,newPlaylists:i,timelineStarts:e.timelineStarts}),e},Ph=n=>n&&n.uri+"-"+RL(n.byterange),My=n=>{const e=n.reduce(function(i,s){return i[s.attributes.baseUrl]||(i[s.attributes.baseUrl]=[]),i[s.attributes.baseUrl].push(s),i},{});let t=[];return Object.values(e).forEach(i=>{const s=mw(i.reduce((o,l)=>{const d=l.attributes.id+(l.attributes.lang||"");return o[d]?(l.segments&&(l.segments[0]&&(l.segments[0].discontinuity=!0),o[d].segments.push(...l.segments)),l.attributes.contentProtection&&(o[d].attributes.contentProtection=l.attributes.contentProtection)):(o[d]=l,o[d].attributes.timelineStarts=[]),o[d].attributes.timelineStarts.push({start:l.attributes.periodStart,timeline:l.attributes.periodStart}),o},{}));t=t.concat(s)}),t.map(i=>(i.discontinuityStarts=DL(i.segments||[],"discontinuity"),i))},Xv=(n,e)=>{const t=Ph(n.sidx),i=t&&e[t]&&e[t].sidx;return i&&Kv(n,i,n.sidx.resolvedUri),n},UL=(n,e={})=>{if(!Object.keys(e).length)return n;for(const t in n)n[t]=Xv(n[t],e);return n},FL=({attributes:n,segments:e,sidx:t,mediaSequence:i,discontinuitySequence:s,discontinuityStarts:o},l)=>{const d={attributes:{NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs,"PROGRAM-ID":1},uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,discontinuitySequence:s,discontinuityStarts:o,timelineStarts:n.timelineStarts,mediaSequence:i,segments:e};return n.contentProtection&&(d.contentProtection=n.contentProtection),n.serviceLocation&&(d.attributes.serviceLocation=n.serviceLocation),t&&(d.sidx=t),l&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d},qL=({attributes:n,segments:e,mediaSequence:t,discontinuityStarts:i,discontinuitySequence:s})=>{typeof e>"u"&&(e=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);const o={NAME:n.id,BANDWIDTH:n.bandwidth,"PROGRAM-ID":1};n.codecs&&(o.CODECS=n.codecs);const l={attributes:o,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:i,discontinuitySequence:s,mediaSequence:t,segments:e};return n.serviceLocation&&(l.attributes.serviceLocation=n.serviceLocation),l},jL=(n,e={},t=!1)=>{let i;const s=n.reduce((o,l)=>{const d=l.attributes.role&&l.attributes.role.value||"",h=l.attributes.lang||"";let m=l.attributes.label||"main";if(h&&!l.attributes.label){const w=d?` (${d})`:"";m=`${l.attributes.lang}${w}`}o[m]||(o[m]={language:h,autoselect:!0,default:d==="main",playlists:[],uri:""});const b=Xv(FL(l,t),e);return o[m].playlists.push(b),typeof i>"u"&&d==="main"&&(i=l,i.default=!0),o},{});if(!i){const o=Object.keys(s)[0];s[o].default=!0}return s},HL=(n,e={})=>n.reduce((t,i)=>{const s=i.attributes.label||i.attributes.lang||"text",o=i.attributes.lang||"und";return t[s]||(t[s]={language:o,default:!1,autoselect:!1,playlists:[],uri:""}),t[s].playlists.push(Xv(qL(i),e)),t},{}),zL=n=>n.reduce((e,t)=>(t&&t.forEach(i=>{const{channel:s,language:o}=i;e[o]={autoselect:!1,default:!1,instreamId:s,language:o},i.hasOwnProperty("aspectRatio")&&(e[o].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[o].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[o]["3D"]=i["3D"])}),e),{}),GL=({attributes:n,segments:e,sidx:t,discontinuityStarts:i})=>{const s={attributes:{NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth,"PROGRAM-ID":1},uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,discontinuityStarts:i,timelineStarts:n.timelineStarts,segments:e};return n.frameRate&&(s.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(s.contentProtection=n.contentProtection),n.serviceLocation&&(s.attributes.serviceLocation=n.serviceLocation),t&&(s.sidx=t),s},VL=({attributes:n})=>n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video",$L=({attributes:n})=>n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio",KL=({attributes:n})=>n.mimeType==="text/vtt"||n.contentType==="text",XL=(n,e)=>{n.forEach(t=>{t.mediaSequence=0,t.discontinuitySequence=e.findIndex(function({timeline:i}){return i===t.timeline}),t.segments&&t.segments.forEach((i,s)=>{i.number=s})})},cE=n=>n?Object.keys(n).reduce((e,t)=>{const i=n[t];return e.concat(i.playlists)},[]):[],YL=({dashPlaylists:n,locations:e,contentSteering:t,sidxMapping:i={},previousManifest:s,eventStream:o})=>{if(!n.length)return{};const{sourceDuration:l,type:d,suggestedPresentationDelay:h,minimumUpdatePeriod:m}=n[0].attributes,b=My(n.filter(VL)).map(GL),w=My(n.filter($L)),L=My(n.filter(KL)),k=n.map(Q=>Q.attributes.captionServices).filter(Boolean),j={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:l,playlists:UL(b,i)};m>=0&&(j.minimumUpdatePeriod=m*1e3),e&&(j.locations=e),t&&(j.contentSteering=t),d==="dynamic"&&(j.suggestedPresentationDelay=h),o&&o.length>0&&(j.eventStream=o);const A=j.playlists.length===0,I=w.length?jL(w,i,A):null,P=L.length?HL(L,i):null,H=b.concat(cE(I),cE(P)),q=H.map(({timelineStarts:Q})=>Q);return j.timelineStarts=vw(q),XL(H,j.timelineStarts),I&&(j.mediaGroups.AUDIO.audio=I),P&&(j.mediaGroups.SUBTITLES.subs=P),k.length&&(j.mediaGroups["CLOSED-CAPTIONS"].cc=zL(k)),s?BL({oldManifest:s,newManifest:j}):j},WL=(n,e,t)=>{const{NOW:i,clientOffset:s,availabilityStartTime:o,timescale:l=1,periodStart:d=0,minimumUpdatePeriod:h=0}=n,m=(i+s)/1e3,b=o+d,L=m+h-b;return Math.ceil((L*l-e)/t)},_w=(n,e)=>{const{type:t,minimumUpdatePeriod:i=0,media:s="",sourceDuration:o,timescale:l=1,startNumber:d=1,periodStart:h}=n,m=[];let b=-1;for(let w=0;w<e.length;w++){const L=e[w],k=L.d,j=L.r||0,A=L.t||0;b<0&&(b=A),A&&A>b&&(b=A);let I;if(j<0){const q=w+1;q===e.length?t==="dynamic"&&i>0&&s.indexOf("$Number$")>0?I=WL(n,b,k):I=(o*l-b)/k:I=(e[q].t-b)/k}else I=j+1;const P=d+m.length+I;let H=d+m.length;for(;H<P;)m.push({number:H,duration:k/l,time:b,timeline:h}),b+=k,H++}return m},QL=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ZL=n=>(e,t,i,s)=>{if(e==="$$")return"$";if(typeof n[t]>"u")return e;const o=""+n[t];return t==="RepresentationID"||(i?s=parseInt(s,10):s=1,o.length>=s)?o:`${new Array(s-o.length+1).join("0")}${o}`},dE=(n,e)=>n.replace(QL,ZL(e)),JL=(n,e)=>!n.duration&&!e?[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodStart}]:n.duration?$v(n):_w(n,e),e8=(n,e)=>{const t={RepresentationID:n.id,Bandwidth:n.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=n,s=rc({baseUrl:n.baseUrl,source:dE(i.sourceURL,t),range:i.range});return JL(n,e).map(l=>{t.Number=l.number,t.Time=l.time;const d=dE(n.media||"",t),h=n.timescale||1,m=n.presentationTimeOffset||0,b=n.periodStart+(l.time-m)/h;return{uri:d,timeline:l.timeline,duration:l.duration,resolvedUri:Mh(n.baseUrl||"",d),map:s,number:l.number,presentationTime:b}})},t8=(n,e)=>{const{baseUrl:t,initialization:i={}}=n,s=rc({baseUrl:t,source:i.sourceURL,range:i.range}),o=rc({baseUrl:t,source:e.media,range:e.mediaRange});return o.map=s,o},i8=(n,e)=>{const{duration:t,segmentUrls:i=[],periodStart:s}=n;if(!t&&!e||t&&e)throw new Error(cu.SEGMENT_TIME_UNSPECIFIED);const o=i.map(h=>t8(n,h));let l;return t&&(l=$v(n)),e&&(l=_w(n,e)),l.map((h,m)=>{if(o[m]){const b=o[m],w=n.timescale||1,L=n.presentationTimeOffset||0;return b.timeline=h.timeline,b.duration=h.duration,b.number=h.number,b.presentationTime=s+(h.time-L)/w,b}}).filter(h=>h)},n8=({attributes:n,segmentInfo:e})=>{let t,i;e.template?(i=e8,t=Di(n,e.template)):e.base?(i=yw,t=Di(n,e.base)):e.list&&(i=i8,t=Di(n,e.list));const s={attributes:n};if(!i)return s;const o=i(t,e.segmentTimeline);if(t.duration){const{duration:l,timescale:d=1}=t;t.duration=l/d}else o.length?t.duration=o.reduce((l,d)=>Math.max(l,Math.ceil(d.duration)),0):t.duration=0;return s.attributes=t,s.segments=o,e.base&&t.indexRange&&(s.sidx=o[0],s.segments=[]),s},r8=n=>n.map(n8),Wt=(n,e)=>gw(n.childNodes).filter(({tagName:t})=>t===e),yc=n=>n.textContent.trim(),s8=n=>parseFloat(n.split("/").reduce((e,t)=>e/t)),Ko=n=>{const d=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!d)return 0;const[h,m,b,w,L,k]=d.slice(1);return parseFloat(h||0)*31536e3+parseFloat(m||0)*2592e3+parseFloat(b||0)*86400+parseFloat(w||0)*3600+parseFloat(L||0)*60+parseFloat(k||0)},a8=n=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)),hE={mediaPresentationDuration(n){return Ko(n)},availabilityStartTime(n){return a8(n)/1e3},minimumUpdatePeriod(n){return Ko(n)},suggestedPresentationDelay(n){return Ko(n)},type(n){return n},timeShiftBufferDepth(n){return Ko(n)},start(n){return Ko(n)},width(n){return parseInt(n,10)},height(n){return parseInt(n,10)},bandwidth(n){return parseInt(n,10)},frameRate(n){return s8(n)},startNumber(n){return parseInt(n,10)},timescale(n){return parseInt(n,10)},presentationTimeOffset(n){return parseInt(n,10)},duration(n){const e=parseInt(n,10);return isNaN(e)?Ko(n):e},d(n){return parseInt(n,10)},t(n){return parseInt(n,10)},r(n){return parseInt(n,10)},presentationTime(n){return parseInt(n,10)},DEFAULT(n){return n}},vi=n=>n&&n.attributes?gw(n.attributes).reduce((e,t)=>{const i=hE[t.name]||hE.DEFAULT;return e[t.name]=i(t.value),e},{}):{},o8={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Nh=(n,e)=>e.length?lu(n.map(function(t){return e.map(function(i){const s=yc(i),o=Mh(t.baseUrl,s),l=Di(vi(i),{baseUrl:o});return o!==s&&!l.serviceLocation&&t.serviceLocation&&(l.serviceLocation=t.serviceLocation),l})})):n,Yv=n=>{const e=Wt(n,"SegmentTemplate")[0],t=Wt(n,"SegmentList")[0],i=t&&Wt(t,"SegmentURL").map(w=>Di({tag:"SegmentURL"},vi(w))),s=Wt(n,"SegmentBase")[0],o=t||e,l=o&&Wt(o,"SegmentTimeline")[0],d=t||s||e,h=d&&Wt(d,"Initialization")[0],m=e&&vi(e);m&&h?m.initialization=h&&vi(h):m&&m.initialization&&(m.initialization={sourceURL:m.initialization});const b={template:m,segmentTimeline:l&&Wt(l,"S").map(w=>vi(w)),list:t&&Di(vi(t),{segmentUrls:i,initialization:vi(h)}),base:s&&Di(vi(s),{initialization:vi(h)})};return Object.keys(b).forEach(w=>{b[w]||delete b[w]}),b},u8=(n,e,t)=>i=>{const s=Wt(i,"BaseURL"),o=Nh(e,s),l=Di(n,vi(i)),d=Yv(i);return o.map(h=>({segmentInfo:Di(t,d),attributes:Di(l,h)}))},l8=n=>n.reduce((e,t)=>{const i=vi(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const s=o8[i.schemeIdUri];if(s){e[s]={attributes:i};const o=Wt(t,"cenc:pssh")[0];if(o){const l=yc(o);e[s].pssh=l&&uw(l)}}return e},{}),c8=n=>{if(n.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof n.value!="string"?[]:n.value.split(";")).map(t=>{let i,s;return s=t,/^CC\d=/.test(t)?[i,s]=t.split("="):/^CC\d$/.test(t)&&(i=t),{channel:i,language:s}});if(n.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof n.value!="string"?[]:n.value.split(";")).map(t=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){const[s,o=""]=t.split("=");i.channel=s,i.language=t,o.split(",").forEach(l=>{const[d,h]=l.split(":");d==="lang"?i.language=h:d==="er"?i.easyReader=Number(h):d==="war"?i.aspectRatio=Number(h):d==="3D"&&(i["3D"]=Number(h))})}else i.language=t;return i.channel&&(i.channel="SERVICE"+i.channel),i})},d8=n=>lu(Wt(n.node,"EventStream").map(e=>{const t=vi(e),i=t.schemeIdUri;return Wt(e,"Event").map(s=>{const o=vi(s),l=o.presentationTime||0,d=t.timescale||1,h=o.duration||0,m=l/d+n.attributes.start;return{schemeIdUri:i,value:t.value,id:o.id,start:m,end:m+h/d,messageData:yc(s)||o.messageData,contentEncoding:t.contentEncoding,presentationTimeOffset:t.presentationTimeOffset||0}})})),h8=(n,e,t)=>i=>{const s=vi(i),o=Nh(e,Wt(i,"BaseURL")),l=Wt(i,"Role")[0],d={role:vi(l)};let h=Di(n,s,d);const m=Wt(i,"Accessibility")[0],b=c8(vi(m));b&&(h=Di(h,{captionServices:b}));const w=Wt(i,"Label")[0];if(w&&w.childNodes.length){const I=w.childNodes[0].nodeValue.trim();h=Di(h,{label:I})}const L=l8(Wt(i,"ContentProtection"));Object.keys(L).length&&(h=Di(h,{contentProtection:L}));const k=Yv(i),j=Wt(i,"Representation"),A=Di(t,k);return lu(j.map(u8(h,o,A)))},f8=(n,e)=>(t,i)=>{const s=Nh(e,Wt(t.node,"BaseURL")),o=Di(n,{periodStart:t.attributes.start});typeof t.attributes.duration=="number"&&(o.periodDuration=t.attributes.duration);const l=Wt(t.node,"AdaptationSet"),d=Yv(t.node);return lu(l.map(h8(o,s,d)))},p8=(n,e)=>{if(n.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!n.length)return null;const t=Di({serverURL:yc(n[0])},vi(n[0]));return t.queryBeforeStart=t.queryBeforeStart==="true",t},m8=({attributes:n,priorPeriodAttributes:e,mpdType:t})=>typeof n.start=="number"?n.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&t==="static"?0:null,g8=(n,e={})=>{const{manifestUri:t="",NOW:i=Date.now(),clientOffset:s=0,eventHandler:o=function(){}}=e,l=Wt(n,"Period");if(!l.length)throw new Error(cu.INVALID_NUMBER_OF_PERIOD);const d=Wt(n,"Location"),h=vi(n),m=Nh([{baseUrl:t}],Wt(n,"BaseURL")),b=Wt(n,"ContentSteering");h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=i,h.clientOffset=s,d.length&&(h.locations=d.map(yc));const w=[];return l.forEach((L,k)=>{const j=vi(L),A=w[k-1];j.start=m8({attributes:j,priorPeriodAttributes:A?A.attributes:null,mpdType:h.type}),w.push({node:L,attributes:j})}),{locations:h.locations,contentSteeringInfo:p8(b,o),representationInfo:lu(w.map(f8(h,m))),eventStream:lu(w.map(d8))}},bw=n=>{if(n==="")throw new Error(cu.DASH_EMPTY_MANIFEST);const e=new wL.DOMParser;let t,i;try{t=e.parseFromString(n,"application/xml"),i=t&&t.documentElement.tagName==="MPD"?t.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(cu.DASH_INVALID_XML);return i},y8=n=>{const e=Wt(n,"UTCTiming")[0];if(!e)return null;const t=vi(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(cu.UNSUPPORTED_UTC_TIMING_SCHEME)}return t},v8=(n,e={})=>{const t=g8(bw(n),e),i=r8(t.representationInfo);return YL({dashPlaylists:i,locations:t.locations,contentSteering:t.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:t.eventStream})},_8=n=>y8(bw(n));var Ly,fE;function b8(){if(fE)return Ly;fE=1;var n=Math.pow(2,32),e=function(t){var i=new DataView(t.buffer,t.byteOffset,t.byteLength),s;return i.getBigUint64?(s=i.getBigUint64(0),s<Number.MAX_SAFE_INTEGER?Number(s):s):i.getUint32(0)*n+i.getUint32(4)};return Ly={getUint64:e,MAX_UINT32:n},Ly}var Py,pE;function T8(){if(pE)return Py;pE=1;var n=b8().getUint64,e=function(t){var i=new DataView(t.buffer,t.byteOffset,t.byteLength),s={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8)},o=12;s.version===0?(s.earliestPresentationTime=i.getUint32(o),s.firstOffset=i.getUint32(o+4),o+=8):(s.earliestPresentationTime=n(t.subarray(o)),s.firstOffset=n(t.subarray(o+8)),o+=16),o+=2;var l=i.getUint16(o);for(o+=2;l>0;o+=12,l--)s.references.push({referenceType:(t[o]&128)>>>7,referencedSize:i.getUint32(o)&2147483647,subsegmentDuration:i.getUint32(o+4),startsWithSap:!!(t[o+8]&128),sapType:(t[o+8]&112)>>>4,sapDeltaTime:i.getUint32(o+8)&268435455});return s};return Py=e,Py}var S8=T8();const x8=vu(S8);var E8=it([73,68,51]),C8=function(e,t){t===void 0&&(t=0),e=it(e);var i=e[t+5],s=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],o=(i&16)>>4;return o?s+20:s+10},Xl=function n(e,t){return t===void 0&&(t=0),e=it(e),e.length-t<10||!Yt(e,E8,{offset:t})?t:(t+=C8(e,t),n(e,t))},mE=function(e){return typeof e=="string"?fw(e):e},w8=function(e){return Array.isArray(e)?e.map(function(t){return mE(t)}):[mE(e)]},A8=function n(e,t,i){i===void 0&&(i=!1),t=w8(t),e=it(e);var s=[];if(!t.length)return s;for(var o=0;o<e.length;){var l=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,d=e.subarray(o+4,o+8);if(l===0)break;var h=o+l;if(h>e.length){if(i)break;h=e.length}var m=e.subarray(o+8,h);Yt(d,t[0])&&(t.length===1?s.push(m):s.push.apply(s,n(m,t.slice(1),i))),o=h}return s},Fd={EBML:it([26,69,223,163]),DocType:it([66,130]),Segment:it([24,83,128,103]),SegmentInfo:it([21,73,169,102]),Tracks:it([22,84,174,107]),Track:it([174]),TrackNumber:it([215]),DefaultDuration:it([35,227,131]),TrackEntry:it([174]),TrackType:it([131]),FlagDefault:it([136]),CodecID:it([134]),CodecPrivate:it([99,162]),VideoTrack:it([224]),AudioTrack:it([225]),Cluster:it([31,67,182,117]),Timestamp:it([231]),TimestampScale:it([42,215,177]),BlockGroup:it([160]),BlockDuration:it([155]),Block:it([161]),SimpleBlock:it([163])},tv=[128,64,32,16,8,4,2,1],D8=function(e){for(var t=1,i=0;i<tv.length&&!(e&tv[i]);i++)t++;return t},eh=function(e,t,i,s){i===void 0&&(i=!0),s===void 0&&(s=!1);var o=D8(e[t]),l=e.subarray(t,t+o);return i&&(l=Array.prototype.slice.call(e,t,t+o),l[0]^=tv[o-1]),{length:o,value:vL(l,{signed:s}),bytes:l}},gE=function n(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(t){return n(t)}):typeof e=="number"?_L(e):e},O8=function(e){return Array.isArray(e)?e.map(function(t){return gE(t)}):[gE(e)]},R8=function n(e,t,i){if(i>=t.length)return t.length;var s=eh(t,i,!1);if(Yt(e.bytes,s.bytes))return i;var o=eh(t,i+s.length);return n(e,t,i+o.length+o.value+s.length)},yE=function n(e,t){t=O8(t),e=it(e);var i=[];if(!t.length)return i;for(var s=0;s<e.length;){var o=eh(e,s,!1),l=eh(e,s+o.length),d=s+o.length+l.length;l.value===127&&(l.value=R8(o,e,d),l.value!==e.length&&(l.value-=d));var h=d+l.value>e.length?e.length:d+l.value,m=e.subarray(d,h);Yt(t[0],o.bytes)&&(t.length===1?i.push(m):i=i.concat(n(m,t.slice(1))));var b=o.length+l.length+m.length;s+=b}return i},k8=it([0,0,0,1]),M8=it([0,0,1]),L8=it([0,0,3]),P8=function(e){for(var t=[],i=1;i<e.length-2;)Yt(e.subarray(i,i+3),L8)&&(t.push(i+2),i++),i++;if(t.length===0)return e;var s=e.length-t.length,o=new Uint8Array(s),l=0;for(i=0;i<s;l++,i++)l===t[0]&&(l++,t.shift()),o[i]=e[l];return o},Tw=function(e,t,i,s){e=it(e),i=[].concat(i);for(var o=0,l,d=0;o<e.length&&(d<s||l);){var h=void 0;if(Yt(e.subarray(o),k8)?h=4:Yt(e.subarray(o),M8)&&(h=3),!h){o++;continue}if(d++,l)return P8(e.subarray(l,o));var m=void 0;t==="h264"?m=e[o+h]&31:t==="h265"&&(m=e[o+h]>>1&63),i.indexOf(m)!==-1&&(l=o+h),o+=h+(t==="h264"?1:2)}return e.subarray(0,0)},N8=function(e,t,i){return Tw(e,"h264",t,i)},I8=function(e,t,i){return Tw(e,"h265",t,i)},Ji={webm:it([119,101,98,109]),matroska:it([109,97,116,114,111,115,107,97]),flac:it([102,76,97,67]),ogg:it([79,103,103,83]),ac3:it([11,119]),riff:it([82,73,70,70]),avi:it([65,86,73]),wav:it([87,65,86,69]),"3gp":it([102,116,121,112,51,103]),mp4:it([102,116,121,112]),fmp4:it([115,116,121,112]),mov:it([102,116,121,112,113,116]),moov:it([109,111,111,118]),moof:it([109,111,111,102])},du={aac:function(e){var t=Xl(e);return Yt(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Xl(e);return Yt(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=yE(e,[Fd.EBML,Fd.DocType])[0];return Yt(t,Ji.webm)},mkv:function(e){var t=yE(e,[Fd.EBML,Fd.DocType])[0];return Yt(t,Ji.matroska)},mp4:function(e){if(du["3gp"](e)||du.mov(e))return!1;if(Yt(e,Ji.mp4,{offset:4})||Yt(e,Ji.fmp4,{offset:4})||Yt(e,Ji.moof,{offset:4})||Yt(e,Ji.moov,{offset:4}))return!0},mov:function(e){return Yt(e,Ji.mov,{offset:4})},"3gp":function(e){return Yt(e,Ji["3gp"],{offset:4})},ac3:function(e){var t=Xl(e);return Yt(e,Ji.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var t=0;t+188<e.length&&t<188;){if(e[t]===71&&e[t+188]===71)return!0;t+=1}return!1},flac:function(e){var t=Xl(e);return Yt(e,Ji.flac,{offset:t})},ogg:function(e){return Yt(e,Ji.ogg)},avi:function(e){return Yt(e,Ji.riff)&&Yt(e,Ji.avi,{offset:8})},wav:function(e){return Yt(e,Ji.riff)&&Yt(e,Ji.wav,{offset:8})},h264:function(e){return N8(e,7,3).length},h265:function(e){return I8(e,[32,33],3).length}},iv=Object.keys(du).filter(function(n){return n!=="ts"&&n!=="h264"&&n!=="h265"}).concat(["ts","h264","h265"]);iv.forEach(function(n){var e=du[n];du[n]=function(t){return e(it(t))}});var B8=du,Wv=function(e){e=it(e);for(var t=0;t<iv.length;t++){var i=iv[t];if(B8[i](e))return i}return""},U8=function(e){return A8(e,["moof"]).length>0},Ny,vE;function F8(){if(vE)return Ny;vE=1;var n=9e4,e,t,i,s,o,l,d;return e=function(h){return h*n},t=function(h,m){return h*m},i=function(h){return h/n},s=function(h,m){return h/m},o=function(h,m){return e(s(h,m))},l=function(h,m){return t(i(h),m)},d=function(h,m,b){return i(b?h:h-m)},Ny={ONE_SECOND_IN_TS:n,secondsToVideoTs:e,secondsToAudioTs:t,videoTsToSeconds:i,audioTsToSeconds:s,audioTsToVideoTs:o,videoTsToAudioTs:l,metadataTsToSeconds:d},Ny}var ja=F8();/**
 * @license
 * Video.js 8.21.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var nv="8.21.0";const ts={},Vs=function(n,e){return ts[n]=ts[n]||[],e&&(ts[n]=ts[n].concat(e)),ts[n]},q8=function(n,e){Vs(n,e)},Sw=function(n,e){const t=Vs(n).indexOf(e);return t<=-1?!1:(ts[n]=ts[n].slice(),ts[n].splice(t,1),!0)},j8=function(n,e){Vs(n,[].concat(e).map(t=>{const i=(...s)=>(Sw(n,i),t(...s));return i}))},th={prefixed:!0},Xd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],_E=Xd[0];let Yl;for(let n=0;n<Xd.length;n++)if(Xd[n][1]in Fe){Yl=Xd[n];break}if(Yl){for(let n=0;n<Yl.length;n++)th[_E[n]]=Yl[n];th.prefixed=Yl[0]!==_E[0]}let dn=[];const H8=(n,e,t)=>(i,s,o)=>{const l=e.levels[s],d=new RegExp(`^(${l})$`);let h=n;if(i!=="log"&&o.unshift(i.toUpperCase()+":"),t&&(h=`%c${n}`,o.unshift(t)),o.unshift(h+":"),dn){dn.push([].concat(o));const b=dn.length-1e3;dn.splice(0,b>0?b:0)}if(!te.console)return;let m=te.console[i];!m&&i==="debug"&&(m=te.console.info||te.console.log),!(!m||!l||!d.test(i))&&m[Array.isArray(o)?"apply":"call"](te.console,o)};function rv(n,e=":",t=""){let i="info",s;function o(...l){s("log",i,l)}return s=H8(n,o,t),o.createLogger=(l,d,h)=>{const m=d!==void 0?d:e,b=h!==void 0?h:t,w=`${n} ${m} ${l}`;return rv(w,m,b)},o.createNewLogger=(l,d,h)=>rv(l,d,h),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},o.level=l=>{if(typeof l=="string"){if(!o.levels.hasOwnProperty(l))throw new Error(`"${l}" in not a valid log level`);i=l}return i},o.history=()=>dn?[].concat(dn):[],o.history.filter=l=>(dn||[]).filter(d=>new RegExp(`.*${l}.*`).test(d[0])),o.history.clear=()=>{dn&&(dn.length=0)},o.history.disable=()=>{dn!==null&&(dn.length=0,dn=null)},o.history.enable=()=>{dn===null&&(dn=[])},o.error=(...l)=>s("error",i,l),o.warn=(...l)=>s("warn",i,l),o.debug=(...l)=>s("debug",i,l),o}const ft=rv("VIDEOJS"),xw=ft.createLogger,z8=Object.prototype.toString,Ew=function(n){return Dr(n)?Object.keys(n):[]};function Jo(n,e){Ew(n).forEach(t=>e(n[t],t))}function Cw(n,e,t=0){return Ew(n).reduce((i,s)=>e(i,n[s],s),t)}function Dr(n){return!!n&&typeof n=="object"}function hu(n){return Dr(n)&&z8.call(n)==="[object Object]"&&n.constructor===Object}function Pt(...n){const e={};return n.forEach(t=>{t&&Jo(t,(i,s)=>{if(!hu(i)){e[s]=i;return}hu(e[s])||(e[s]={}),e[s]=Pt(e[s],i)})}),e}function ww(n={}){const e=[];for(const t in n)if(n.hasOwnProperty(t)){const i=n[t];e.push(i)}return e}function Ih(n,e,t,i=!0){const s=l=>Object.defineProperty(n,e,{value:l,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const l=t();return s(l),l}};return i&&(o.set=s),Object.defineProperty(n,e,o)}var G8=Object.freeze({__proto__:null,each:Jo,reduce:Cw,isObject:Dr,isPlain:hu,merge:Pt,values:ww,defineLazyProperty:Ih});let Qv=!1,Aw=null,Jn=!1,Dw,Ow=!1,eu=!1,tu=!1,Or=!1,Zv=null,Bh=null;const V8=!!(te.cast&&te.cast.framework&&te.cast.framework.CastReceiverContext);let Rw=null,ih=!1,Uh=!1,nh=!1,Fh=!1,rh=!1,sh=!1,ah=!1;const sc=!!(xu()&&("ontouchstart"in te||te.navigator.maxTouchPoints||te.DocumentTouch&&te.document instanceof te.DocumentTouch)),qs=te.navigator&&te.navigator.userAgentData;qs&&qs.platform&&qs.brands&&(Jn=qs.platform==="Android",eu=!!qs.brands.find(n=>n.brand==="Microsoft Edge"),tu=!!qs.brands.find(n=>n.brand==="Chromium"),Or=!eu&&tu,Zv=Bh=(qs.brands.find(n=>n.brand==="Chromium")||{}).version||null,Uh=qs.platform==="Windows");if(!tu){const n=te.navigator&&te.navigator.userAgent||"";Qv=/iPod/i.test(n),Aw=function(){const e=n.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Jn=/Android/i.test(n),Dw=function(){const e=n.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),Ow=/Firefox/i.test(n),eu=/Edg/i.test(n),tu=/Chrome/i.test(n)||/CriOS/i.test(n),Or=!eu&&tu,Zv=Bh=function(){const e=n.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Rw=function(){const e=/MSIE\s(\d+)\.\d/.exec(n);let t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(n)&&/rv:11.0/.test(n)&&(t=11),t}(),rh=/Tizen/i.test(n),sh=/Web0S/i.test(n),ah=rh||sh,ih=/Safari/i.test(n)&&!Or&&!Jn&&!eu&&!ah,Uh=/Windows/i.test(n),nh=/iPad/i.test(n)||ih&&sc&&!/iPhone/i.test(n),Fh=/iPhone/i.test(n)&&!nh}const ji=Fh||nh||Qv,qh=(ih||ji)&&!Or;var kw=Object.freeze({__proto__:null,get IS_IPOD(){return Qv},get IOS_VERSION(){return Aw},get IS_ANDROID(){return Jn},get ANDROID_VERSION(){return Dw},get IS_FIREFOX(){return Ow},get IS_EDGE(){return eu},get IS_CHROMIUM(){return tu},get IS_CHROME(){return Or},get CHROMIUM_VERSION(){return Zv},get CHROME_VERSION(){return Bh},IS_CHROMECAST_RECEIVER:V8,get IE_VERSION(){return Rw},get IS_SAFARI(){return ih},get IS_WINDOWS(){return Uh},get IS_IPAD(){return nh},get IS_IPHONE(){return Fh},get IS_TIZEN(){return rh},get IS_WEBOS(){return sh},get IS_SMART_TV(){return ah},TOUCH_ENABLED:sc,IS_IOS:ji,IS_ANY_SAFARI:qh});function bE(n){return typeof n=="string"&&!!n.trim()}function $8(n){if(n.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function xu(){return Fe===te.document}function Eu(n){return Dr(n)&&n.nodeType===1}function Mw(){try{return te.parent!==te.self}catch{return!0}}function Lw(n){return function(e,t){if(!bE(e))return Fe[n](null);bE(t)&&(t=Fe.querySelector(t));const i=Eu(t)?t:Fe;return i[n]&&i[n](e)}}function st(n="div",e={},t={},i){const s=Fe.createElement(n);return Object.getOwnPropertyNames(e).forEach(function(o){const l=e[o];o==="textContent"?Xs(s,l):(s[o]!==l||o==="tabIndex")&&(s[o]=l)}),Object.getOwnPropertyNames(t).forEach(function(o){s.setAttribute(o,t[o])}),i&&Jv(s,i),s}function Xs(n,e){return typeof n.textContent>"u"?n.innerText=e:n.textContent=e,n}function sv(n,e){e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}function Zl(n,e){return $8(e),n.classList.contains(e)}function Ga(n,...e){return n.classList.add(...e.reduce((t,i)=>t.concat(i.split(/\s+/)),[])),n}function jh(n,...e){return n?(n.classList.remove(...e.reduce((t,i)=>t.concat(i.split(/\s+/)),[])),n):(ft.warn("removeClass was called with an element that doesn't exist"),null)}function Pw(n,e,t){return typeof t=="function"&&(t=t(n,e)),typeof t!="boolean"&&(t=void 0),e.split(/\s+/).forEach(i=>n.classList.toggle(i,t)),n}function Nw(n,e){Object.getOwnPropertyNames(e).forEach(function(t){const i=e[t];i===null||typeof i>"u"||i===!1?n.removeAttribute(t):n.setAttribute(t,i===!0?"":i)})}function zs(n){const e={},t=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(n&&n.attributes&&n.attributes.length>0){const i=n.attributes;for(let s=i.length-1;s>=0;s--){const o=i[s].name;let l=i[s].value;t.includes(o)&&(l=l!==null),e[o]=l}}return e}function Iw(n,e){return n.getAttribute(e)}function fu(n,e,t){n.setAttribute(e,t)}function Hh(n,e){n.removeAttribute(e)}function Bw(){Fe.body.focus(),Fe.onselectstart=function(){return!1}}function Uw(){Fe.onselectstart=function(){return!0}}function pu(n){if(n&&n.getBoundingClientRect&&n.parentNode){const e=n.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(t[i]=e[i])}),t.height||(t.height=parseFloat(mu(n,"height"))),t.width||(t.width=parseFloat(mu(n,"width"))),t}}function ac(n){if(!n||n&&!n.offsetParent)return{left:0,top:0,width:0,height:0};const e=n.offsetWidth,t=n.offsetHeight;let i=0,s=0;for(;n.offsetParent&&n!==Fe[th.fullscreenElement];)i+=n.offsetLeft,s+=n.offsetTop,n=n.offsetParent;return{left:i,top:s,width:e,height:t}}function zh(n,e){const t={x:0,y:0};if(ji){let b=n;for(;b&&b.nodeName.toLowerCase()!=="html";){const w=mu(b,"transform");if(/^matrix/.test(w)){const L=w.slice(7,-1).split(/,\s/).map(Number);t.x+=L[4],t.y+=L[5]}else if(/^matrix3d/.test(w)){const L=w.slice(9,-1).split(/,\s/).map(Number);t.x+=L[12],t.y+=L[13]}if(b.assignedSlot&&b.assignedSlot.parentElement&&te.WebKitCSSMatrix){const L=te.getComputedStyle(b.assignedSlot.parentElement).transform,k=new te.WebKitCSSMatrix(L);t.x+=k.m41,t.y+=k.m42}b=b.parentNode||b.host}}const i={},s=ac(e.target),o=ac(n),l=o.width,d=o.height;let h=e.offsetY-(o.top-s.top),m=e.offsetX-(o.left-s.left);return e.changedTouches&&(m=e.changedTouches[0].pageX-o.left,h=e.changedTouches[0].pageY+o.top,ji&&(m-=t.x,h-=t.y)),i.y=1-Math.max(0,Math.min(1,h/d)),i.x=Math.max(0,Math.min(1,m/l)),i}function Fw(n){return Dr(n)&&n.nodeType===3}function Gh(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function qw(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(e=>{if(typeof e=="function"&&(e=e()),Eu(e)||Fw(e))return e;if(typeof e=="string"&&/\S/.test(e))return Fe.createTextNode(e)}).filter(e=>e)}function Jv(n,e){return qw(e).forEach(t=>n.appendChild(t)),n}function jw(n,e){return Jv(Gh(n),e)}function oc(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0||n.type==="mousedown"&&n.button===0&&n.buttons===0?!0:!(n.button!==0||n.buttons!==1)}const $s=Lw("querySelector"),Hw=Lw("querySelectorAll");function mu(n,e){if(!n||!e)return"";if(typeof te.getComputedStyle=="function"){let t;try{t=te.getComputedStyle(n)}catch{return""}return t?t.getPropertyValue(e)||t[e]:""}return""}function zw(n){[...Fe.styleSheets].forEach(e=>{try{const t=[...e.cssRules].map(s=>s.cssText).join(""),i=Fe.createElement("style");i.textContent=t,n.document.head.appendChild(i)}catch{const i=Fe.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,n.document.head.appendChild(i)}})}var Gw=Object.freeze({__proto__:null,isReal:xu,isEl:Eu,isInFrame:Mw,createEl:st,textContent:Xs,prependTo:sv,hasClass:Zl,addClass:Ga,removeClass:jh,toggleClass:Pw,setAttributes:Nw,getAttributes:zs,getAttribute:Iw,setAttribute:fu,removeAttribute:Hh,blockTextSelection:Bw,unblockTextSelection:Uw,getBoundingClientRect:pu,findPosition:ac,getPointerPosition:zh,isTextNode:Fw,emptyEl:Gh,normalizeContent:qw,appendContent:Jv,insertContent:jw,isSingleLeftClick:oc,$:$s,$$:Hw,computedStyle:mu,copyStyleSheetsToWindow:zw});let Vw=!1,av;const K8=function(){if(av.options.autoSetup===!1)return;const n=Array.prototype.slice.call(Fe.getElementsByTagName("video")),e=Array.prototype.slice.call(Fe.getElementsByTagName("audio")),t=Array.prototype.slice.call(Fe.getElementsByTagName("video-js")),i=n.concat(e,t);if(i&&i.length>0)for(let s=0,o=i.length;s<o;s++){const l=i[s];if(l&&l.getAttribute)l.player===void 0&&l.getAttribute("data-setup")!==null&&av(l);else{ov(1);break}}else Vw||ov(1)};function ov(n,e){xu()&&(e&&(av=e),te.setTimeout(K8,n))}function uv(){Vw=!0,te.removeEventListener("load",uv)}xu()&&(Fe.readyState==="complete"?uv():te.addEventListener("load",uv));const $w=function(n){const e=Fe.createElement("style");return e.className=n,e},Kw=function(n,e){n.styleSheet?n.styleSheet.cssText=e:n.textContent=e};var tn=new WeakMap;const X8=3;let Y8=X8;function qn(){return Y8++}function TE(n,e){if(!tn.has(n))return;const t=tn.get(n);t.handlers[e].length===0&&(delete t.handlers[e],n.removeEventListener?n.removeEventListener(e,t.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+e,t.dispatcher)),Object.getOwnPropertyNames(t.handlers).length<=0&&(delete t.handlers,delete t.dispatcher,delete t.disabled),Object.getOwnPropertyNames(t).length===0&&tn.delete(n)}function e_(n,e,t,i){t.forEach(function(s){n(e,s,i)})}function Vh(n){if(n.fixed_)return n;function e(){return!0}function t(){return!1}if(!n||!n.isPropagationStopped||!n.isImmediatePropagationStopped){const i=n||te.event;n={};const s=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const o in i)s.includes(o)||o==="returnValue"&&i.preventDefault||(n[o]=i[o]);if(n.target||(n.target=n.srcElement||Fe),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){i.preventDefault&&i.preventDefault(),n.returnValue=!1,i.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),n.cancelBubble=!0,i.cancelBubble=!0,n.isPropagationStopped=e},n.isPropagationStopped=t,n.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),n.isImmediatePropagationStopped=e,n.stopPropagation()},n.isImmediatePropagationStopped=t,n.clientX!==null&&n.clientX!==void 0){const o=Fe.documentElement,l=Fe.body;n.pageX=n.clientX+(o&&o.scrollLeft||l&&l.scrollLeft||0)-(o&&o.clientLeft||l&&l.clientLeft||0),n.pageY=n.clientY+(o&&o.scrollTop||l&&l.scrollTop||0)-(o&&o.clientTop||l&&l.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n.fixed_=!0,n}let qd;const W8=function(){if(typeof qd!="boolean"){qd=!1;try{const n=Object.defineProperty({},"passive",{get(){qd=!0}});te.addEventListener("test",null,n),te.removeEventListener("test",null,n)}catch{}}return qd},Q8=["touchstart","touchmove"];function Cn(n,e,t){if(Array.isArray(e))return e_(Cn,n,e,t);tn.has(n)||tn.set(n,{});const i=tn.get(n);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),t.guid||(t.guid=qn()),i.handlers[e].push(t),i.dispatcher||(i.disabled=!1,i.dispatcher=function(s,o){if(i.disabled)return;s=Vh(s);const l=i.handlers[s.type];if(l){const d=l.slice(0);for(let h=0,m=d.length;h<m&&!s.isImmediatePropagationStopped();h++)try{d[h].call(n,s,o)}catch(b){ft.error(b)}}}),i.handlers[e].length===1)if(n.addEventListener){let s=!1;W8()&&Q8.indexOf(e)>-1&&(s={passive:!0}),n.addEventListener(e,i.dispatcher,s)}else n.attachEvent&&n.attachEvent("on"+e,i.dispatcher)}function Hi(n,e,t){if(!tn.has(n))return;const i=tn.get(n);if(!i.handlers)return;if(Array.isArray(e))return e_(Hi,n,e,t);const s=function(l,d){i.handlers[d]=[],TE(l,d)};if(e===void 0){for(const l in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},l)&&s(n,l);return}const o=i.handlers[e];if(o){if(!t){s(n,e);return}if(t.guid)for(let l=0;l<o.length;l++)o[l].guid===t.guid&&o.splice(l--,1);TE(n,e)}}function Cu(n,e,t){const i=tn.has(n)?tn.get(n):{},s=n.parentNode||n.ownerDocument;if(typeof e=="string"?e={type:e,target:n}:e.target||(e.target=n),e=Vh(e),i.dispatcher&&i.dispatcher.call(n,e,t),s&&!e.isPropagationStopped()&&e.bubbles===!0)Cu.call(null,s,e,t);else if(!s&&!e.defaultPrevented&&e.target&&e.target[e.type]){tn.has(e.target)||tn.set(e.target,{});const o=tn.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function $h(n,e,t){if(Array.isArray(e))return e_($h,n,e,t);const i=function(){Hi(n,e,i),t.apply(this,arguments)};i.guid=t.guid=t.guid||qn(),Cn(n,e,i)}function t_(n,e,t){const i=function(){Hi(n,e,i),t.apply(this,arguments)};i.guid=t.guid=t.guid||qn(),Cn(n,e,i)}var Z8=Object.freeze({__proto__:null,fixEvent:Vh,on:Cn,off:Hi,trigger:Cu,one:$h,any:t_});const jn=30,zt=function(n,e,t){e.guid||(e.guid=qn());const i=e.bind(n);return i.guid=t?t+"_"+e.guid:e.guid,i},Rr=function(n,e){let t=te.performance.now();return function(...s){const o=te.performance.now();o-t>=e&&(n(...s),t=o)}},Xw=function(n,e,t,i=te){let s;const o=()=>{i.clearTimeout(s),s=null},l=function(){const d=this,h=arguments;let m=function(){s=null,m=null,t||n.apply(d,h)};!s&&t&&n.apply(d,h),i.clearTimeout(s),s=i.setTimeout(m,e)};return l.cancel=o,l};var J8=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:jn,bind_:zt,throttle:Rr,debounce:Xw});let Hl;class wn{on(e,t){const i=this.addEventListener;this.addEventListener=()=>{},Cn(this,e,t),this.addEventListener=i}off(e,t){Hi(this,e,t)}one(e,t){const i=this.addEventListener;this.addEventListener=()=>{},$h(this,e,t),this.addEventListener=i}any(e,t){const i=this.addEventListener;this.addEventListener=()=>{},t_(this,e,t),this.addEventListener=i}trigger(e){const t=e.type||e;typeof e=="string"&&(e={type:t}),e=Vh(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Cu(this,e)}queueTrigger(e){Hl||(Hl=new Map);const t=e.type||e;let i=Hl.get(this);i||(i=new Map,Hl.set(this,i));const s=i.get(t);i.delete(t),te.clearTimeout(s);const o=te.setTimeout(()=>{i.delete(t),i.size===0&&(i=null,Hl.delete(this)),this.trigger(e)},0);i.set(t,o)}}wn.prototype.allowedEvents_={};wn.prototype.addEventListener=wn.prototype.on;wn.prototype.removeEventListener=wn.prototype.off;wn.prototype.dispatchEvent=wn.prototype.trigger;const Kh=n=>typeof n.name=="function"?n.name():typeof n.name=="string"?n.name:n.name_?n.name_:n.constructor&&n.constructor.name?n.constructor.name:typeof n,rs=n=>n instanceof wn||!!n.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof n[e]=="function"),eP=(n,e)=>{rs(n)?e():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(e))},lv=n=>typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length,oh=(n,e,t)=>{if(!n||!n.nodeName&&!rs(n))throw new Error(`Invalid target for ${Kh(e)}#${t}; must be a DOM node or evented object.`)},Yw=(n,e,t)=>{if(!lv(n))throw new Error(`Invalid event type for ${Kh(e)}#${t}; must be a non-empty string or array.`)},Ww=(n,e,t)=>{if(typeof n!="function")throw new Error(`Invalid listener for ${Kh(e)}#${t}; must be a function.`)},Iy=(n,e,t)=>{const i=e.length<3||e[0]===n||e[0]===n.eventBusEl_;let s,o,l;return i?(s=n.eventBusEl_,e.length>=3&&e.shift(),[o,l]=e):(s=e[0],o=e[1],l=e[2]),oh(s,n,t),Yw(o,n,t),Ww(l,n,t),l=zt(n,l),{isTargetingSelf:i,target:s,type:o,listener:l}},Ua=(n,e,t,i)=>{oh(n,n,e),n.nodeName?Z8[e](n,t,i):n[e](t,i)},tP={on(...n){const{isTargetingSelf:e,target:t,type:i,listener:s}=Iy(this,n,"on");if(Ua(t,"on",i,s),!e){const o=()=>this.off(t,i,s);o.guid=s.guid;const l=()=>this.off("dispose",o);l.guid=s.guid,Ua(this,"on","dispose",o),Ua(t,"on","dispose",l)}},one(...n){const{isTargetingSelf:e,target:t,type:i,listener:s}=Iy(this,n,"one");if(e)Ua(t,"one",i,s);else{const o=(...l)=>{this.off(t,i,o),s.apply(null,l)};o.guid=s.guid,Ua(t,"one",i,o)}},any(...n){const{isTargetingSelf:e,target:t,type:i,listener:s}=Iy(this,n,"any");if(e)Ua(t,"any",i,s);else{const o=(...l)=>{this.off(t,i,o),s.apply(null,l)};o.guid=s.guid,Ua(t,"any",i,o)}},off(n,e,t){if(!n||lv(n))Hi(this.eventBusEl_,n,e);else{const i=n,s=e;oh(i,this,"off"),Yw(s,this,"off"),Ww(t,this,"off"),t=zt(this,t),this.off("dispose",t),i.nodeName?(Hi(i,s,t),Hi(i,"dispose",t)):rs(i)&&(i.off(s,t),i.off("dispose",t))}},trigger(n,e){oh(this.eventBusEl_,this,"trigger");const t=n&&typeof n!="string"?n.type:n;if(!lv(t))throw new Error(`Invalid event type for ${Kh(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Cu(this.eventBusEl_,n,e)}};function i_(n,e={}){const{eventBusKey:t}=e;if(t){if(!n[t].nodeName)throw new Error(`The eventBusKey "${t}" does not refer to an element.`);n.eventBusEl_=n[t]}else n.eventBusEl_=st("span",{className:"vjs-event-bus"});return Object.assign(n,tP),n.eventedCallbacks&&n.eventedCallbacks.forEach(i=>{i()}),n.on("dispose",()=>{n.off(),[n,n.el_,n.eventBusEl_].forEach(function(i){i&&tn.has(i)&&tn.delete(i)}),te.setTimeout(()=>{n.eventBusEl_=null},0)}),n}const iP={state:{},setState(n){typeof n=="function"&&(n=n());let e;return Jo(n,(t,i)=>{this.state[i]!==t&&(e=e||{},e[i]={from:this.state[i],to:t}),this.state[i]=t}),e&&rs(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Qw(n,e){return Object.assign(n,iP),n.state=Object.assign({},n.state,e),typeof n.handleStateChanged=="function"&&rs(n)&&n.on("statechanged",n.handleStateChanged),n}const Jl=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toLowerCase())},li=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toUpperCase())},Zw=function(n,e){return li(n)===li(e)};var nP=Object.freeze({__proto__:null,toLowerCase:Jl,toTitleCase:li,titleCaseEquals:Zw});class Ae{constructor(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Pt({},this.options_),t=this.options_=Pt(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const s=e&&e.id&&e.id()||"no_player";this.id_=`${s}_component_${qn()}`}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(s=>this.addClass(s)),["on","off","one","any","trigger"].forEach(s=>{this[s]=void 0}),t.evented!==!1&&(i_(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Qw(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,t.initChildren!==!1&&this.initChildren(),this.ready(i),t.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Pt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,i){return st(e,t,i)}localize(e,t,i=e){const s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],d=s&&s.split("-")[0],h=o&&o[d];let m=i;return l&&l[e]?m=l[e]:h&&h[e]&&(m=h[e]),t&&(m=m.replace(/\{(\d+)\}/g,function(b,w){const L=t[w-1];let k=L;return typeof L>"u"&&(k=b),k})),m}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,s)=>i.concat(s),[]);let t=this;for(let i=0;i<e.length;i++)if(t=t.getChild(e[i]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",s=st("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),o=Fe.createElementNS(i,"svg");o.setAttributeNS(null,"viewBox","0 0 512 512");const l=Fe.createElementNS(i,"use");return o.appendChild(l),l.setAttributeNS(null,"href",`#vjs-icon-${e}`),s.appendChild(o),this.iconIsSet_?t.replaceChild(s,t.querySelector(".vjs-icon-placeholder")):t.appendChild(s),this.iconIsSet_=!0,s}addChild(e,t={},i=this.children_.length){let s,o;if(typeof e=="string"){o=li(e);const l=t.componentClass||o;t.name=o;const d=Ae.getComponent(l);if(!d)throw new Error(`Component ${l} does not exist`);if(typeof d!="function")return null;s=new d(this.player_||this,t)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(i,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&li(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[Jl(o)]=s),typeof s.el=="function"&&s.el()){let l=null;this.children_[i+1]&&(this.children_[i+1].el_?l=this.children_[i+1].el_:Eu(this.children_[i+1])&&(l=this.children_[i+1])),this.contentEl().insertBefore(s.el(),l)}return s}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let s=this.children_.length-1;s>=0;s--)if(this.children_[s]===e){t=!0,this.children_.splice(s,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[li(e.name())]=null,this.childNameIndex_[Jl(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,i=l=>{const d=l.name;let h=l.opts;if(t[d]!==void 0&&(h=t[d]),h===!1)return;h===!0&&(h={}),h.playerOptions=this.options_.playerOptions;const m=this.addChild(d,h);m&&(this[d]=m)};let s;const o=Ae.getComponent("Tech");Array.isArray(e)?s=e:s=Object.keys(e),s.concat(Object.keys(this.options_).filter(function(l){return!s.some(function(d){return typeof d=="string"?l===d:l===d.name})})).map(l=>{let d,h;return typeof l=="string"?(d=l,h=e[d]||this.options_[d]||{}):(d=l.name,h=l),{name:d,opts:h}}).filter(l=>{const d=Ae.getComponent(l.opts.componentClass||li(l.name));return d&&!o.isTech(d)}).forEach(i)}}buildCSSClass(){return""}ready(e,t=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}t?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)}$(e,t){return $s(e,t||this.contentEl())}$$(e,t){return Hw(e,t||this.contentEl())}hasClass(e){return Zl(this.el_,e)}addClass(...e){Ga(this.el_,...e)}removeClass(...e){jh(this.el_,...e)}toggleClass(e,t){Pw(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return Iw(this.el_,e)}setAttribute(e,t){fu(this.el_,e,t)}removeAttribute(e){Hh(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,i){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:t==="auto"?this.el_.style[e]="":this.el_.style[e]=t+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const s=this.el_.style[e],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+li(e)],10)}currentDimension(e){let t=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(t=mu(this.el_,e),t=parseFloat(t),t===0||isNaN(t)){const i=`offset${li(e)}`;t=this.el_[i]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),t={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},i={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:t,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null;const i=10,s=200;let o;this.on("touchstart",function(d){d.touches.length===1&&(t={pageX:d.touches[0].pageX,pageY:d.touches[0].pageY},e=te.performance.now(),o=!0)}),this.on("touchmove",function(d){if(d.touches.length>1)o=!1;else if(t){const h=d.touches[0].pageX-t.pageX,m=d.touches[0].pageY-t.pageY;Math.sqrt(h*h+m*m)>i&&(o=!1)}});const l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(d){t=null,o===!0&&te.performance.now()-e<s&&(d.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=zt(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});const i=function(s){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,t){var i;return e=zt(this,e),this.clearTimersOnDispose_(),i=te.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),te.clearTimeout(e)),e}setInterval(e,t){e=zt(this,e),this.clearTimersOnDispose_();const i=te.setInterval(e,t);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),te.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var t;return e=zt(this,e),t=te.requestAnimationFrame(()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()}),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=zt(this,t);const i=this.requestAnimationFrame(()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),te.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,t])=>{this[e].forEach((i,s)=>this[t](s))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(o){const l=te.getComputedStyle(o,null),d=l.getPropertyValue("visibility");return l.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(d)}function i(o){return!(!t(o.parentElement)||!t(o)||o.style.opacity==="0"||te.getComputedStyle(o).height==="0px"||te.getComputedStyle(o).width==="0px")}function s(o){if(o.offsetWidth+o.offsetHeight+o.getBoundingClientRect().height+o.getBoundingClientRect().width===0)return!1;const l={x:o.getBoundingClientRect().left+o.offsetWidth/2,y:o.getBoundingClientRect().top+o.offsetHeight/2};if(l.x<0||l.x>(Fe.documentElement.clientWidth||te.innerWidth)||l.y<0||l.y>(Fe.documentElement.clientHeight||te.innerHeight))return!1;let d=Fe.elementFromPoint(l.x,l.y);for(;d;){if(d===o)return!0;if(d.parentNode)d=d.parentNode;else return!1}}return e||(e=this.el()),!!(s(e)&&i(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,t){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=Ae.getComponent("Tech"),s=i&&i.isTech(t),o=Ae===t||Ae.prototype.isPrototypeOf(t.prototype);if(s||!o){let d;throw s?d="techs must be registered using Tech.registerTech()":d="must be a Component subclass",new Error(`Illegal component, "${e}"; ${d}.`)}e=li(e),Ae.components_||(Ae.components_={});const l=Ae.getComponent("Player");if(e==="Player"&&l&&l.players){const d=l.players,h=Object.keys(d);if(d&&h.length>0&&h.map(m=>d[m]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Ae.components_[e]=t,Ae.components_[Jl(e)]=t,t}static getComponent(e){if(!(!e||!Ae.components_))return Ae.components_[e]}}Ae.registerComponent("Component",Ae);function rP(n,e,t){if(typeof e!="number"||e<0||e>t)throw new Error(`Failed to execute '${n}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${t}).`)}function SE(n,e,t,i){return rP(n,i,t.length-1),t[i][e]}function By(n){let e;return n===void 0||n.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:n.length,start:SE.bind(null,"start",0,n),end:SE.bind(null,"end",1,n)},te.Symbol&&te.Symbol.iterator&&(e[te.Symbol.iterator]=()=>(n||[]).values()),e}function Zn(n,e){return Array.isArray(n)?By(n):n===void 0||e===void 0?By():By([[n,e]])}const Jw=function(n,e){n=n<0?0:n;let t=Math.floor(n%60),i=Math.floor(n/60%60),s=Math.floor(n/3600);const o=Math.floor(e/60%60),l=Math.floor(e/3600);return(isNaN(n)||n===1/0)&&(s=i=t="-"),s=s>0||l>0?s+":":"",i=((s||o>=10)&&i<10?"0"+i:i)+":",t=t<10?"0"+t:t,s+i+t};let n_=Jw;function eA(n){n_=n}function tA(){n_=Jw}function Xa(n,e=n){return n_(n,e)}var sP=Object.freeze({__proto__:null,createTimeRanges:Zn,createTimeRange:Zn,setFormatTime:eA,resetFormatTime:tA,formatTime:Xa});function iA(n,e){let t=0,i,s;if(!e)return 0;(!n||!n.length)&&(n=Zn(0,0));for(let o=0;o<n.length;o++)i=n.start(o),s=n.end(o),s>e&&(s=e),t+=s-i;return t/e}function ri(n){if(n instanceof ri)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:Dr(n)&&(typeof n.code=="number"&&(this.code=n.code),Object.assign(this,n)),this.message||(this.message=ri.defaultMessages[this.code]||"")}ri.prototype.code=0;ri.prototype.message="";ri.prototype.status=null;ri.prototype.metadata=null;ri.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];ri.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};ri.MEDIA_ERR_CUSTOM=0;ri.prototype.MEDIA_ERR_CUSTOM=0;ri.MEDIA_ERR_ABORTED=1;ri.prototype.MEDIA_ERR_ABORTED=1;ri.MEDIA_ERR_NETWORK=2;ri.prototype.MEDIA_ERR_NETWORK=2;ri.MEDIA_ERR_DECODE=3;ri.prototype.MEDIA_ERR_DECODE=3;ri.MEDIA_ERR_SRC_NOT_SUPPORTED=4;ri.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;ri.MEDIA_ERR_ENCRYPTED=5;ri.prototype.MEDIA_ERR_ENCRYPTED=5;function ec(n){return n!=null&&typeof n.then=="function"}function xr(n){ec(n)&&n.then(null,e=>{})}const cv=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((t,i,s)=>(n[i]&&(t[i]=n[i]),t),{cues:n.cues&&Array.prototype.map.call(n.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},aP=function(n){const e=n.$$("track"),t=Array.prototype.map.call(e,s=>s.track);return Array.prototype.map.call(e,function(s){const o=cv(s.track);return s.src&&(o.src=s.src),o}).concat(Array.prototype.filter.call(n.textTracks(),function(s){return t.indexOf(s)===-1}).map(cv))},oP=function(n,e){return n.forEach(function(t){const i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(s=>i.addCue(s))}),e.textTracks()};var xE={textTracksToJson:aP,jsonToTextTracks:oP,trackToJson_:cv};const Uy="vjs-modal-dialog";class wu extends Ae{constructor(e,t){super(e,t),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=st("div",{className:`${Uy}-content`},{role:"document"}),this.descEl_=st("p",{className:`${Uy}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Xs(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Uy} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const t=this.closeable_=!!e;let i=this.getChild("closeButton");if(t&&!i){const s=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(i,"close",this.close_)}!t&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),i=t.parentNode,s=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),jw(t,e),this.trigger("modalfill"),s?i.insertBefore(t,s):i.appendChild(t);const o=this.getChild("closeButton");o&&i.appendChild(o.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),Gh(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Fe.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const t=this.focusableEls_(),i=this.el_.querySelector(":focus");let s;for(let o=0;o<t.length;o++)if(i===t[o]){s=o;break}Fe.activeElement===this.el_&&(s=0),e.shiftKey&&s===0?(t[t.length-1].focus(),e.preventDefault()):!e.shiftKey&&s===t.length-1&&(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,t=>(t instanceof te.HTMLAnchorElement||t instanceof te.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof te.HTMLInputElement||t instanceof te.HTMLSelectElement||t instanceof te.HTMLTextAreaElement||t instanceof te.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof te.HTMLIFrameElement||t instanceof te.HTMLObjectElement||t instanceof te.HTMLEmbedElement||t.hasAttribute("tabindex")&&t.getAttribute("tabindex")!==-1||t.hasAttribute("contenteditable"))}}wu.prototype.options_={pauseOnOpen:!0,temporary:!0};Ae.registerComponent("ModalDialog",wu);class gu extends wn{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},rs(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let i=0,s=this.length;i<s;i++)if(this[i]===e){t=this[i],t.off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let i=0,s=this.length;i<s;i++){const o=this[i];if(o.id===e){t=o;break}}return t}}gu.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const n in gu.prototype.allowedEvents_)gu.prototype["on"+n]=null;const Fy=function(n,e){for(let t=0;t<n.length;t++)!Object.keys(n[t]).length||e.id===n[t].id||(n[t].enabled=!1)};class uP extends gu{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){Fy(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&Fy(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Fy(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const qy=function(n,e){for(let t=0;t<n.length;t++)!Object.keys(n[t]).length||e.id===n[t].id||(n[t].selected=!1)};class lP extends gu{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){qy(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set(){}})}addTrack(e){e.selected&&qy(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,qy(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class nA extends gu{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class cP{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let i=0,s=this.trackElements_.length;i<s;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t}removeTrackElement_(e){for(let t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}}class uh{constructor(e){uh.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let i=0;const s=e.length;this.cues_=e,this.length_=e.length;const o=function(l){""+l in this||Object.defineProperty(this,""+l,{get(){return this.cues_[l]}})};if(t<s)for(i=t;i<s;i++)o.call(this,i)}getCueById(e){let t=null;for(let i=0,s=this.length;i<s;i++){const o=this[i];if(o.id===e){t=o;break}}return t}}const dP={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},hP={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},fP={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},EE={disabled:"disabled",hidden:"hidden",showing:"showing"};class r_ extends wn{constructor(e={}){super();const t={id:e.id||"vjs_track_"+qn(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const s in t)Object.defineProperty(this,s,{get(){return t[s]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(s){s!==i&&(i=s,this.trigger("labelchange"))}})}}const s_=function(n){return new URL(n,Fe.baseURI)},rA=function(n){return new URL(n,Fe.baseURI).href},a_=function(n){if(typeof n=="string"){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(t)return t.pop().toLowerCase()}return""},Xh=function(n,e=te.location){return s_(n).origin!==e.origin};var pP=Object.freeze({__proto__:null,parseUrl:s_,getAbsoluteURL:rA,getFileExtension:a_,isCrossOrigin:Xh});const CE=function(n,e){const t=new te.WebVTT.Parser(te,te.vttjs,te.WebVTT.StringDecoder()),i=[];t.oncue=function(s){e.addCue(s)},t.onparsingerror=function(s){i.push(s)},t.onflush=function(){e.trigger({type:"loadeddata",target:e})},t.parse(n),i.length>0&&(te.console&&te.console.groupCollapsed&&te.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(s=>ft.error(s)),te.console&&te.console.groupEnd&&te.console.groupEnd()),t.flush()},wE=function(n,e){const t={uri:n},i=Xh(n);i&&(t.cors=i);const s=e.tech_.crossOrigin()==="use-credentials";s&&(t.withCredentials=s),ow(t,zt(this,function(o,l,d){if(o)return ft.error(o,l);e.loaded_=!0,typeof te.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],h=>{if(h.type==="vttjserror"){ft.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return CE(d,e)}):CE(d,e)}))};class vc extends r_{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=Pt(e,{kind:fP[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=EE[t.mode]||"disabled";const s=t.default;(t.kind==="metadata"||t.kind==="chapters")&&(i="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const o=new uh(this.cues_),l=new uh(this.activeCues_);let d=!1;this.timeupdateHandler=zt(this,function(m={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){m.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1),m.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const h=()=>{this.stopTracking()};this.tech_.one("dispose",h),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){return i},set(m){EE[m]&&i!==m&&(i=m,!this.preload_&&i!=="disabled"&&this.cues.length===0&&wE(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?o:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return l;const m=this.tech_.currentTime(),b=[];for(let w=0,L=this.cues.length;w<L;w++){const k=this.cues[w];k.startTime<=m&&k.endTime>=m&&b.push(k)}if(d=!1,b.length!==this.activeCues_.length)d=!0;else for(let w=0;w<b.length;w++)this.activeCues_.indexOf(b[w])===-1&&(d=!0);return this.activeCues_=b,l.setCues_(this.activeCues_),l},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||t.kind!=="subtitles"&&t.kind!=="captions")&&wE(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new te.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in t||(t[s]=e[s]);t.id=e.id,t.originalCue_=e}const i=this.tech_.textTracks();for(let s=0;s<i.length;s++)i[s]!==this&&i[s].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}vc.prototype.allowedEvents_={cuechange:"cuechange"};class sA extends r_{constructor(e={}){const t=Pt(e,{kind:hP[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(s){typeof s!="boolean"||s===i||(i=s,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class aA extends r_{constructor(e={}){const t=Pt(e,{kind:dP[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(s){typeof s!="boolean"||s===i||(i=s,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class as extends wn{constructor(e={}){super();let t;const i=new vc(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return i}}}),t=as.NONE,i.addEventListener("loadeddata",()=>{t=as.LOADED,this.trigger({type:"load",target:this})})}}as.prototype.allowedEvents_={load:"load"};as.NONE=0;as.LOADING=1;as.LOADED=2;as.ERROR=3;const Fn={audio:{ListClass:uP,TrackClass:sA,capitalName:"Audio"},video:{ListClass:lP,TrackClass:aA,capitalName:"Video"},text:{ListClass:nA,TrackClass:vc,capitalName:"Text"}};Object.keys(Fn).forEach(function(n){Fn[n].getterName=`${n}Tracks`,Fn[n].privateName=`${n}Tracks_`});const yu={remoteText:{ListClass:nA,TrackClass:vc,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:cP,TrackClass:as,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},en=Object.assign({},Fn,yu);yu.names=Object.keys(yu);Fn.names=Object.keys(Fn);en.names=[].concat(yu.names).concat(Fn.names);function mP(n,e,t,i,s={}){const o=n.textTracks();s.kind=e,t&&(s.label=t),i&&(s.language=i),s.tech=n;const l=new en.text.TrackClass(s);return o.addTrack(l),l}class ut extends Ae{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),en.names.forEach(i=>{const s=en[i];e&&e[s.getterName]&&(this[s.privateName]=e[s.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new en.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(zt(this,function(){const t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,t===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Zn(0,0)}bufferedPercent(){return iA(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Fn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(t=>{const i=this[`${t}Tracks`]()||[];let s=i.length;for(;s--;){const o=i[s];t==="text"&&this.removeRemoteTextTrack(o),i.removeTrack(o)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const i=e[t];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new ri(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Zn(0,0):Zn()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Fn.names.forEach(e=>{const t=Fn[e],i=()=>{this.trigger(`${e}trackchange`)},s=this[t.getterName]();s.addEventListener("removetrack",i),s.addEventListener("addtrack",i),this.on("dispose",()=>{s.removeEventListener("removetrack",i),s.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!te.WebVTT)if(Fe.body.contains(this.el())){if(!this.options_["vtt.js"]&&hu(Yx)&&Object.keys(Yx).length>0){this.trigger("vttjsloaded");return}const e=Fe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),te.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),i=d=>e.addTrack(d.track),s=d=>e.removeTrack(d.track);t.on("addtrack",i),t.on("removetrack",s),this.addWebVttScript_();const o=()=>this.trigger("texttrackchange"),l=()=>{o();for(let d=0;d<e.length;d++){const h=e[d];h.removeEventListener("cuechange",o),h.mode==="showing"&&h.addEventListener("cuechange",o)}};l(),e.addEventListener("change",l),e.addEventListener("addtrack",l),e.addEventListener("removetrack",l),this.on("dispose",function(){t.off("addtrack",i),t.off("removetrack",s),e.removeEventListener("change",l),e.removeEventListener("addtrack",l),e.removeEventListener("removetrack",l);for(let d=0;d<e.length;d++)e[d].removeEventListener("cuechange",o)})}addTextTrack(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return mP(this,e,t,i)}createRemoteTextTrack(e){const t=Pt(e,{tech:this});return new yu.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const i=this.createRemoteTextTrack(e);return typeof t!="boolean"&&(t=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),t===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=qn();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())})):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return ut.canPlayType(e.type)}static isTech(e){return e.prototype instanceof ut||e instanceof ut||e===ut}static registerTech(e,t){if(ut.techs_||(ut.techs_={}),!ut.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!ut.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!ut.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=li(e),ut.techs_[e]=t,ut.techs_[Jl(e)]=t,e!=="Tech"&&ut.defaultTechOrder_.push(e),t}static getTech(e){if(e){if(ut.techs_&&ut.techs_[e])return ut.techs_[e];if(e=li(e),te&&te.videojs&&te.videojs[e])return ft.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),te.videojs[e]}}}en.names.forEach(function(n){const e=en[n];ut.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});ut.prototype.featuresVolumeControl=!0;ut.prototype.featuresMuteControl=!0;ut.prototype.featuresFullscreenResize=!1;ut.prototype.featuresPlaybackRate=!1;ut.prototype.featuresProgressEvents=!1;ut.prototype.featuresSourceset=!1;ut.prototype.featuresTimeupdateEvents=!1;ut.prototype.featuresNativeTextTracks=!1;ut.prototype.featuresVideoFrameCallback=!1;ut.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){let s=n.sourceHandlers;s||(s=n.sourceHandlers=[]),i===void 0&&(i=s.length),s.splice(i,0,t)},n.canPlayType=function(t){const i=n.sourceHandlers||[];let s;for(let o=0;o<i.length;o++)if(s=i[o].canPlayType(t),s)return s;return""},n.selectSourceHandler=function(t,i){const s=n.sourceHandlers||[];let o;for(let l=0;l<s.length;l++)if(o=s[l].canHandleSource(t,i),o)return s[l];return null},n.canPlaySource=function(t,i){const s=n.selectSourceHandler(t,i);return s?s.canHandleSource(t,i):""},["seekable","seeking","duration"].forEach(function(t){const i=this[t];typeof i=="function"&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(t){let i=n.selectSourceHandler(t,this.options_);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:ft.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==n.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ae.registerComponent("Tech",ut);ut.registerTech("Tech",ut);ut.defaultTechOrder_=[];const Va={},lh={},ch={};function gP(n,e){Va[n]=Va[n]||[],Va[n].push(e)}function yP(n,e,t){n.setTimeout(()=>Fa(e,Va[e.type],t,n),1)}function vP(n,e){n.forEach(t=>t.setTech&&t.setTech(e))}function _P(n,e,t){return n.reduceRight(o_(t),e[t]())}function bP(n,e,t,i){return e[t](n.reduce(o_(t),i))}function AE(n,e,t,i=null){const s="call"+li(t),o=n.reduce(o_(s),i),l=o===ch,d=l?null:e[t](o);return xP(n,t,d,l),d}const TP={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},SP={setCurrentTime:1,setMuted:1,setVolume:1},DE={play:1,pause:1};function o_(n){return(e,t)=>e===ch?ch:t[n]?t[n](e):e}function xP(n,e,t,i){for(let s=n.length-1;s>=0;s--){const o=n[s];o[e]&&o[e](i,t)}}function EP(n){lh.hasOwnProperty(n.id())&&delete lh[n.id()]}function CP(n,e){const t=lh[n.id()];let i=null;if(t==null)return i=e(n),lh[n.id()]=[[e,i]],i;for(let s=0;s<t.length;s++){const[o,l]=t[s];o===e&&(i=l)}return i===null&&(i=e(n),t.push([e,i])),i}function Fa(n={},e=[],t,i,s=[],o=!1){const[l,...d]=e;if(typeof l=="string")Fa(n,Va[l],t,i,s,o);else if(l){const h=CP(i,l);if(!h.setSource)return s.push(h),Fa(n,d,t,i,s,o);h.setSource(Object.assign({},n),function(m,b){if(m)return Fa(n,d,t,i,s,o);s.push(h),Fa(b,n.type===b.type?d:Va[b.type],t,i,s,o)})}else d.length?Fa(n,d,t,i,s,o):o?t(n,s):Fa(n,Va["*"],t,i,s,!0)}const wP={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},dh=function(n=""){const e=a_(n);return wP[e.toLowerCase()]||""},AP=(n,e)=>{if(!e)return"";if(n.cache_.source.src===e&&n.cache_.source.type)return n.cache_.source.type;const t=n.cache_.sources.filter(s=>s.src===e);if(t.length)return t[0].type;const i=n.$$("source");for(let s=0;s<i.length;s++){const o=i[s];if(o.type&&o.src&&o.src===e)return o.type}return dh(e)},oA=function(n){if(Array.isArray(n)){let e=[];n.forEach(function(t){t=oA(t),Array.isArray(t)?e=e.concat(t):Dr(t)&&e.push(t)}),n=e}else typeof n=="string"&&n.trim()?n=[OE({src:n})]:Dr(n)&&typeof n.src=="string"&&n.src&&n.src.trim()?n=[OE(n)]:n=[];return n};function OE(n){if(!n.type){const e=dh(n.src);e&&(n.type=e)}return n}var DP=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const RE=rh?10009:sh?461:8,Xo={codes:{play:415,pause:19,ff:417,rw:412,back:RE},names:{415:"play",19:"pause",417:"ff",412:"rw",[RE]:"back"},isEventKey(n,e){return e=e.toLowerCase(),!!(this.names[n.keyCode]&&this.names[n.keyCode]===e)},getEventName(n){if(this.names[n.keyCode])return this.names[n.keyCode];if(this.codes[n.code]){const e=this.codes[n.code];return this.names[e]}return null}},kE=5;class OP extends wn{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();const i=t.key.substring(5).toLowerCase();this.move(i)}else if(Xo.isEventKey(t,"play")||Xo.isEventKey(t,"pause")||Xo.isEventKey(t,"ff")||Xo.isEventKey(t,"rw")){t.preventDefault();const i=Xo.getEventName(t);this.performMediaAction_(i)}else Xo.isEventKey(t,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+kE);break;case"rw":this.userSeek_(this.player_.currentTime()-kE);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const t=e.relatedTarget;let i=null;const s=this.getCurrentComponent(e.target);t&&(i=!!t.closest(".video-js"),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!i||!t)&&(s&&s.name()==="CloseButton"?this.refocusComponent():(this.pause(),s&&s.el()&&(this.lastFocusedComponent_=s)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,t=[];function i(s){for(const o of s)o.hasOwnProperty("el_")&&o.getIsFocusable()&&o.getIsAvailableToBeFocused(o.el())&&t.push(o),o.hasOwnProperty("children_")&&o.children_.length>0&&i(o.children_)}return e.children_.forEach(s=>{if(s.hasOwnProperty("el_"))if(s.getIsFocusable&&s.getIsAvailableToBeFocused&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())){t.push(s);return}else s.hasOwnProperty("children_")&&s.children_.length>0?i(s.children_):s.hasOwnProperty("items")&&s.items.length>0?i(s.items):this.findSuitableDOMChild(s)&&t.push(s);if(s.name_==="ErrorDisplay"&&s.opened_){const o=s.el_.querySelector(".vjs-errors-ok-button-container");o&&o.querySelectorAll("button").forEach((d,h)=>{t.push({name:()=>"ModalButton"+(h+1),el:()=>d,getPositions:()=>{const m=d.getBoundingClientRect(),b={x:m.x,y:m.y,width:m.width,height:m.height,top:m.top,right:m.right,bottom:m.bottom,left:m.left},w={x:m.left+m.width/2,y:m.top+m.height/2,width:0,height:0,top:m.top+m.height/2,right:m.left+m.width/2,bottom:m.top+m.height/2,left:m.left+m.width/2};return{boundingClientRect:b,center:w}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:m=>!0,focus:()=>d.focus()})})}}),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){function t(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let s=0;s<i.children.length;s++){const o=i.children[s],l=t(o);if(l)return l}return null}return e.el()?t(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const t=e||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===t)return i}}add(e){const t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name()){this.focusableComponents.splice(t,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const t=this.getCurrentComponent();if(!t)return;const i=t.getPositions(),s=this.focusableComponents.filter(l=>l!==t&&this.isInDirection_(i.boundingClientRect,l.getPositions().boundingClientRect,e)),o=this.findBestCandidate_(i.center,s,e);o?this.focus(o):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,i){let s=1/0,o=null;for(const l of t){const d=l.getPositions().center,h=this.calculateDistance_(e,d,i);h<s&&(s=h,o=l)}return o}isInDirection_(e,t,i){switch(i){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,i){const s=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);let l;switch(i){case"right":case"left":l=s+o*100;break;case"up":l=o*2+s*.5;break;case"down":l=o*5+s;break;default:l=s+o}return l}searchForTrackSelect_(){const e=this;for(const t of e.updateFocusableComponents())if(t.constructor.name==="TextTrackSelect"){e.focus(t);break}}}class RP extends Ae{constructor(e,t,i){const s=Pt({createEl:!1},t);if(super(e,s,i),!t.playerOptions.sources||t.playerOptions.sources.length===0)for(let o=0,l=t.playerOptions.techOrder;o<l.length;o++){const d=li(l[o]);let h=ut.getTech(d);if(d||(h=Ae.getComponent(d)),h&&h.isSupported()){e.loadTech_(d);break}}else e.src(t.playerOptions.sources)}}Ae.registerComponent("MediaLoader",RP);class Yh extends Ae{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",t={},i={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),e==="button"&&ft.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=t.tabIndex;const s=st(e,t,i);return this.player_.options_.experimentalSvgIcons||s.appendChild(st("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=st("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,Xs(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&t.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ae.registerComponent("ClickableComponent",Yh);class dv extends Yh{constructor(e,t){super(e,t),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return st("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(st("picture",{className:"vjs-poster",tabIndex:-1},{},st("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?xr(this.player_.play()):this.player_.pause())}}dv.prototype.crossorigin=dv.prototype.crossOrigin;Ae.registerComponent("PosterImage",dv);const Bn="#222",ME="#ccc",kP={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function jy(n,e){let t;if(n.length===4)t=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)t=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(t.slice(0,2),16)+","+parseInt(t.slice(2,4),16)+","+parseInt(t.slice(4,6),16)+","+e+")"}function br(n,e,t){try{n.style[e]=t}catch{return}}function LE(n){return n?`${n}px`:""}class MP extends Ae{constructor(e,t,i){super(e,t,i);const s=l=>this.updateDisplay(l),o=l=>{this.updateDisplayOverlay(),this.updateDisplay(l)};e.on("loadstart",l=>this.toggleDisplay(l)),e.on("texttrackchange",s),e.on("loadedmetadata",l=>{this.updateDisplayOverlay(),this.preselectTrack(l)}),e.ready(zt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",o),e.on("playerresize",o);const l=te.screen.orientation||te,d=te.screen.orientation?"change":"orientationchange";l.addEventListener(d,o),e.on("dispose",()=>l.removeEventListener(d,o));const h=this.options_.playerOptions.tracks||[];for(let m=0;m<h.length;m++)this.player_.addRemoteTextTrack(h[m],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let s,o,l;for(let d=0;d<t.length;d++){const h=t[d];i&&i.enabled&&i.language&&i.language===h.language&&h.kind in e?h.kind===i.kind?l=h:l||(l=h):i&&!i.enabled?(l=null,s=null,o=null):h.default&&(h.kind==="descriptions"&&!s?s=h:h.kind in e&&!o&&(o=h))}l?l.mode="showing":o?o.mode="showing":s&&(s.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof te.WebVTT=="function"&&te.WebVTT.processCues(te,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const l=[];for(let d=0;d<e.length;++d){const h=e[d];h.mode==="showing"&&l.push(h)}this.updateForTrack(l);return}let i=null,s=null,o=e.length;for(;o--;){const l=e[o];l.mode==="showing"&&(l.kind==="descriptions"?i=l:s=l)}if(s?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!te.CSS.supports("inset","10px")){const l=this.el_,d=l.querySelectorAll(".vjs-text-track-cue"),h=this.player_.controlBar.el_.getBoundingClientRect().height,m=this.player_.el_.getBoundingClientRect().height;l.style="",br(l,"position","relative"),br(l,"height",m-h+"px"),br(l,"top","unset"),ah?br(l,"bottom",m+"px"):br(l,"bottom","0px"),d.length>0&&d.forEach(b=>{if(b.style.inset){const w=b.style.inset.split(" ");w.length===3&&Object.assign(b.style,{top:w[0],right:w[1],bottom:w[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!te.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),i=e/t,s=this.player_.videoWidth()/this.player_.videoHeight();let o=0,l=0;Math.abs(i-s)>.1&&(i>s?o=Math.round((e-t*s)/2):l=Math.round((t-e/s)/2)),br(this.el_,"insetInline",LE(o)),br(this.el_,"insetBlock",LE(l))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),i=e.activeCues;let s=i.length;for(;s--;){const o=i[s];if(!o)continue;const l=o.displayState;if(t.color&&(l.firstChild.style.color=t.color),t.textOpacity&&br(l.firstChild,"color",jy(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(l.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&br(l.firstChild,"backgroundColor",jy(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?br(l,"backgroundColor",jy(t.windowColor,t.windowOpacity)):l.style.backgroundColor=t.windowColor),t.edgeStyle&&(t.edgeStyle==="dropshadow"?l.firstChild.style.textShadow=`2px 2px 3px ${Bn}, 2px 2px 4px ${Bn}, 2px 2px 5px ${Bn}`:t.edgeStyle==="raised"?l.firstChild.style.textShadow=`1px 1px ${Bn}, 2px 2px ${Bn}, 3px 3px ${Bn}`:t.edgeStyle==="depressed"?l.firstChild.style.textShadow=`1px 1px ${ME}, 0 1px ${ME}, -1px -1px ${Bn}, 0 -1px ${Bn}`:t.edgeStyle==="uniform"&&(l.firstChild.style.textShadow=`0 0 4px ${Bn}, 0 0 4px ${Bn}, 0 0 4px ${Bn}, 0 0 4px ${Bn}`)),t.fontPercent&&t.fontPercent!==1){const d=te.parseFloat(l.style.fontSize);l.style.fontSize=d*t.fontPercent+"px",l.style.height="auto",l.style.top="auto"}t.fontFamily&&t.fontFamily!=="default"&&(t.fontFamily==="small-caps"?l.firstChild.style.fontVariant="small-caps":l.firstChild.style.fontFamily=kP[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof te.WebVTT!="function"||e.every(i=>!i.activeCues))return;const t=[];for(let i=0;i<e.length;++i){const s=e[i];for(let o=0;o<s.activeCues.length;++o)t.push(s.activeCues[o])}te.WebVTT.processCues(te,t,this.el_);for(let i=0;i<e.length;++i){const s=e[i];for(let o=0;o<s.activeCues.length;++o){const l=s.activeCues[o].displayState;Ga(l,"vjs-text-track-cue","vjs-text-track-cue-"+(s.language?s.language:i)),s.language&&fu(l,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}}Ae.registerComponent("TextTrackDisplay",MP);class LP extends Ae{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),i=st("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),s=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(i),s}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ae.registerComponent("LoadingSpinner",LP);class zi extends Yh{createEl(e,t={},i={}){e="button",t=Object.assign({className:this.buildCSSClass()},t),i=Object.assign({type:"button"},i);const s=st(e,t,i);return this.player_.options_.experimentalSvgIcons||s.appendChild(st("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}addChild(e,t={}){const i=this.constructor.name;return ft.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),Ae.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Ae.registerComponent("Button",zi);class uA extends zi{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){xr(t),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),s=i&&i.getChild("playToggle");if(!s){this.player_.tech(!0).focus();return}const o=()=>s.focus();ec(t)?t.then(o,()=>{}):this.setTimeout(o,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}uA.prototype.controlText_="Play Video";Ae.registerComponent("BigPlayButton",uA);class PP extends zi{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ae.registerComponent("CloseButton",PP);class lA extends zi{constructor(e,t={}){super(e,t),t.replay=t.replay===void 0||t.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),t.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?xr(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",t=>this.handleSeeked(t))}}lA.prototype.controlText_="Play";Ae.registerComponent("PlayToggle",lA);class Au extends Ae{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=st("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return t.appendChild(i),this.contentEl_=st("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Xa(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let t=this.textNode_;t&&this.contentEl_.firstChild!==t&&(t=null,ft.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Fe.createTextNode(this.formattedTime_),this.textNode_&&(t?this.contentEl_.replaceChild(this.textNode_,t):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Au.prototype.labelText_="Time";Au.prototype.controlText_="Time";Ae.registerComponent("TimeDisplay",Au);class u_ extends Au{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;this.player_.ended()?t=this.player_.duration():t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}u_.prototype.labelText_="Current Time";u_.prototype.controlText_="Current Time";Ae.registerComponent("CurrentTimeDisplay",u_);class l_ extends Au{constructor(e,t){super(e,t);const i=s=>this.updateContent(s);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}l_.prototype.labelText_="Duration";l_.prototype.controlText_="Duration";Ae.registerComponent("DurationDisplay",l_);class NP extends Ae{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e}}Ae.registerComponent("TimeDivider",NP);class c_ extends Au{constructor(e,t){super(e,t),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(st("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let t;this.player_.ended()?t=0:this.player_.remainingTimeDisplay?t=this.player_.remainingTimeDisplay():t=this.player_.remainingTime(),this.updateTextNode_(t)}}c_.prototype.labelText_="Remaining Time";c_.prototype.controlText_="Remaining Time";Ae.registerComponent("RemainingTimeDisplay",c_);class IP extends Ae{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=st("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(st("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Fe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ae.registerComponent("LiveDisplay",IP);class cA extends zi{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=st("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}cA.prototype.controlText_="Seek to live, currently playing live";Ae.registerComponent("SeekToLive",cA);function _c(n,e,t){return n=Number(n),Math.min(t,Math.max(e,isNaN(n)?e:n))}var BP=Object.freeze({__proto__:null,clamp:_c});class d_ extends Ae{constructor(e,t){super(e,t),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},i={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,t,i)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Or&&e.preventDefault(),Bw(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;Uw(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(_c(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=zh(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){const t=this.options_.playerOptions.spatialNavigation,i=t&&t.enabled,s=t&&t.horizontalSeek;i?s&&e.key==="ArrowLeft"||!s&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):s&&e.key==="ArrowRight"||!s&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ae.registerComponent("Slider",d_);const Hy=(n,e)=>_c(n/e*100,0,100).toFixed(2)+"%";class UP extends Ae{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=st("span",{className:"vjs-control-text"}),i=st("span",{textContent:this.localize("Loaded")}),s=Fe.createTextNode(": ");return this.percentageEl_=st("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(s),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const t=this.player_.liveTracker,i=this.player_.buffered(),s=t&&t.isLive()?t.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),l=this.partEls_,d=Hy(o,s);this.percent_!==d&&(this.el_.style.width=d,Xs(this.percentageEl_,d),this.percent_=d);for(let h=0;h<i.length;h++){const m=i.start(h),b=i.end(h);let w=l[h];w||(w=this.el_.appendChild(st()),l[h]=w),!(w.dataset.start===m&&w.dataset.end===b)&&(w.dataset.start=m,w.dataset.end=b,w.style.left=Hy(m,o),w.style.width=Hy(b-m,o))}for(let h=l.length;h>i.length;h--)this.el_.removeChild(l[h-1]);l.length=i.length})}}Ae.registerComponent("LoadProgressBar",UP);class FP extends Ae{constructor(e,t){super(e,t),this.update=Rr(zt(this,this.update),jn)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,i){const s=ac(this.el_),o=pu(this.player_.el()),l=e.width*t;if(!o||!s)return;let d=e.left-o.left+l,h=e.width-l+(o.right-e.right);h||(h=e.width-l,d=l);let m=s.width/2;d<m?m+=m-d:h<m&&(m=h),m<0?m=0:m>s.width&&(m=s.width),m=Math.round(m),this.el_.style.right=`-${m}px`,this.write(i)}write(e){Xs(this.el_,e)}updateTime(e,t,i,s){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let o;const l=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const d=this.player_.liveTracker.liveWindow(),h=d-t*d;o=(h<1?"":"-")+Xa(h,d)}else o=Xa(i,l);this.update(e,t,o),s&&s()})}}Ae.registerComponent("TimeTooltip",FP);class h_ extends Ae{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=Rr(zt(this,this.update),jn)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const i=this.getChild("timeTooltip");if(!i)return;const s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,s)}}h_.prototype.options_={children:[]};!ji&&!Jn&&h_.prototype.options_.children.push("timeTooltip");Ae.registerComponent("PlayProgressBar",h_);class dA extends Ae{constructor(e,t){super(e,t),this.update=Rr(zt(this,this.update),jn)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,()=>{this.el_.style.left=`${e.width*t}px`})}}dA.prototype.options_={children:["timeTooltip"]};Ae.registerComponent("MouseTimeDisplay",dA);const jd=5,PE=12;class Wh extends d_{constructor(e,t){t=Pt(Wh.prototype.options_,t),t.children=[...t.children];const i=e.options_.disableSeekWhileScrubbingOnMobile&&(ji||Jn);(!ji&&!Jn||i)&&t.children.splice(1,0,"mouseTimeDisplay"),super(e,t),this.shouldDisableSeekWhileScrubbingOnMobile_=i,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=zt(this,this.update),this.update=Rr(this.update_,jn),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.on(Fe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Fe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,jn))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Fe.visibilityState==="hidden")return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),s=this.player_.liveTracker;let o=this.player_.duration();s&&s.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(t*100).toFixed(2)),this.percent_=t),(this.currentTime_!==i||this.duration_!==o)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Xa(i,o),Xa(o,o)],"{1} of {2}")),this.currentTime_=i,this.duration_=o),this.bar&&this.bar.update(pu(this.el()),this.getProgress())}),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let t;const i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){oc(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!oc(e)||isNaN(this.player_.duration()))return;!t&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const s=this.calculateDistance(e),o=this.player_.liveTracker;if(!o||!o.isLive())i=s*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(s>=.99){o.seekToLiveEdge();return}const l=o.seekableStart(),d=o.liveCurrentTime();if(i=l+s*o.liveWindow(),i>=d&&(i=d),i<=l&&(i=l+.1),i===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=i:this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?xr(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+jd)}stepBack(){this.userSeek_(this.player_.currentTime()-jd)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const i=parseInt(e.key,10)*.1;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-jd*PE)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+jd*PE)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.off(Fe,"visibilitychange",this.toggleVisibility_),super.dispose()}}Wh.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};Ae.registerComponent("SeekBar",Wh);class hA extends Ae{constructor(e,t){super(e,t),this.handleMouseMove=Rr(zt(this,this.handleMouseMove),jn),this.throttledHandleMouseSeek=Rr(zt(this,this.handleMouseSeek),jn),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const i=t.getChild("playProgressBar"),s=t.getChild("mouseTimeDisplay");if(!i&&!s)return;const o=t.el(),l=ac(o);let d=zh(o,e).x;d=_c(d,0,1),s&&s.update(l,d),i&&i.update(l,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&xr(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}hA.prototype.options_={children:["seekBar"]};Ae.registerComponent("ProgressControl",hA);class fA extends zi{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Fe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in te?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Fe.exitPictureInPicture=="function"&&super.show()}}fA.prototype.controlText_="Picture-in-Picture";Ae.registerComponent("PictureInPictureToggle",fA);class pA extends zi{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),Fe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}pA.prototype.controlText_="Fullscreen";Ae.registerComponent("FullscreenToggle",pA);const qP=function(n,e){e.tech_&&!e.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};class jP extends Ae{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ae.registerComponent("VolumeLevel",jP);class HP extends Ae{constructor(e,t){super(e,t),this.update=Rr(zt(this,this.update),jn)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,i,s){if(!i){const o=pu(this.el_),l=pu(this.player_.el()),d=e.width*t;if(!l||!o)return;const h=e.left-l.left+d,m=e.width-d+(l.right-e.right);let b=o.width/2;h<b?b+=b-h:m<b&&(b=m),b<0?b=0:b>o.width&&(b=o.width),this.el_.style.right=`-${b}px`}this.write(`${s}%`)}write(e){Xs(this.el_,e)}updateVolume(e,t,i,s,o){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,t,i,s.toFixed(0)),o&&o()})}}Ae.registerComponent("VolumeLevelTooltip",HP);class mA extends Ae{constructor(e,t){super(e,t),this.update=Rr(zt(this,this.update),jn)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,i){const s=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,s,()=>{i?this.el_.style.bottom=`${e.height*t}px`:this.el_.style.left=`${e.width*t}px`})}}mA.prototype.options_={children:["volumeLevelTooltip"]};Ae.registerComponent("MouseVolumeLevelDisplay",mA);class Qh extends d_{constructor(e,t){super(e,t),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){oc(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const i=this.el(),s=pu(i),o=this.vertical();let l=zh(i,e);l=o?l.y:l.x,l=_c(l,0,1),t.update(s,l,o)}oc(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Qh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ji&&!Jn&&Qh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Qh.prototype.playerEvent="volumechange";Ae.registerComponent("VolumeBar",Qh);class gA extends Ae{constructor(e,t={}){t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||hu(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),qP(this,e),this.throttledHandleMouseMove=Rr(zt(this,this.handleMouseMove),jn),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}gA.prototype.options_={children:["volumeBar"]};Ae.registerComponent("VolumeControl",gA);const zP=function(n,e){e.tech_&&!e.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};class yA extends zi{constructor(e,t){super(e,t),zP(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),i=this.player_.lastVolume_();if(t===0){const s=i<.1?.1:i;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),ji&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),jh(this.el_,[0,1,2,3].reduce((i,s)=>i+`${s?" ":""}vjs-vol-${s}`,"")),Ga(this.el_,`vjs-vol-${t}`)}updateControlText_(){const t=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)}}yA.prototype.controlText_="Mute";Ae.registerComponent("MuteToggle",yA);class vA extends Ae{constructor(e,t={}){typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||hu(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Cn(Fe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Hi(Fe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}vA.prototype.options_={children:["muteToggle","volumeControl"]};Ae.registerComponent("VolumePanel",vA);class _A extends zi{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),i=this.player_.liveTracker,s=i&&i.isLive()?i.seekableEnd():this.player_.duration();let o;t+this.skipTime<=s?o=t+this.skipTime:o=s,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}_A.prototype.controlText_="Skip Forward";Ae.registerComponent("SkipForward",_A);class bA extends zi{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),i=this.player_.liveTracker,s=i&&i.isLive()&&i.seekableStart();let o;s&&t-this.skipTime<=s?o=s:t>=this.skipTime?o=t-this.skipTime:o=0,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}bA.prototype.controlText_="Skip Backward";Ae.registerComponent("SkipBackward",bA);class TA extends Ae{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof Ae&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ae&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=st(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Cn(t,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||Fe.activeElement;if(!this.children().some(i=>i.el()===t)){const i=this.menuButton_;i&&i.buttonPressed_&&t!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const i=t.filter(s=>s.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}Ae.registerComponent("Menu",TA);class f_ extends Ae{constructor(e,t={}){super(e,t),this.menuButton_=new zi(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=zi.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=o=>this.handleClick(o);this.handleMenuKeyUp_=o=>this.handleMenuKeyUp(o),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",o=>this.handleKeyDown(o)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Cn(Fe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",o=>this.handleMouseLeave(o)),this.on("keydown",o=>this.handleSubmenuKeyDown(o))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new TA(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=st("li",{className:"vjs-menu-title",textContent:li(this.options_.title),tabIndex:-1}),i=new Ae(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const t=zi.prototype.buildCSSClass();return`vjs-menu-button ${e} ${t} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Hi(Fe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ji&&Mw())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ae.registerComponent("MenuButton",f_);class p_ extends f_{constructor(e,t){const i=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!i)return;const s=zt(this,this.update);i.addEventListener("removetrack",s),i.addEventListener("addtrack",s),i.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){i.removeEventListener("removetrack",s),i.removeEventListener("addtrack",s),i.removeEventListener("labelchange",s)})}}Ae.registerComponent("TrackButton",p_);class bc extends Yh{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,i){this.nonIconControl=!0;const s=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),i),o=st("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?s.appendChild(o):s.replaceChild(o,s.querySelector(".vjs-icon-placeholder")),s}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ae.registerComponent("MenuItem",bc);class Tc extends bc{constructor(e,t){const i=t.track,s=e.textTracks();t.label=i.label||i.language||"Unknown",t.selected=i.mode==="showing",super(e,t),this.track=i,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const o=(...d)=>{this.handleTracksChange.apply(this,d)},l=(...d)=>{this.handleSelectedLanguageChange.apply(this,d)};if(e.on(["loadstart","texttrackchange"],o),s.addEventListener("change",o),s.addEventListener("selectedlanguagechange",l),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],o),s.removeEventListener("change",o),s.removeEventListener("selectedlanguagechange",l)}),s.onchange===void 0){let d;this.on(["tap","click"],function(){if(typeof te.Event!="object")try{d=new te.Event("change")}catch{}d||(d=Fe.createEvent("Event"),d.initEvent("change",!0,!0)),s.dispatchEvent(d)})}this.handleTracksChange()}handleClick(e){const t=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let s=0;s<i.length;s++){const o=i[s];this.kinds.indexOf(o.kind)!==-1&&(o===t?o.mode!=="showing"&&(o.mode="showing"):o.mode!=="disabled"&&(o.mode="disabled"))}}handleTracksChange(e){const t=this.track.mode==="showing";t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ae.registerComponent("TextTrackMenuItem",Tc);class SA extends Tc{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let i=!0;for(let s=0,o=t.length;s<o;s++){const l=t[s];if(this.options_.kinds.indexOf(l.kind)>-1&&l.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let i=!0;for(let s=0,o=t.length;s<o;s++){const l=t[s];if(["captions","descriptions","subtitles"].indexOf(l.kind)>-1&&l.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ae.registerComponent("OffTextTrackMenuItem",SA);class Du extends p_{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=Tc){let i;this.label_&&(i=`${this.label_} off`),e.push(new SA(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let o=0;o<s.length;o++){const l=s[o];if(this.kinds_.indexOf(l.kind)>-1){const d=new t(this.player_,{track:l,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass(`vjs-${l.kind}-menu-item`),e.push(d)}}return e}}Ae.registerComponent("TextTrackButton",Du);class xA extends bc{constructor(e,t){const i=t.track,s=t.cue,o=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=s.text,t.selected=s.startTime<=o&&o<s.endTime,super(e,t),this.track=i,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ae.registerComponent("ChaptersTrackMenuItem",xA);class m_ extends Du{constructor(e,t,i){super(e,t,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(s=>{s.selected(this.track_.activeCues[0]===s.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const i=e[t];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(li(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let i=0,s=t.length;i<s;i++){const o=t[i],l=new xA(this.player_,{track:this.track_,cue:o});e.push(l)}return e}}m_.prototype.kind_="chapters";m_.prototype.controlText_="Chapters";Ae.registerComponent("ChaptersButton",m_);class g_ extends Du{constructor(e,t,i){super(e,t,i),this.setIcon("audio-description");const s=e.textTracks(),o=zt(this,this.handleTracksChange);s.addEventListener("change",o),this.on("dispose",function(){s.removeEventListener("change",o)})}handleTracksChange(e){const t=this.player().textTracks();let i=!1;for(let s=0,o=t.length;s<o;s++){const l=t[s];if(l.kind!==this.kind_&&l.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}g_.prototype.kind_="descriptions";g_.prototype.controlText_="Descriptions";Ae.registerComponent("DescriptionsButton",g_);class y_ extends Du{constructor(e,t,i){super(e,t,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}y_.prototype.kind_="subtitles";y_.prototype.controlText_="Subtitles";Ae.registerComponent("SubtitlesButton",y_);class v_ extends Tc{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ae.registerComponent("CaptionSettingsMenuItem",v_);class __ extends Du{constructor(e,t,i){super(e,t,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new v_(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}__.prototype.kind_="captions";__.prototype.controlText_="Captions";Ae.registerComponent("CaptionsButton",__);class EA extends Tc{createEl(e,t,i){const s=super.createEl(e,t,i),o=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",s):o.appendChild(st("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(st("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),s}}Ae.registerComponent("SubsCapsMenuItem",EA);class b_ extends Du{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(li(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new v_(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,EA),e}}b_.prototype.kinds_=["captions","subtitles"];b_.prototype.controlText_="Subtitles";Ae.registerComponent("SubsCapsButton",b_);class CA extends bc{constructor(e,t){const i=t.track,s=e.audioTracks();t.label=i.label||i.language||"Unknown",t.selected=i.enabled,super(e,t),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const o=(...l)=>{this.handleTracksChange.apply(this,l)};s.addEventListener("change",o),this.on("dispose",()=>{s.removeEventListener("change",o)})}createEl(e,t,i){const s=super.createEl(e,t,i),o=s.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(o.appendChild(st("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(st("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),s}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const t=this.player_.audioTracks();for(let i=0;i<t.length;i++){const s=t[i];s!==this.track&&(s.enabled=s===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ae.registerComponent("AudioTrackMenuItem",CA);class wA extends p_{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let i=0;i<t.length;i++){const s=t[i];e.push(new CA(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e}}wA.prototype.controlText_="Audio Track";Ae.registerComponent("AudioTrackButton",wA);class T_ extends bc{constructor(e,t){const i=t.rate,s=parseFloat(i,10);t.label=i,t.selected=s===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=i,this.rate=s,this.on(e,"ratechange",o=>this.update(o))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}T_.prototype.contentElType="button";Ae.registerComponent("PlaybackRateMenuItem",T_);class AA extends f_{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=st("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let i=e.length-1;i>=0;i--)t.push(new T_(this.player(),{rate:e[i]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}AA.prototype.controlText_="Playback Rate";Ae.registerComponent("PlaybackRateMenuButton",AA);class DA extends Ae{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},i={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,i)}}Ae.registerComponent("Spacer",DA);class GP extends DA{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Ae.registerComponent("CustomControlSpacer",GP);class OA extends Ae{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}OA.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Ae.registerComponent("ControlBar",OA);class RA extends wu{constructor(e,t){super(e,t),this.on(e,"error",i=>{this.open(i)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}RA.prototype.options_=Object.assign({},wu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ae.registerComponent("ErrorDisplay",RA);class kA extends Ae{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),st("select",{id:this.options_.id},{},this.options_.SelectOptions.map(t=>{const i=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${qn()}`)+"-"+t[1].replace(/\W+/g,""),s=st("option",{id:i,value:this.localize(t[0]),textContent:this.localize(t[1])});return s.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${i}`),s}))}}Ae.registerComponent("TextTrackSelect",kA);class $a extends Ae{constructor(e,t={}){super(e,t);const i=st("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const s=this.options_.selects;for(const o of s){const l=this.options_.selectConfigs[o],d=l.className,h=l.id.replace("%s",this.options_.id_);let m=null;const b=`vjs_select_${qn()}`;if(this.options_.type==="colors"){m=st("span",{className:d});const L=st("label",{id:h,className:"vjs-label",textContent:this.localize(l.label)});L.setAttribute("for",b),m.appendChild(L)}const w=new kA(e,{SelectOptions:l.options,legendId:this.options_.legendId,id:b,labelId:h});this.addChild(w),this.options_.type==="colors"&&(m.appendChild(w.el()),this.el().appendChild(m))}}createEl(){return st("fieldset",{className:this.options_.className})}}Ae.registerComponent("TextTrackFieldset",$a);class MA extends Ae{constructor(e,t={}){super(e,t);const i=this.options_.textTrackComponentid,s=new $a(e,{id_:i,legendId:`captions-text-legend-${i}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const o=new $a(e,{id_:i,legendId:`captions-background-${i}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o);const l=new $a(e,{id_:i,legendId:`captions-window-${i}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(l)}createEl(){return st("div",{className:"vjs-track-settings-colors"})}}Ae.registerComponent("TextTrackSettingsColors",MA);class LA extends Ae{constructor(e,t={}){super(e,t);const i=this.options_.textTrackComponentid,s=new $a(e,{id_:i,legendId:`captions-font-size-${i}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const o=new $a(e,{id_:i,legendId:`captions-edge-style-${i}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o);const l=new $a(e,{id_:i,legendId:`captions-font-family-${i}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(l)}createEl(){return st("div",{className:"vjs-track-settings-font"})}}Ae.registerComponent("TextTrackSettingsFont",LA);class PA extends Ae{constructor(e,t={}){super(e,t);const i=this.localize("restore all settings to the default values"),s=new zi(e,{controlText:i,className:"vjs-default-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Reset"),this.addChild(s);const o=new zi(e,{controlText:i,className:"vjs-done-button"});o.el().classList.remove("vjs-control","vjs-button"),o.el().textContent=this.localize("Done"),this.addChild(o)}createEl(){return st("div",{className:"vjs-track-settings-controls"})}}Ae.registerComponent("TrackSettingsControls",PA);const zy="vjs-text-track-settings",NE=["#000","Black"],IE=["#00F","Blue"],BE=["#0FF","Cyan"],UE=["#0F0","Green"],FE=["#F0F","Magenta"],qE=["#F00","Red"],jE=["#FFF","White"],HE=["#FF0","Yellow"],Gy=["1","Opaque"],Vy=["0.5","Semi-Transparent"],zE=["0","Transparent"],Gs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[NE,jE,qE,UE,IE,HE,FE,BE],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Gy,Vy,zE],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[jE,NE,qE,UE,IE,HE,FE,BE],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:n=>n==="1.00"?null:Number(n)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Gy,Vy],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[zE,Vy,Gy],className:"vjs-window-opacity vjs-opacity"}};Gs.windowColor.options=Gs.backgroundColor.options;function NA(n,e){if(e&&(n=e(n)),n&&n!=="none")return n}function VP(n,e){const t=n.options[n.options.selectedIndex].value;return NA(t,e)}function $P(n,e,t){if(e){for(let i=0;i<n.options.length;i++)if(NA(n.options[i].value,t)===e){n.selectedIndex=i;break}}}class KP extends wu{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=st("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),t.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const t=new MA(e,{textTrackComponentid:this.id_,selectConfigs:Gs,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);const i=new LA(e,{textTrackComponentid:this.id_,selectConfigs:Gs,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const s=new PA(e);this.addChild(s)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Jo(Gs,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Cw(Gs,(e,t,i)=>{const s=VP(this.$(t.selector),t.parser);return s!==void 0&&(e[i]=s),e},{})}setValues(e){Jo(Gs,(t,i)=>{$P(this.$(t.selector),e[i],t.parser)})}setDefaults(){Jo(Gs,e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t})}restoreSettings(){let e;try{e=JSON.parse(te.localStorage.getItem(zy))}catch(t){ft.warn(t)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?te.localStorage.setItem(zy,JSON.stringify(e)):te.localStorage.removeItem(zy)}catch(t){ft.warn(t)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Ae.registerComponent("TextTrackSettings",KP);class XP extends Ae{constructor(e,t){let i=t.ResizeObserver||te.ResizeObserver;t.ResizeObserver===null&&(i=!1);const s=Pt({createEl:!i,reportTouchActivity:!1},t);super(e,s),this.ResizeObserver=t.ResizeObserver||te.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Xw(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const o=this.debouncedHandler_;let l=this.unloadListener_=function(){Hi(this,"resize",o),Hi(this,"unload",l),l=null};Cn(this.el_.contentWindow,"unload",l),Cn(this.el_.contentWindow,"resize",o)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ae.registerComponent("ResizeManager",XP);const YP={trackingThreshold:20,liveTolerance:15};class WP extends Ae{constructor(e,t){const i=Pt(YP,t,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=s=>this.handlePlay(s),this.handleFirstTimeupdate_=s=>this.handleFirstTimeupdate(s),this.handleSeeked_=s=>this.handleSeeked(s),this.seekToLiveEdge_=s=>this.seekToLiveEdge(s),this.reset_(),this.on(this.player_,"durationchange",s=>this.handleDurationchange(s)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(te.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;const s=this.liveCurrentTime(),o=this.player_.currentTime();let l=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-o)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(l=!1),l!==this.behindLiveEdge_&&(this.behindLiveEdge_=l,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,jn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ae.registerComponent("LiveTracker",WP);class QP extends Ae{constructor(e,t){super(e,t),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:st("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${qn()}`}),description:st("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${qn()}`})},st("div",{className:"vjs-title-bar"},{},ww(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(s=>{const o=this.state[s],l=this.els[s],d=i[s];Gh(l),o&&Xs(l,o),t&&(t.removeAttribute(d),o&&t.setAttribute(d,l.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ae.registerComponent("TitleBar",QP);const ZP={initialDisplay:4e3,position:[],takeFocus:!1};class JP extends zi{constructor(e,t){t=Pt(ZP,t),super(e,t),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=st("button",{},{type:"button",class:this.buildCSSClass()},st("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Ae.registerComponent("TransientButton",JP);const hv=n=>{const e=n.el();if(e.hasAttribute("src"))return n.triggerSourceset(e.src),!0;const t=n.$$("source"),i=[];let s="";if(!t.length)return!1;for(let o=0;o<t.length;o++){const l=t[o].src;l&&i.indexOf(l)===-1&&i.push(l)}return i.length?(i.length===1&&(s=i[0]),n.triggerSourceset(s),!0):!1},eN=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(n){const e=Fe.createElement(this.nodeName.toLowerCase());e.innerHTML=n;const t=Fe.createDocumentFragment();for(;e.childNodes.length;)t.appendChild(e.childNodes[0]);return this.innerText="",te.Element.prototype.appendChild.call(this,t),this.innerHTML}}),IA=(n,e)=>{let t={};for(let i=0;i<n.length&&(t=Object.getOwnPropertyDescriptor(n[i],e),!(t&&t.set&&t.get));i++);return t.enumerable=!0,t.configurable=!0,t},tN=n=>IA([n.el(),te.HTMLMediaElement.prototype,te.Element.prototype,eN],"innerHTML"),GE=function(n){const e=n.el();if(e.resetSourceWatch_)return;const t={},i=tN(n),s=o=>(...l)=>{const d=o.apply(e,l);return hv(n),d};["append","appendChild","insertAdjacentHTML"].forEach(o=>{e[o]&&(t[o]=e[o],e[o]=s(t[o]))}),Object.defineProperty(e,"innerHTML",Pt(i,{set:s(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(t).forEach(o=>{e[o]=t[o]}),Object.defineProperty(e,"innerHTML",i)},n.one("sourceset",e.resetSourceWatch_)},iN=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?rA(te.Element.prototype.getAttribute.call(this,"src")):""},set(n){return te.Element.prototype.setAttribute.call(this,"src",n),n}}),nN=n=>IA([n.el(),te.HTMLMediaElement.prototype,iN],"src"),rN=function(n){if(!n.featuresSourceset)return;const e=n.el();if(e.resetSourceset_)return;const t=nN(n),i=e.setAttribute,s=e.load;Object.defineProperty(e,"src",Pt(t,{set:o=>{const l=t.set.call(e,o);return n.triggerSourceset(e.src),l}})),e.setAttribute=(o,l)=>{const d=i.call(e,o,l);return/src/i.test(o)&&n.triggerSourceset(e.src),d},e.load=()=>{const o=s.call(e);return hv(n)||(n.triggerSourceset(""),GE(n)),o},e.currentSrc?n.triggerSourceset(e.currentSrc):hv(n)||GE(n),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=s,e.setAttribute=i,Object.defineProperty(e,"src",t),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Xe extends ut{constructor(e,t){super(e,t);const i=e.source;let s=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const o=this.el_.childNodes;let l=o.length;const d=[];for(;l--;){const h=o[l];h.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(h),this.remoteTextTracks().addTrack(h.track),this.textTracks().addTrack(h.track),!s&&!this.el_.hasAttribute("crossorigin")&&Xh(h.src)&&(s=!0)):d.push(h))}for(let h=0;h<d.length;h++)this.el_.removeChild(d[h])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&s&&ft.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(sc||Fh)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Xe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){rN(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const i=()=>{t=[];for(let o=0;o<e.length;o++){const l=e[o];l.kind==="metadata"&&t.push({track:l,storedMode:l.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const s=()=>{for(let o=0;o<t.length;o++){const l=t[o];l.track.mode==="disabled"&&l.track.mode!==l.storedMode&&(l.track.mode=l.storedMode)}e.removeEventListener("change",s)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",s),e.addEventListener("change",s)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",s)})}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(s=>{this.el()[`${i}Tracks`].removeEventListener(s,this[`${i}TracksListeners_`][s])}),this[`featuresNative${e}Tracks`]=!t,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=Fn[e],i=this.el()[t.getterName],s=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!i||!i.addEventListener)return;const o={change:d=>{const h={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(h),e==="text"&&this[yu.remoteText.getterName]().trigger(h)},addtrack(d){s.addTrack(d.track)},removetrack(d){s.removeTrack(d.track)}},l=function(){const d=[];for(let h=0;h<s.length;h++){let m=!1;for(let b=0;b<i.length;b++)if(i[b]===s[h]){m=!0;break}m||d.push(s[h])}for(;d.length;)s.removeTrack(d.shift())};this[t.getterName+"Listeners_"]=o,Object.keys(o).forEach(d=>{const h=o[d];i.addEventListener(d,h),this.on("dispose",m=>i.removeEventListener(d,h))}),this.on("loadstart",l),this.on("dispose",d=>this.off("loadstart",l))}proxyNativeTracks_(){Fn.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),Xe.disposeMediaElement(e),e=i}else{e=Fe.createElement("video");const i=this.options_.tag&&zs(this.options_.tag),s=Pt({},i);(!sc||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,Nw(e,Object.assign(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&fu(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let i=0;i<t.length;i++){const s=t[i],o=this.options_[s];typeof o<"u"&&(o?fu(e,s,s):Hh(e,s),e[s]=o)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const s=function(){i=!0};this.on("loadstart",s);const o=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),i||this.trigger("loadstart")});return}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready(function(){t.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&qh?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){ft(t,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Jn&&Or&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)xr(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return ft.error("Invalid source URL."),!1;const i={src:e};t&&(i.type=t);const s=st("source",{},i);return this.el_.appendChild(s),!0}removeSourceElement(e){if(!e)return ft.error("Source URL is required to remove the source element."),!1;const t=this.el_.querySelectorAll("source");for(const i of t)if(i.src===e)return this.el_.removeChild(i),!0;return ft.warn(`No matching source element found with src: ${e}`),!1}reset(){Xe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):super.addTextTrack(e,t,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=Fe.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const i=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let i=t.length;for(;i--;)(e===t[i]||e===t[i].track)&&this.el().removeChild(t[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),te.performance&&(e.creationTime=te.performance.now()),e}}Ih(Xe,"TEST_VID",function(){if(!xu())return;const n=Fe.createElement("video"),e=Fe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",n.appendChild(e),n});Xe.isSupported=function(){try{Xe.TEST_VID.volume=.5}catch{return!1}return!!(Xe.TEST_VID&&Xe.TEST_VID.canPlayType)};Xe.canPlayType=function(n){return Xe.TEST_VID.canPlayType(n)};Xe.canPlaySource=function(n,e){return Xe.canPlayType(n.type)};Xe.canControlVolume=function(){try{const n=Xe.TEST_VID.volume;Xe.TEST_VID.volume=n/2+.1;const e=n!==Xe.TEST_VID.volume;return e&&ji?(te.setTimeout(()=>{Xe&&Xe.prototype&&(Xe.prototype.featuresVolumeControl=n!==Xe.TEST_VID.volume)}),!1):e}catch{return!1}};Xe.canMuteVolume=function(){try{const n=Xe.TEST_VID.muted;return Xe.TEST_VID.muted=!n,Xe.TEST_VID.muted?fu(Xe.TEST_VID,"muted","muted"):Hh(Xe.TEST_VID,"muted","muted"),n!==Xe.TEST_VID.muted}catch{return!1}};Xe.canControlPlaybackRate=function(){if(Jn&&Or&&Bh<58)return!1;try{const n=Xe.TEST_VID.playbackRate;return Xe.TEST_VID.playbackRate=n/2+.1,n!==Xe.TEST_VID.playbackRate}catch{return!1}};Xe.canOverrideAttributes=function(){try{const n=()=>{};Object.defineProperty(Fe.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(Fe.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(Fe.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(Fe.createElement("audio"),"innerHTML",{get:n,set:n})}catch{return!1}return!0};Xe.supportsNativeTextTracks=function(){return qh||ji&&Or};Xe.supportsNativeVideoTracks=function(){return!!(Xe.TEST_VID&&Xe.TEST_VID.videoTracks)};Xe.supportsNativeAudioTracks=function(){return!!(Xe.TEST_VID&&Xe.TEST_VID.audioTracks)};Xe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([n,e]){Ih(Xe.prototype,n,()=>Xe[e](),!0)});Xe.prototype.featuresVolumeControl=Xe.canControlVolume();Xe.prototype.movingMediaElementInDOM=!ji;Xe.prototype.featuresFullscreenResize=!0;Xe.prototype.featuresProgressEvents=!0;Xe.prototype.featuresTimeupdateEvents=!0;Xe.prototype.featuresVideoFrameCallback=!!(Xe.TEST_VID&&Xe.TEST_VID.requestVideoFrameCallback);Xe.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()}};Xe.resetMediaElement=function(n){if(!n)return;const e=n.querySelectorAll("source");let t=e.length;for(;t--;)n.removeChild(e[t]);n.removeAttribute("src"),typeof n.load=="function"&&function(){try{n.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){Xe.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){Xe.prototype["set"+li(n)]=function(e){this.el_[n]=e,e?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(n){Xe.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(n){Xe.prototype["set"+li(n)]=function(e){this.el_[n]=e}});["pause","load","play"].forEach(function(n){Xe.prototype[n]=function(){return this.el_[n]()}});ut.withSourceHandlers(Xe);Xe.nativeSourceHandler={};Xe.nativeSourceHandler.canPlayType=function(n){try{return Xe.TEST_VID.canPlayType(n)}catch{return""}};Xe.nativeSourceHandler.canHandleSource=function(n,e){if(n.type)return Xe.nativeSourceHandler.canPlayType(n.type);if(n.src){const t=a_(n.src);return Xe.nativeSourceHandler.canPlayType(`video/${t}`)}return""};Xe.nativeSourceHandler.handleSource=function(n,e,t){e.setSrc(n.src)};Xe.nativeSourceHandler.dispose=function(){};Xe.registerSourceHandler(Xe.nativeSourceHandler);ut.registerTech("Html5",Xe);const BA=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],$y={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},fv=["tiny","xsmall","small","medium","large","xlarge","huge"],Yd={};fv.forEach(n=>{const e=n.charAt(0)==="x"?`x-${n.substring(1)}`:n;Yd[n]=`vjs-layout-${e}`});const sN={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class $t extends Ae{constructor(e,t,i){if(e.id=e.id||t.id||`vjs_video_${qn()}`,t=Object.assign($t.getTagSettings(e),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const l=e.closest("[lang]");l&&(t.language=l.getAttribute("lang"))}if(super(null,t,i),this.boundDocumentFullscreenChange_=l=>this.documentFullscreenChange_(l),this.boundFullWindowOnEscKey_=l=>this.fullWindowOnEscKey(l),this.boundUpdateStyleEl_=l=>this.updateStyleEl_(l),this.boundApplyInitTime_=l=>this.applyInitTime_(l),this.boundUpdateCurrentBreakpoint_=l=>this.updateCurrentBreakpoint_(l),this.boundHandleTechClick_=l=>this.handleTechClick_(l),this.boundHandleTechDoubleClick_=l=>this.handleTechDoubleClick_(l),this.boundHandleTechTouchStart_=l=>this.handleTechTouchStart_(l),this.boundHandleTechTouchMove_=l=>this.handleTechTouchMove_(l),this.boundHandleTechTouchEnd_=l=>this.handleTechTouchEnd_(l),this.boundHandleTechTap_=l=>this.handleTechTap_(l),this.boundUpdatePlayerHeightOnAudioOnlyMode_=l=>this.updatePlayerHeightOnAudioOnlyMode_(l),this.isFullscreen_=!1,this.log=xw(this.id_),this.fsApi_=th,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&zs(e),this.language(this.options_.language),t.languages){const l={};Object.getOwnPropertyNames(t.languages).forEach(function(d){l[d.toLowerCase()]=t.languages[d]}),this.languages_=l}else this.languages_=$t.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(l=>{if(typeof this[l]!="function")throw new Error(`plugin "${l}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),i_(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Cn(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const s=Pt(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach(l=>{this[l](t.plugins[l])}),t.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const d=new te.DOMParser().parseFromString(DP,"image/svg+xml");if(d.querySelector("parsererror"))ft.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const m=d.documentElement;m.style.display="none",this.el_.appendChild(m),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new OP(this),this.addClass("vjs-spatial-navigation-enabled")),sc&&this.addClass("vjs-touch-enabled"),ji||this.addClass("vjs-workinghover"),$t.players[this.id_]=this;const o=nv.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",l=>this.listenForUserActivity_(l)),this.on("keydown",l=>this.handleKeyDown(l)),this.on("languagechange",l=>this.handleLanguagechange(l)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Hi(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Hi(Fe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),$t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),EP(this),en.names.forEach(e=>{const t=en[e],i=this[t.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,t,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const s=this.tag.tagName.toLowerCase()==="video-js";i?t=this.el_=e.parentNode:s||(t=this.el_=super.createEl("div"));const o=zs(e);if(s){for(t=this.el_=e,e=this.tag=Fe.createElement("video");t.children.length;)e.appendChild(t.firstChild);Zl(t,"video-js")||Ga(t,"video-js"),t.appendChild(e),i=this.playerElIngest_=t,Object.keys(t).forEach(h=>{try{e[h]=t[h]}catch{}})}e.setAttribute("tabindex","-1"),o.tabindex="-1",Or&&Uh&&(e.setAttribute("role","application"),o.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(h){s&&h==="class"||t.setAttribute(h,o[h]),s&&e.setAttribute(h,o[h])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused");const l=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(h=>kw[h]).map(h=>"vjs-device-"+h.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...l),te.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=$w("vjs-styles-dimensions");const h=$s(".vjs-styles-defaults"),m=$s("head");m.insertBefore(this.styleEl_,h?h.nextSibling:m.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const d=e.getElementsByTagName("a");for(let h=0;h<d.length;h++){const m=d.item(h);Ga(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(t,e),sv(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){ft.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const i=e+"_";if(t===void 0)return this[i]||0;if(t===""||t==="auto"){this[i]=void 0,this.updateStyleEl_();return}const s=parseFloat(t);if(isNaN(s)){ft.error(`Improper value "${t}" supplied for for ${e}`);return}this[i]=s,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,rs(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),eP(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(te.VIDEOJS_NO_DYNAMIC_STYLE===!0){const d=typeof this.width_=="number"?this.width_:this.options_.width,h=typeof this.height_=="number"?this.height_:this.options_.height,m=this.tech_&&this.tech_.el();m&&(d>=0&&(m.width=d),h>=0&&(m.height=h));return}let e,t,i,s;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const o=i.split(":"),l=o[1]/o[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/l:e=this.videoWidth()||300,this.height_!==void 0?t=this.height_:t=e*l,/^[^a-zA-Z]/.test(this.id())?s="dimensions-"+this.id():s=this.id()+"-dimensions",this.addClass(s),Kw(this.styleEl_,`
      .${s} {
        width: ${e}px;
        height: ${t}px;
      }

      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${l*100}%;
      }
    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const i=li(e),s=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(ut.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let o=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(o=!1);const l={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};en.names.forEach(h=>{const m=en[h];l[m.getterName]=this[m.privateName]}),Object.assign(l,this.options_[i]),Object.assign(l,this.options_[s]),Object.assign(l,this.options_[e.toLowerCase()]),this.tag&&(l.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(l.startTime=this.cache_.currentTime);const d=ut.getTech(e);if(!d)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new d(l),this.tech_.ready(zt(this,this.handleTechReady_),!0),xE.jsonToTextTracks(this.textTracksJson_||[],this.tech_),BA.forEach(h=>{this.on(this.tech_,h,m=>this[`handleTech${li(h)}_`](m))}),Object.keys($y).forEach(h=>{this.on(this.tech_,h,m=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${$y[h]}_`].bind(this),event:m});return}this[`handleTech${$y[h]}_`](m)})}),this.on(this.tech_,"loadstart",h=>this.handleTechLoadStart_(h)),this.on(this.tech_,"sourceset",h=>this.handleTechSourceset_(h)),this.on(this.tech_,"waiting",h=>this.handleTechWaiting_(h)),this.on(this.tech_,"ended",h=>this.handleTechEnded_(h)),this.on(this.tech_,"seeking",h=>this.handleTechSeeking_(h)),this.on(this.tech_,"play",h=>this.handleTechPlay_(h)),this.on(this.tech_,"pause",h=>this.handleTechPause_(h)),this.on(this.tech_,"durationchange",h=>this.handleTechDurationChange_(h)),this.on(this.tech_,"fullscreenchange",(h,m)=>this.handleTechFullscreenChange_(h,m)),this.on(this.tech_,"fullscreenerror",(h,m)=>this.handleTechFullscreenError_(h,m)),this.on(this.tech_,"enterpictureinpicture",h=>this.handleTechEnterPictureInPicture_(h)),this.on(this.tech_,"leavepictureinpicture",h=>this.handleTechLeavePictureInPicture_(h)),this.on(this.tech_,"error",h=>this.handleTechError_(h)),this.on(this.tech_,"posterchange",h=>this.handleTechPosterChange_(h)),this.on(this.tech_,"textdata",h=>this.handleTechTextData_(h)),this.on(this.tech_,"ratechange",h=>this.handleTechRateChange_(h)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&sv(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){en.names.forEach(e=>{const t=en[e];this[t.privateName]=this[t.getterName]()}),this.textTracksJson_=xE.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&ft.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":nv}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const t=()=>{const s=this.muted();this.muted(!0);const o=()=>{this.muted(s)};this.playTerminatedQueue_.push(o);const l=this.play();if(ec(l))return l.catch(d=>{throw o(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${d||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),ec(i)&&(i=i.catch(t))):e==="muted"&&!this.muted()?i=t():i=this.play(),!!ec(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let t=e,i="";typeof t!="string"&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=AP(this,t)),this.cache_.source=Pt({},e,{src:t,type:i});const s=this.cache_.sources.filter(h=>h.src&&h.src===t),o=[],l=this.$$("source"),d=[];for(let h=0;h<l.length;h++){const m=zs(l[h]);o.push(m),m.src&&m.src===t&&d.push(m.src)}d.length&&!s.length?this.cache_.sources=o:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=o=>this.updateSourceCaches_(o);const i=this.currentSource().src,s=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==i)&&(t=()=>{}),t(s),e.src||this.tech_.any(["sourceset","loadstart"],o=>{if(o.type==="sourceset")return;const l=this.techGet_("currentSrc");this.lastSource_.tech=l,this.updateSourceCaches_(l)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?xr(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Fe.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const i=this.el();let s=Fe[this.fsApi_.fullscreenElement]===i;!s&&i.matches&&(s=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready(function(){if(e in SP)return bP(this.middleware_,this.tech_,e,t);if(e in DE)return AE(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(i){throw ft(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in TP)return _P(this.middleware_,this.tech_,e);if(e in DE)return AE(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===void 0?(ft(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t):t.name==="TypeError"?(ft(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t):(ft(t),t)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=xr){this.playCallbacks_.push(e);const t=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(qh||ji);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t){this.waitToPlay_=l=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!t&&i&&this.load();return}const s=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(t){t()})}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Zn(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Zn(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Zn(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return iA(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let i=e.end(e.length-1);return i>t&&(i=t),i}volume(e){let t;if(e!==void 0){t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),t>0&&this.lastVolume_(t);return}return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const t=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise((i,s)=>{function o(){t.off("fullscreenerror",d),t.off("fullscreenchange",l)}function l(){o(),i()}function d(m,b){o(),s(b)}t.one("fullscreenchange",l),t.one("fullscreenerror",d);const h=t.requestFullscreenHelper_(e);h&&(h.then(o,o),h.then(i,s))})}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(t=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](t);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((t,i)=>{function s(){e.off("fullscreenerror",l),e.off("fullscreenchange",o)}function o(){s(),t()}function l(h,m){s(),i(m)}e.one("fullscreenchange",o),e.one("fullscreenerror",l);const d=e.exitFullscreenHelper_();d&&(d.then(s,s),d.then(t,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Fe[this.fsApi_.exitFullscreen]();return e&&xr(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Fe.documentElement.style.overflow,Cn(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow="hidden",Ga(Fe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Hi(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow=this.docOrigOverflow,jh(Fe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&te.documentPictureInPicture){const e=Fe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(st("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),te.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(t=>(zw(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",i=>{const s=i.target.querySelector(".video-js");e.parentNode.replaceChild(s,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),t))}return"pictureInPictureEnabled"in Fe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(te.documentPictureInPicture&&te.documentPictureInPicture.window)return te.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Fe)return Fe.exitPictureInPicture()}handleKeyDown(e){const{userActions:t}=this.options_;!t||!t.hotkeys||(s=>{const o=s.tagName.toLowerCase();if(s.isContentEditable)return!0;const l=["button","checkbox","hidden","radio","reset","submit"];return o==="input"?l.indexOf(s.type)===-1:["textarea"].indexOf(o)!==-1})(this.el_.ownerDocument.activeElement)||(typeof t.hotkeys=="function"?t.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=l=>e.key.toLowerCase()==="f",muteKey:s=l=>e.key.toLowerCase()==="m",playPauseKey:o=l=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=t;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const l=Ae.getComponent("FullscreenToggle");Fe[this.fsApi_.fullscreenEnabled]!==!1&&l.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ae.getComponent("MuteToggle").prototype.handleClick.call(this,e)):o.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ae.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let i=0,s=this.options_.techOrder;i<s.length;i++){const o=s[i];let l=ut.getTech(o);if(l||(l=Ae.getComponent(o)),!l){ft.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`);continue}if(l.isSupported()&&(t=l.canPlayType(e),t))return t}return""}selectSource(e){const t=this.options_.techOrder.map(d=>[d,ut.getTech(d)]).filter(([d,h])=>h?h.isSupported():(ft.error(`The "${d}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(d,h,m){let b;return d.some(w=>h.some(L=>{if(b=m(w,L),b)return!0})),b};let s;const o=d=>(h,m)=>d(m,h),l=([d,h],m)=>{if(h.canPlaySource(m,this.options_[d.toLowerCase()]))return{source:m,tech:d}};return this.options_.sourceOrder?s=i(e,t,o(l)):s=i(t,e,l),s||!1}handleSrc_(e,t){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=oA(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),yP(this,i[0],(s,o)=>{if(this.middleware_=o,t||(this.cache_.sources=i),this.updateSourceCaches_(s),this.src_(s)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}vP(o,this.tech_)}),i.length>1){const s=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},o=()=>{this.off("error",s)};this.one("error",s),this.one("playing",o),this.resetRetryOnError_=()=>{this.off("error",s),this.off("playing",o)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return t?Zw(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,t){return this.tech_?this.tech_.addSourceElement(e,t):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();xr(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),rs(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:i,remainingTimeDisplay:s}=this.controlBar||{},{seekBar:o}=i||{};e&&e.updateContent(),t&&t.updateContent(),s&&s.updateContent(),o&&(o.update(),o.loadProgressBar&&o.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return Object.keys(e).length!==0&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let t;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),t=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,t=typeof t>"u"?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Vs("beforeerror").forEach(t=>{const i=t(this,e);if(!(Dr(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const t=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),this.one("loadstart",function(){this.off(["click","touchstart"],t)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new ri(e),this.addClass("vjs-error"),ft.error(`(CODE:${this.error_.code} ${ri.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Vs("error").forEach(t=>t(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,i;const s=zt(this,this.reportUserActivity),o=function(w){(w.screenX!==t||w.screenY!==i)&&(t=w.screenX,i=w.screenY,s())},l=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},d=function(w){s(),this.clearInterval(e)};this.on("mousedown",l),this.on("mousemove",o),this.on("mouseup",d),this.on("mouseleave",d);const h=this.getChild("controlBar");h&&!ji&&!Jn&&(h.on("mouseenter",function(w){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(w){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);let m;const b=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(m);const w=this.options_.inactivityTimeout;w<=0||(m=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},w))};this.setInterval(b,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),i=t&&t.currentHeight();e.forEach(s=>{s!==t&&s.el_&&!s.hasClass("vjs-hidden")&&(s.hide(),this.audioOnlyCache_.hiddenChildren.push(s))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const t=[];return this.isInPictureInPicture()&&t.push(this.exitPictureInPicture()),this.isFullscreen()&&t.push(this.exitFullscreen()),this.audioPosterMode()&&t.push(this.audioPosterMode(!1)),Promise.all(t).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),rs(this)&&this.trigger("languagechange"))}languages(){return Pt($t.prototype.options_.languages,this.languages_)}toJSON(){const e=Pt(this.options_),t=e.tracks;e.tracks=[];for(let i=0;i<t.length;i++){let s=t[i];s=Pt(s),s.player=void 0,e.tracks[i]=s}return e}createModal(e,t){t=t||{},t.content=e||"";const i=new wu(this,t);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let i=0;i<fv.length;i++){const s=fv[i],o=this.breakpoints_[s];if(t<=o){if(e===s)return;e&&this.removeClass(Yd[e]),this.addClass(Yd[s]),this.breakpoint_=s;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},sN,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const t=this.responsive_;if(e!==t)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Yd[this.breakpoint_]||""}loadMedia(e,t){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Pt(e);const{artist:s,artwork:o,description:l,poster:d,src:h,textTracks:m,title:b}=this.cache_.media;!o&&d&&(this.cache_.media.artwork=[{src:d,type:dh(d)}]),i&&this.crossOrigin(i),h&&this.src(h),d&&this.poster(d),Array.isArray(m)&&m.forEach(w=>this.addRemoteTextTrack(w,!1)),this.titleBar&&this.titleBar.update({title:b,description:l||s||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),o=>({kind:o.kind,label:o.label,language:o.language,src:o.src})),s={src:t,textTracks:i};return e&&(s.poster=e,s.artwork=[{src:s.poster,type:dh(s.poster)}]),s}return Pt(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},i=zs(e),s=i["data-setup"];if(Zl(e,"vjs-fill")&&(i.fill=!0),Zl(e,"vjs-fluid")&&(i.fluid=!0),s!==null)try{Object.assign(i,JSON.parse(s||"{}"))}catch(o){ft.error("data-setup",o)}if(Object.assign(t,i),e.hasChildNodes()){const o=e.childNodes;for(let l=0,d=o.length;l<d;l++){const h=o[l],m=h.nodeName.toLowerCase();m==="source"?t.sources.push(zs(h)):m==="track"&&t.tracks.push(zs(h))}}return t}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(t=>typeof t=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}en.names.forEach(function(n){const e=en[n];$t.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});$t.prototype.crossorigin=$t.prototype.crossOrigin;$t.players={};const zl=te.navigator;$t.prototype.options_={techOrder:ut.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:zl&&(zl.languages&&zl.languages[0]||zl.userLanguage||zl.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};BA.forEach(function(n){$t.prototype[`handleTech${li(n)}_`]=function(){return this.trigger(n)}});Ae.registerComponent("Player",$t);const hh="plugin",iu="activePlugins_",Wo={},fh=n=>Wo.hasOwnProperty(n),Wd=n=>fh(n)?Wo[n]:void 0,UA=(n,e)=>{n[iu]=n[iu]||{},n[iu][e]=!0},ph=(n,e,t)=>{const i=(t?"before":"")+"pluginsetup";n.trigger(i,e),n.trigger(i+":"+e.name,e)},aN=function(n,e){const t=function(){ph(this,{name:n,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return UA(this,n),ph(this,{name:n,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){t[i]=e[i]}),t},VE=(n,e)=>(e.prototype.name=n,function(...t){ph(this,{name:n,plugin:e,instance:null},!0);const i=new e(this,...t);return this[n]=()=>i,ph(this,i.getEventHash()),i});class pn{constructor(e){if(this.constructor===pn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),i_(this),delete this.trigger,Qw(this,this.constructor.defaultState),UA(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return Cu(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[iu][e]=!1,this.player=this.state=null,t[e]=VE(e,Wo[e])}static isBasic(e){const t=typeof e=="string"?Wd(e):e;return typeof t=="function"&&!pn.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(fh(e))ft.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if($t.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof t!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return Wo[e]=t,e!==hh&&(pn.isBasic(t)?$t.prototype[e]=aN(e,t):$t.prototype[e]=VE(e,t)),t}static deregisterPlugin(e){if(e===hh)throw new Error("Cannot de-register base plugin.");fh(e)&&(delete Wo[e],delete $t.prototype[e])}static getPlugins(e=Object.keys(Wo)){let t;return e.forEach(i=>{const s=Wd(i);s&&(t=t||{},t[i]=s)}),t}static getPluginVersion(e){const t=Wd(e);return t&&t.VERSION||""}}pn.getPlugin=Wd;pn.BASE_PLUGIN_NAME=hh;pn.registerPlugin(hh,pn);$t.prototype.usingPlugin=function(n){return!!this[iu]&&this[iu][n]===!0};$t.prototype.hasPlugin=function(n){return!!fh(n)};function oN(n,e){let t=!1;return function(...i){return t||ft.warn(n),t=!0,e.apply(this,i)}}function tr(n,e,t,i){return oN(`${e} is deprecated and will be removed in ${n}.0; please use ${t} instead.`,i)}var uN={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const FA=n=>n.indexOf("#")===0?n.slice(1):n;function ve(n,e,t){let i=ve.getPlayer(n);if(i)return e&&ft.warn(`Player "${n}" is already initialised. Options will not be applied.`),t&&i.ready(t),i;const s=typeof n=="string"?$s("#"+FA(n)):n;if(!Eu(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const l=("getRootNode"in s?s.getRootNode()instanceof te.ShadowRoot:!1)?s.getRootNode():s.ownerDocument.body;(!s.ownerDocument.defaultView||!l.contains(s))&&ft.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),Vs("beforesetup").forEach(h=>{const m=h(s,Pt(e));if(!Dr(m)||Array.isArray(m)){ft.error("please return an object in beforesetup hooks");return}e=Pt(e,m)});const d=Ae.getComponent("Player");return i=new d(s,e,t),Vs("setup").forEach(h=>h(i)),i}ve.hooks_=ts;ve.hooks=Vs;ve.hook=q8;ve.hookOnce=j8;ve.removeHook=Sw;if(te.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&xu()){let n=$s(".vjs-styles-defaults");if(!n){n=$w("vjs-styles-defaults");const e=$s("head");e&&e.insertBefore(n,e.firstChild),Kw(n,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}ov(1,ve);ve.VERSION=nv;ve.options=$t.prototype.options_;ve.getPlayers=()=>$t.players;ve.getPlayer=n=>{const e=$t.players;let t;if(typeof n=="string"){const i=FA(n),s=e[i];if(s)return s;t=$s("#"+i)}else t=n;if(Eu(t)){const{player:i,playerId:s}=t;if(i||e[s])return i||e[s]}};ve.getAllPlayers=()=>Object.keys($t.players).map(n=>$t.players[n]).filter(Boolean);ve.players=$t.players;ve.getComponent=Ae.getComponent;ve.registerComponent=(n,e)=>(ut.isTech(e)&&ft.warn(`The ${n} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Ae.registerComponent.call(Ae,n,e));ve.getTech=ut.getTech;ve.registerTech=ut.registerTech;ve.use=gP;Object.defineProperty(ve,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ve.middleware,"TERMINATOR",{value:ch,writeable:!1,enumerable:!0});ve.browser=kw;ve.obj=G8;ve.mergeOptions=tr(9,"videojs.mergeOptions","videojs.obj.merge",Pt);ve.defineLazyProperty=tr(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Ih);ve.bind=tr(9,"videojs.bind","native Function.prototype.bind",zt);ve.registerPlugin=pn.registerPlugin;ve.deregisterPlugin=pn.deregisterPlugin;ve.plugin=(n,e)=>(ft.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),pn.registerPlugin(n,e));ve.getPlugins=pn.getPlugins;ve.getPlugin=pn.getPlugin;ve.getPluginVersion=pn.getPluginVersion;ve.addLanguage=function(n,e){return n=(""+n).toLowerCase(),ve.options.languages=Pt(ve.options.languages,{[n]:e}),ve.options.languages[n]};ve.log=ft;ve.createLogger=xw;ve.time=sP;ve.createTimeRange=tr(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Zn);ve.createTimeRanges=tr(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Zn);ve.formatTime=tr(9,"videojs.formatTime","videojs.time.formatTime",Xa);ve.setFormatTime=tr(9,"videojs.setFormatTime","videojs.time.setFormatTime",eA);ve.resetFormatTime=tr(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",tA);ve.parseUrl=tr(9,"videojs.parseUrl","videojs.url.parseUrl",s_);ve.isCrossOrigin=tr(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Xh);ve.EventTarget=wn;ve.any=t_;ve.on=Cn;ve.one=$h;ve.off=Hi;ve.trigger=Cu;ve.xhr=ow;ve.TextTrack=vc;ve.AudioTrack=sA;ve.VideoTrack=aA;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(n=>{ve[n]=function(){return ft.warn(`videojs.${n}() is deprecated; use videojs.dom.${n}() instead`),Gw[n].apply(null,arguments)}});ve.computedStyle=tr(9,"videojs.computedStyle","videojs.dom.computedStyle",mu);ve.dom=Gw;ve.fn=J8;ve.num=BP;ve.str=nP;ve.url=pP;ve.Error=uN;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class lN{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(i){t.enabled_(i)}}),t}}class mh extends ve.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const i=this.levels_.length;return t=new lN(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let i=0,s=this.length;i<s;i++)if(this[i]===e){t=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,i=this.length;t<i;t++){const s=this[t];if(s.id===e)return s}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}mh.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const n in mh.prototype.allowedEvents_)mh.prototype["on"+n]=null;var qA="4.1.0";const cN=function(n,e){const t=n.qualityLevels,i=new mh,s=function(){i.dispose(),n.qualityLevels=t,n.off("dispose",s)};return n.on("dispose",s),n.qualityLevels=()=>i,n.qualityLevels.VERSION=qA,i},jA=function(n){return cN(this,ve.obj.merge({},n))};ve.registerPlugin("qualityLevels",jA);jA.VERSION=qA;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */const hn=Mh,gh=(n,e)=>e&&e.responseURL&&n!==e.responseURL?e.responseURL:n,zn=n=>ve.log.debug?ve.log.debug.bind(ve,"VHS:",`${n} >`):function(){};function Ot(...n){const e=ve.obj||ve;return(e.merge||e.mergeOptions).apply(e,n)}function Oi(...n){const e=ve.time||ve;return(e.createTimeRanges||e.createTimeRanges).apply(e,n)}function dN(n){if(n.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let t=0;t<n.length;t++){const i=n.start(t),s=n.end(t);e+=`${i} --> ${s}. Duration (${s-i})
`}return e}const Er=1/30,Cr=Er*3,HA=function(n,e){const t=[];let i;if(n&&n.length)for(i=0;i<n.length;i++)e(n.start(i),n.end(i))&&t.push([n.start(i),n.end(i)]);return Oi(t)},Qo=function(n,e){return HA(n,function(t,i){return t-Cr<=e&&i+Cr>=e})},Hd=function(n,e){return HA(n,function(t){return t-Er>=e})},hN=function(n){if(n.length<2)return Oi();const e=[];for(let t=1;t<n.length;t++){const i=n.end(t-1),s=n.start(t);e.push([i,s])}return Oi(e)},fN=function(n,e){let t=null,i=null,s=0;const o=[],l=[];if(!n||!n.length||!e||!e.length)return Oi();let d=n.length;for(;d--;)o.push({time:n.start(d),type:"start"}),o.push({time:n.end(d),type:"end"});for(d=e.length;d--;)o.push({time:e.start(d),type:"start"}),o.push({time:e.end(d),type:"end"});for(o.sort(function(h,m){return h.time-m.time}),d=0;d<o.length;d++)o[d].type==="start"?(s++,s===2&&(t=o[d].time)):o[d].type==="end"&&(s--,s===1&&(i=o[d].time)),t!==null&&i!==null&&(l.push([t,i]),t=null,i=null);return Oi(l)},zA=n=>{const e=[];if(!n||!n.length)return"";for(let t=0;t<n.length;t++)e.push(n.start(t)+" => "+n.end(t));return e.join(", ")},pN=function(n,e,t=1){return((n.length?n.end(n.length-1):0)-e)/t},Ha=n=>{const e=[];for(let t=0;t<n.length;t++)e.push({start:n.start(t),end:n.end(t)});return e},mN=function(n,e){if(n===e)return!1;if(!n&&e||!e&&n||n.length!==e.length)return!0;for(let t=0;t<n.length;t++)if(n.start(t)!==e.start(t)||n.end(t)!==e.end(t))return!0;return!1},Ky=function(n){if(!(!n||!n.length||!n.end))return n.end(n.length-1)},S_=function(n,e){let t=0;if(!n||!n.length)return t;for(let i=0;i<n.length;i++){const s=n.start(i),o=n.end(i);if(!(e>o)){if(e>s&&e<=o){t+=o-e;continue}t+=o-s}}return t},x_=(n,e)=>{if(!e.preload)return e.duration;let t=0;return(e.parts||[]).forEach(function(i){t+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(t+=n.partTargetDuration)}),t},pv=n=>(n.segments||[]).reduce((e,t,i)=>(t.parts?t.parts.forEach(function(s,o){e.push({duration:s.duration,segmentIndex:i,partIndex:o,part:s,segment:t})}):e.push({duration:t.duration,segmentIndex:i,partIndex:null,segment:t,part:null}),e),[]),GA=n=>{const e=n.segments&&n.segments.length&&n.segments[n.segments.length-1];return e&&e.parts||[]},VA=({preloadSegment:n})=>{if(!n)return;const{parts:e,preloadHints:t}=n;let i=(t||[]).reduce((s,o)=>s+(o.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},$A=(n,e)=>{if(e.endList)return 0;if(n&&n.suggestedPresentationDelay)return n.suggestedPresentationDelay;const t=GA(e).length>0;return t&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:t&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},gN=function(n,e){let t=0,i=e-n.mediaSequence,s=n.segments[i];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;i--;){if(s=n.segments[i],typeof s.end<"u")return{result:t+s.end,precise:!0};if(t+=x_(n,s),typeof s.start<"u")return{result:t+s.start,precise:!0}}return{result:t,precise:!1}},yN=function(n,e){let t=0,i,s=e-n.mediaSequence;for(;s<n.segments.length;s++){if(i=n.segments[s],typeof i.start<"u")return{result:i.start-t,precise:!0};if(t+=x_(n,i),typeof i.end<"u")return{result:i.end-t,precise:!0}}return{result:-1,precise:!1}},KA=function(n,e,t){if(typeof e>"u"&&(e=n.mediaSequence+n.segments.length),e<n.mediaSequence)return 0;const i=gN(n,e);if(i.precise)return i.result;const s=yN(n,e);return s.precise?s.result:i.result+t},XA=function(n,e,t){if(!n)return 0;if(typeof t!="number"&&(t=0),typeof e>"u"){if(n.totalDuration)return n.totalDuration;if(!n.endList)return te.Infinity}return KA(n,e,t)},tc=function({defaultDuration:n,durationList:e,startIndex:t,endIndex:i}){let s=0;if(t>i&&([t,i]=[i,t]),t<0){for(let o=t;o<Math.min(0,i);o++)s+=n;t=0}for(let o=t;o<i;o++)s+=e[o].duration;return s},YA=function(n,e,t,i){if(!n||!n.segments)return null;if(n.endList)return XA(n);if(e===null)return null;e=e||0;let s=KA(n,n.mediaSequence+n.segments.length,e);return t&&(i=typeof i=="number"?i:$A(null,n),s-=i),Math.max(0,s)},vN=function(n,e,t){const s=e||0;let o=YA(n,e,!0,t);return o===null?Oi():(o<s&&(o=s),Oi(s,o))},_N=function({playlist:n,currentTime:e,startingSegmentIndex:t,startingPartIndex:i,startTime:s,exactManifestTimings:o}){let l=e-s;const d=pv(n);let h=0;for(let m=0;m<d.length;m++){const b=d[m];if(t===b.segmentIndex&&!(typeof i=="number"&&typeof b.partIndex=="number"&&i!==b.partIndex)){h=m;break}}if(l<0){if(h>0)for(let m=h-1;m>=0;m--){const b=d[m];if(l+=b.duration,o){if(l<0)continue}else if(l+Er<=0)continue;return{partIndex:b.partIndex,segmentIndex:b.segmentIndex,startTime:s-tc({defaultDuration:n.targetDuration,durationList:d,startIndex:h,endIndex:m})}}return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:e}}if(h<0){for(let m=h;m<0;m++)if(l-=n.targetDuration,l<0)return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:e};h=0}for(let m=h;m<d.length;m++){const b=d[m];l-=b.duration;const w=b.duration>Er,L=l===0,k=w&&l+Er>=0;if(!((L||k)&&m!==d.length-1)){if(o){if(l>0)continue}else if(l-Er>=0)continue;return{partIndex:b.partIndex,segmentIndex:b.segmentIndex,startTime:s+tc({defaultDuration:n.targetDuration,durationList:d,startIndex:h,endIndex:m})}}}return{segmentIndex:d[d.length-1].segmentIndex,partIndex:d[d.length-1].partIndex,startTime:e}},WA=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},E_=function(n){return n.excludeUntil&&n.excludeUntil===1/0},Zh=function(n){const e=WA(n);return!n.disabled&&!e},bN=function(n){return n.disabled},TN=function(n){for(let e=0;e<n.segments.length;e++)if(n.segments[e].key)return!0;return!1},QA=function(n,e){return e.attributes&&e.attributes[n]},SN=function(n,e,t,i=0){return QA("BANDWIDTH",t)?(n*t.attributes.BANDWIDTH-i*8)/e:NaN},mv=(n,e)=>{if(n.playlists.length===1)return!0;const t=e.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(i=>Zh(i)?(i.attributes.BANDWIDTH||0)<t:!1).length===0},C_=(n,e)=>!n&&!e||!n&&e||n&&!e?!1:!!(n===e||n.id&&e.id&&n.id===e.id||n.resolvedUri&&e.resolvedUri&&n.resolvedUri===e.resolvedUri||n.uri&&e.uri&&n.uri===e.uri),$E=function(n,e){const t=n&&n.mediaGroups&&n.mediaGroups.AUDIO||{};let i=!1;for(const s in t){for(const o in t[s])if(i=e(t[s][o]),i)break;if(i)break}return!!i},Sc=n=>{if(!n||!n.playlists||!n.playlists.length)return $E(n,t=>t.playlists&&t.playlists.length||t.uri);for(let e=0;e<n.playlists.length;e++){const t=n.playlists[e],i=t.attributes&&t.attributes.CODECS;if(!(i&&i.split(",").every(o=>cw(o))||$E(n,o=>C_(t,o))))return!1}return!0};var fn={liveEdgeDelay:$A,duration:XA,seekable:vN,getMediaInfoForTime:_N,isEnabled:Zh,isDisabled:bN,isExcluded:WA,isIncompatible:E_,playlistEnd:YA,isAes:TN,hasAttribute:QA,estimateSegmentRequestTime:SN,isLowestEnabledRendition:mv,isAudioOnly:Sc,playlistMatch:C_,segmentDurationWithParts:x_};const{log:ZA}=ve,nu=(n,e)=>`${n}-${e}`,JA=(n,e,t)=>`placeholder-uri-${n}-${e}-${t}`,xN=({onwarn:n,oninfo:e,manifestString:t,customTagParsers:i=[],customTagMappers:s=[],llhls:o})=>{const l=new uL;n&&l.on("warn",n),e&&l.on("info",e),i.forEach(m=>l.addParser(m)),s.forEach(m=>l.addTagMapper(m)),l.push(t),l.end();const d=l.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(m){d.hasOwnProperty(m)&&delete d[m]}),d.segments&&d.segments.forEach(function(m){["parts","preloadHints"].forEach(function(b){m.hasOwnProperty(b)&&delete m[b]})})),!d.targetDuration){let m=10;d.segments&&d.segments.length&&(m=d.segments.reduce((b,w)=>Math.max(b,w.duration),0)),n&&n({message:`manifest has no targetDuration defaulting to ${m}`}),d.targetDuration=m}const h=GA(d);if(h.length&&!d.partTargetDuration){const m=h.reduce((b,w)=>Math.max(b,w.duration),0);n&&(n({message:`manifest has no partTargetDuration defaulting to ${m}`}),ZA.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),d.partTargetDuration=m}return d},Ou=(n,e)=>{n.mediaGroups&&["AUDIO","SUBTITLES"].forEach(t=>{if(n.mediaGroups[t])for(const i in n.mediaGroups[t])for(const s in n.mediaGroups[t][i]){const o=n.mediaGroups[t][i][s];e(o,t,i,s)}})},eD=({playlist:n,uri:e,id:t})=>{n.id=t,n.playlistErrors_=0,e&&(n.uri=e),n.attributes=n.attributes||{}},EN=n=>{let e=n.playlists.length;for(;e--;){const t=n.playlists[e];eD({playlist:t,id:nu(e,t.uri)}),t.resolvedUri=hn(n.uri,t.uri),n.playlists[t.id]=t,n.playlists[t.uri]=t,t.attributes.BANDWIDTH||ZA.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},CN=n=>{Ou(n,e=>{e.uri&&(e.resolvedUri=hn(n.uri,e.uri))})},wN=(n,e)=>{const t=nu(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:te.location.href,resolvedUri:te.location.href,playlists:[{uri:e,id:t,resolvedUri:e,attributes:{}}]};return i.playlists[t]=i.playlists[0],i.playlists[e]=i.playlists[0],i},tD=(n,e,t=JA)=>{n.uri=e;for(let s=0;s<n.playlists.length;s++)if(!n.playlists[s].uri){const o=`placeholder-uri-${s}`;n.playlists[s].uri=o}const i=Sc(n);Ou(n,(s,o,l,d)=>{if(!s.playlists||!s.playlists.length){if(i&&o==="AUDIO"&&!s.uri)for(let h=0;h<n.playlists.length;h++){const m=n.playlists[h];if(m.attributes&&m.attributes.AUDIO&&m.attributes.AUDIO===l)return}s.playlists=[hi({},s)]}s.playlists.forEach(function(h,m){const b=t(o,l,d,h),w=nu(m,b);h.uri?h.resolvedUri=h.resolvedUri||hn(n.uri,h.uri):(h.uri=m===0?b:w,h.resolvedUri=h.uri),h.id=h.id||w,h.attributes=h.attributes||{},n.playlists[h.id]=h,n.playlists[h.uri]=h})}),EN(n),CN(n)};class KE{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[t]=e;t.programDateTime!==void 0&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,i=t.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((s,o)=>(s.set(o.id,o),s),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},t=[];this.pendingDateRanges_.forEach((i,s)=>{if(!this.processedDateRanges_.has(s)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),t.push(i),!!i.class))if(e[i.class]){const o=e[i.class].push(i);i.classListIndex=o-1}else e[i.class]=[i],i.classListIndex=0});for(const i of t){const s=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&s[i.classListIndex+1]?i.endTime=s[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,s)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(s)})}}const iD=22,Ka=({requestType:n,request:e,error:t,parseFailure:i})=>{const s=e.status<200||e.status>299,o=e.status>=400&&e.status<=499,l={uri:e.uri,requestType:n},d=s&&!o||i;if(t&&o)l.error=hi({},t),l.errorType=ve.Error.NetworkRequestFailed;else if(e.aborted)l.errorType=ve.Error.NetworkRequestAborted;else if(e.timedout)l.erroType=ve.Error.NetworkRequestTimeout;else if(d){const h=i?ve.Error.NetworkBodyParserFailed:ve.Error.NetworkBadStatus;l.errorType=h,l.status=e.status,l.headers=e.headers}return l},{EventTarget:AN}=ve,DN=(n,e)=>{if(e.endList||!e.serverControl)return n;const t={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let s=e.mediaSequence+e.segments.length;if(i){const o=i.parts||[],l=VA(e)-1;l>-1&&l!==o.length-1&&(t._HLS_part=l),(l>-1||o.length)&&s--}t._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(t._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(t).length){const i=new te.URL(n);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(s){t.hasOwnProperty(s)&&i.searchParams.set(s,t[s])}),n=i.toString()}return n},ON=(n,e)=>{if(!n)return e;const t=Ot(n,e);if(n.preloadHints&&!e.preloadHints&&delete t.preloadHints,n.parts&&!e.parts)delete t.parts;else if(n.parts&&e.parts)for(let i=0;i<e.parts.length;i++)n.parts&&n.parts[i]&&(t.parts[i]=Ot(n.parts[i],e.parts[i]));return!n.skipped&&e.skipped&&(t.skipped=!1),n.preload&&!e.preload&&(t.preload=!1),t},RN=(n,e,t)=>{const i=n.slice(),s=e.slice();t=t||0;const o=[];let l;for(let d=0;d<s.length;d++){const h=i[d+t],m=s[d];h?(l=h.map||l,o.push(ON(h,m))):(l&&!m.map&&(m.map=l),o.push(m))}return o},nD=(n,e)=>{!n.resolvedUri&&n.uri&&(n.resolvedUri=hn(e,n.uri)),n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=hn(e,n.key.uri)),n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=hn(e,n.map.uri)),n.map&&n.map.key&&!n.map.key.resolvedUri&&(n.map.key.resolvedUri=hn(e,n.map.key.uri)),n.parts&&n.parts.length&&n.parts.forEach(t=>{t.resolvedUri||(t.resolvedUri=hn(e,t.uri))}),n.preloadHints&&n.preloadHints.length&&n.preloadHints.forEach(t=>{t.resolvedUri||(t.resolvedUri=hn(e,t.uri))})},rD=function(n){const e=n.segments||[],t=n.preloadSegment;if(t&&t.parts&&t.parts.length){if(t.preloadHints){for(let i=0;i<t.preloadHints.length;i++)if(t.preloadHints[i].type==="MAP")return e}t.duration=n.targetDuration,t.preload=!0,e.push(t)}return e},sD=(n,e)=>n===e||n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence&&n.preloadSegment===e.preloadSegment,gv=(n,e,t=sD)=>{const i=Ot(n,{}),s=i.playlists[e.id];if(!s||t(s,e))return null;e.segments=rD(e);const o=Ot(s,e);if(o.preloadSegment&&!e.preloadSegment&&delete o.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(let l=0;l<e.skip.skippedSegments;l++)e.segments.unshift({skipped:!0})}o.segments=RN(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}o.segments.forEach(l=>{nD(l,o.resolvedUri)});for(let l=0;l<i.playlists.length;l++)i.playlists[l].id===e.id&&(i.playlists[l]=o);return i.playlists[e.id]=o,i.playlists[e.uri]=o,Ou(n,(l,d,h,m)=>{if(l.playlists)for(let b=0;b<l.playlists.length;b++)e.id===l.playlists[b].id&&(l.playlists[b]=o)}),i},yv=(n,e)=>{const t=n.segments||[],i=t[t.length-1],s=i&&i.parts&&i.parts[i.parts.length-1],o=s&&s.duration||i&&i.duration;return e&&o?o*1e3:(n.partTargetDuration||n.targetDuration||10)*500},XE=(n,e,t)=>{if(!n)return;const i=[];return n.forEach(s=>{if(!s.attributes)return;const{BANDWIDTH:o,RESOLUTION:l,CODECS:d}=s.attributes;i.push({id:s.id,bandwidth:o,resolution:l,codecs:d})}),{type:e,isLive:t,renditions:i}};class Zo extends AN{constructor(e,t,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=zn("PlaylistLoader");const{withCredentials:s=!1}=i;this.src=e,this.vhs_=t,this.withCredentials=s,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const o=t.options_;this.customTagParsers=o&&o.customTagParsers||[],this.customTagMappers=o&&o.customTagMappers||[],this.llhls=o&&o.llhls,this.dateRangesStorage_=new KE,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();!t.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let t=hn(this.main.uri,e.uri);this.llhls&&(t=DN(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,s)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,t,i){const{uri:s,id:o}=t;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[o],status:e.status,message:`HLS playlist request error at URL: ${s}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Ka({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{return xN({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(i){this.error=i,this.error.metadata={errorType:ve.Error.StreamingHlsPlaylistParserError,error:i}}}haveMetadata({playlistString:e,playlistObject:t,url:i,id:s}){this.request=null,this.state="HAVE_METADATA";const o={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:o});const l=t||this.parseManifest_({url:i,manifestString:e});l.lastRequest=Date.now(),eD({playlist:l,uri:i,id:s});const d=gv(this.main,l);this.targetDuration=l.partTargetDuration||l.targetDuration,this.pendingMedia_=null,d?(this.main=d,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(yv(this.media(),!!d)),o.parsedPlaylist=XE(this.main.playlists,o.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:o}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),te.clearTimeout(this.mediaUpdateTimeout),te.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new KE,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(te.clearTimeout(this.finalRenditionTimeout),t){const d=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=te.setTimeout(this.media.bind(this,e,!1),d);return}const i=this.state,s=!this.media_||e.id!==this.media_.id,o=this.main.playlists[e.id];if(o&&o.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(yv(e,!0)),!s)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const l={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:l}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(d,h)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=gh(e.resolvedUri,h),d)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:l}),this.haveMetadata({playlistString:h.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const i=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=te.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=te.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=te.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,i)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2,metadata:Ka({requestType:i.requestType,request:i,error:t})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=gh(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});const s=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=XE(s.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(s)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,tD(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=rD(i),i.segments.forEach(s=>{nD(s,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const t=this.srcUri()||te.location.href;this.main=wN(e,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const i=this.main,s=e.ID;let o=i.playlists.length;for(;o--;){const l=i.playlists[o];if(l.attributes["PATHWAY-ID"]===s){const d=l.resolvedUri,h=l.id;if(t){const m=this.createCloneURI_(l.resolvedUri,e),b=nu(s,m),w=this.createCloneAttributes_(s,l.attributes),L=this.createClonePlaylist_(l,b,e,w);i.playlists[o]=L,i.playlists[b]=L,i.playlists[m]=L}else i.playlists.splice(o,1);delete i.playlists[h],delete i.playlists[d]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const i=this.main,s=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!i.mediaGroups[o]||!i.mediaGroups[o][s])){for(const l in i.mediaGroups[o])if(l===s){for(const d in i.mediaGroups[o][l])i.mediaGroups[o][l][d].playlists.forEach((m,b)=>{const w=i.playlists[m.id],L=w.id,k=w.resolvedUri;delete i.playlists[L],delete i.playlists[k]});delete i.mediaGroups[o][l]}}}),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const i=this.main,s=i.playlists.length,o=this.createCloneURI_(t.resolvedUri,e),l=nu(e.ID,o),d=this.createCloneAttributes_(e.ID,t.attributes),h=this.createClonePlaylist_(t,l,e,d);i.playlists[s]=h,i.playlists[l]=h,i.playlists[o]=h,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,i=e["BASE-ID"],s=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!s.mediaGroups[o]||s.mediaGroups[o][t]))for(const l in s.mediaGroups[o]){if(l===i)s.mediaGroups[o][t]={};else continue;for(const d in s.mediaGroups[o][l]){const h=s.mediaGroups[o][l][d];s.mediaGroups[o][t][d]=hi({},h);const m=s.mediaGroups[o][t][d],b=this.createCloneURI_(h.resolvedUri,e);m.resolvedUri=b,m.uri=b,m.playlists=[],h.playlists.forEach((w,L)=>{const k=s.playlists[w.id],j=JA(o,t,d),A=nu(t,j);if(k&&!s.playlists[A]){const I=this.createClonePlaylist_(k,A,e),P=I.resolvedUri;s.playlists[A]=I,s.playlists[P]=I}m.playlists[L]=this.createClonePlaylist_(w,A,e)})}}})}createClonePlaylist_(e,t,i,s){const o=this.createCloneURI_(e.resolvedUri,i),l={resolvedUri:o,uri:o,id:t};return e.segments&&(l.segments=[]),s&&(l.attributes=s),Ot(e,l)}createCloneURI_(e,t){const i=new URL(e);i.hostname=t["URI-REPLACEMENT"].HOST;const s=t["URI-REPLACEMENT"].PARAMS;for(const o of Object.keys(s))i.searchParams.set(o,s[o]);return i.href}createCloneAttributes_(e,t){const i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{t[s]&&(i[s]=e)}),i}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const i in e.contentProtection){const s=e.contentProtection[i].attributes.keyId;s&&t.add(s.toLowerCase())}return t}}}const vv=function(n,e,t,i){const s=n.responseType==="arraybuffer"?n.response:n.responseText;!e&&s&&(n.responseTime=Date.now(),n.roundTripTime=n.responseTime-n.requestTime,n.bytesReceived=s.byteLength||s.length,n.bandwidth||(n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3))),t.headers&&(n.responseHeaders=t.headers),e&&e.code==="ETIMEDOUT"&&(n.timedout=!0),!e&&!n.aborted&&t.statusCode!==200&&t.statusCode!==206&&t.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(n&&(s||n.responseText)))),i(e,n)},kN=(n,e)=>{if(!n||!n.size)return;let t=e;return n.forEach(i=>{t=i(t)}),t},MN=(n,e,t,i)=>{!n||!n.size||n.forEach(s=>{s(e,t,i)})},aD=function(){const n=function e(t,i){t=Ot({timeout:45e3},t);const s=e.beforeRequest||ve.Vhs.xhr.beforeRequest,o=e._requestCallbackSet||ve.Vhs.xhr._requestCallbackSet||new Set,l=e._responseCallbackSet||ve.Vhs.xhr._responseCallbackSet;s&&typeof s=="function"&&(ve.log.warn("beforeRequest is deprecated, use onRequest instead."),o.add(s));const d=ve.Vhs.xhr.original===!0?ve.xhr:ve.Vhs.xhr,h=kN(o,t);o.delete(s);const m=d(h||t,function(w,L){return MN(l,m,w,L),vv(m,w,L,i)}),b=m.abort;return m.abort=function(){return m.aborted=!0,b.apply(m,arguments)},m.uri=t.uri,m.requestType=t.requestType,m.requestTime=Date.now(),m};return n.original=!0,n},LN=function(n){let e;const t=n.offset;return typeof n.offset=="bigint"||typeof n.length=="bigint"?e=te.BigInt(n.offset)+te.BigInt(n.length)-te.BigInt(1):e=n.offset+n.length-1,"bytes="+t+"-"+e},_v=function(n){const e={};return n.byterange&&(e.Range=LN(n.byterange)),e},PN=function(n,e){return n.start(e)+"-"+n.end(e)},NN=function(n,e){const t=n.toString(16);return"00".substring(0,2-t.length)+t+(e%2?" ":"")},IN=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},oD=function(n){const e={};return Object.keys(n).forEach(t=>{const i=n[t];hw(i)?e[t]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[t]=i}),e},yh=function(n){const e=n.byterange||{length:1/0,offset:0};return[e.length,e.offset,n.resolvedUri].join(",")},uD=function(n){return n.resolvedUri},lD=n=>{const e=Array.prototype.slice.call(n),t=16;let i="",s,o;for(let l=0;l<e.length/t;l++)s=e.slice(l*t,l*t+t).map(NN).join(""),o=e.slice(l*t,l*t+t).map(IN).join(""),i+=s+" "+o+`
`;return i},BN=({bytes:n})=>lD(n),UN=n=>{let e="",t;for(t=0;t<n.length;t++)e+=PN(n,t)+" ";return e};var FN=Object.freeze({__proto__:null,createTransferableMessage:oD,initSegmentId:yh,segmentKeyId:uD,hexDump:lD,tagDump:BN,textRanges:UN});const cD=.25,qN=(n,e)=>{if(!e.dateTimeObject)return null;const t=e.videoTimingInfo.transmuxerPrependedSeconds,s=e.videoTimingInfo.transmuxedPresentationStart+t,o=n-s;return new Date(e.dateTimeObject.getTime()+o*1e3)},jN=n=>n.transmuxedPresentationEnd-n.transmuxedPresentationStart-n.transmuxerPrependedSeconds,HN=(n,e)=>{let t;try{t=new Date(n)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(t<new Date(i.dateTimeObject))return null;for(let h=0;h<e.segments.length-1;h++){i=e.segments[h];const m=new Date(e.segments[h+1].dateTimeObject);if(t<m)break}const s=e.segments[e.segments.length-1],o=s.dateTimeObject,l=s.videoTimingInfo?jN(s.videoTimingInfo):s.duration+s.duration*cD,d=new Date(o.getTime()+l*1e3);return t>d?null:(t>new Date(o)&&(i=s),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:fn.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},zN=(n,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let t=0,i;for(let o=0;o<e.segments.length&&(i=e.segments[o],t=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:t+i.duration,!(n<=t));o++);const s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(n>t){if(n>t+s.duration*cD)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:t-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},GN=(n,e)=>{let t,i;try{t=new Date(n),i=new Date(e)}catch{}const s=t.getTime();return(i.getTime()-s)/1e3},VN=n=>{if(!n.segments||n.segments.length===0)return!1;for(let e=0;e<n.segments.length;e++)if(!n.segments[e].dateTimeObject)return!1;return!0},$N=({playlist:n,time:e=void 0,callback:t})=>{if(!t)throw new Error("getProgramTime: callback must be provided");if(!n||e===void 0)return t({message:"getProgramTime: playlist and time must be provided"});const i=zN(e,n);if(!i)return t({message:"valid programTime was not found"});if(i.type==="estimate")return t({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const s={mediaSeconds:e},o=qN(e,i.segment);return o&&(s.programDateTime=o.toISOString()),t(null,s)},dD=({programTime:n,playlist:e,retryCount:t=2,seekTo:i,pauseAfterSeek:s=!0,tech:o,callback:l})=>{if(!l)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!e||!i)return l({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!o.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!VN(e))return l({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const d=HN(n,e);if(!d)return l({message:`${n} was not found in the stream`});const h=d.segment,m=GN(h.dateTimeObject,n);if(d.type==="estimate"){if(t===0)return l({message:`${n} is not buffered yet. Try again`});i(d.estimatedStart+m),o.one("seeked",()=>{dD({programTime:n,playlist:e,retryCount:t-1,seekTo:i,pauseAfterSeek:s,tech:o,callback:l})});return}const b=h.start+m,w=()=>l(null,o.currentTime());o.one("seeked",w),s&&o.pause(),i(b)},Xy=(n,e)=>{if(n.readyState===4)return e()},KN=(n,e,t,i)=>{let s=[],o,l=!1;const d=function(w,L,k,j){return L.abort(),l=!0,t(w,L,k,j)},h=function(w,L){if(l)return;if(w)return w.metadata=Ka({requestType:i,request:L,error:w}),d(w,L,"",s);const k=L.responseText.substring(s&&s.byteLength||0,L.responseText.length);if(s=bL(s,fw(k,!0)),o=o||Xl(s),s.length<10||o&&s.length<o+2)return Xy(L,()=>d(w,L,"",s));const j=Wv(s);return j==="ts"&&s.length<188?Xy(L,()=>d(w,L,"",s)):!j&&s.length<376?Xy(L,()=>d(w,L,"",s)):d(null,L,j,s)},b=e({uri:n,beforeSend(w){w.overrideMimeType("text/plain; charset=x-user-defined"),w.addEventListener("progress",function({total:L,loaded:k}){return vv(w,null,{statusCode:w.status},h)})}},function(w,L){return vv(b,w,L,h)});return b},{EventTarget:XN}=ve,YE=function(n,e){if(!sD(n,e)||n.sidx&&e.sidx&&(n.sidx.offset!==e.sidx.offset||n.sidx.length!==e.sidx.length))return!1;if(!n.sidx&&e.sidx||n.sidx&&!e.sidx||n.segments&&!e.segments||!n.segments&&e.segments)return!1;if(!n.segments&&!e.segments)return!0;for(let t=0;t<n.segments.length;t++){const i=n.segments[t],s=e.segments[t];if(i.uri!==s.uri)return!1;if(!i.byterange&&!s.byterange)continue;const o=i.byterange,l=s.byterange;if(o&&!l||!o&&l||o.offset!==l.offset||o.length!==l.length)return!1}return!0},YN=(n,e,t,i)=>{const s=i.attributes.NAME||t;return`placeholder-uri-${n}-${e}-${s}`},WN=({mainXml:n,srcUrl:e,clientOffset:t,sidxMapping:i,previousManifest:s})=>{const o=v8(n,{manifestUri:e,clientOffset:t,sidxMapping:i,previousManifest:s});return tD(o,e,YN),o},QN=(n,e)=>{Ou(n,(t,i,s,o)=>{(!e.mediaGroups[i][s]||!(o in e.mediaGroups[i][s]))&&delete n.mediaGroups[i][s][o]})},ZN=(n,e,t)=>{let i=!0,s=Ot(n,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let o=0;o<e.playlists.length;o++){const l=e.playlists[o];if(l.sidx){const h=Ph(l.sidx);t&&t[h]&&t[h].sidx&&Kv(l,t[h].sidx,l.sidx.resolvedUri)}const d=gv(s,l,YE);d&&(s=d,i=!1)}return Ou(e,(o,l,d,h)=>{if(o.playlists&&o.playlists.length){const m=o.playlists[0].id,b=gv(s,o.playlists[0],YE);b&&(s=b,h in s.mediaGroups[l][d]||(s.mediaGroups[l][d][h]=o),s.mediaGroups[l][d][h].playlists[0]=s.playlists[m],i=!1)}}),QN(s,e),e.minimumUpdatePeriod!==n.minimumUpdatePeriod&&(i=!1),i?null:s},JN=(n,e)=>(!n.map&&!e.map||!!(n.map&&e.map&&n.map.byterange.offset===e.map.byterange.offset&&n.map.byterange.length===e.map.byterange.length))&&n.uri===e.uri&&n.byterange.offset===e.byterange.offset&&n.byterange.length===e.byterange.length,WE=(n,e)=>{const t={};for(const i in n){const o=n[i].sidx;if(o){const l=Ph(o);if(!e[l])break;const d=e[l].sidxInfo;JN(d,o)&&(t[l]=e[l])}}return t},e5=(n,e)=>{let i=WE(n.playlists,e);return Ou(n,(s,o,l,d)=>{if(s.playlists&&s.playlists.length){const h=s.playlists;i=Ot(i,WE(h,e))}}),i};class bv extends XN{constructor(e,t,i={},s){super(),this.isPaused_=!0,this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:o=!1}=i;if(this.vhs_=t,this.withCredentials=o,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=zn("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,t,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,t,i){const s=e.sidx&&Ph(e.sidx);if(!e.sidx||!s||this.mainPlaylistLoader_.sidxMapping_[s]){te.clearTimeout(this.mediaRequest_),this.mediaRequest_=te.setTimeout(()=>i(!1),0);return}const o=gh(e.sidx.resolvedUri),l=(h,m)=>{if(this.requestErrored_(h,m,t))return;const b=this.mainPlaylistLoader_.sidxMapping_,{requestType:w}=m;let L;try{L=x8(it(m.response).subarray(8))}catch(k){k.metadata=Ka({requestType:w,request:m,parseFailure:!0}),this.requestErrored_(k,m,t);return}return b[s]={sidxInfo:e.sidx,sidx:L},Kv(e,L,e.sidx.resolvedUri),i(!0)},d="dash-sidx";this.request=KN(o,this.vhs_.xhr,(h,m,b,w)=>{if(h)return l(h,m);if(!b||b!=="mp4"){const j=b||"unknown";return l({status:m.status,message:`Unsupported ${j} container type for sidx segment at URL: ${o}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},m)}const{offset:L,length:k}=e.sidx.byterange;if(w.length>=k+L)return l(h,{response:w.subarray(L,L+k),status:m.status,uri:m.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",requestType:"dash-sidx",headers:_v({byterange:e.sidx.byterange})},l)},d)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},te.clearTimeout(this.minimumUpdatePeriodTimeout_),te.clearTimeout(this.mediaRequest_),te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,s=>{this.haveMetadata({startingState:t,playlist:e})}))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,te.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(t.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(te.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const i=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=te.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){te.clearTimeout(this.mediaRequest_),this.mediaRequest_=te.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,t)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,s)=>{if(i){const{requestType:l}=s;i.metadata=Ka({requestType:l,request:s,error:i})}if(this.requestErrored_(i,s)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:t});const o=s.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?this.mainLoaded_=Date.parse(s.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=gh(this.mainPlaylistLoader_.srcUrl,s),o){this.handleMain_(),this.syncClientServerClock_(()=>e(s,o));return}return e(s,o)})}syncClientServerClock_(e){const t=_8(this.mainPlaylistLoader_.mainXml_);if(t===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(t.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e();this.request=this.vhs_.xhr({uri:hn(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,s)=>{if(!this.request)return;if(i){const{requestType:l}=s;return this.error.metadata=Ka({requestType:l,request:s,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let o;t.method==="HEAD"?!s.responseHeaders||!s.responseHeaders.date?o=this.mainLoaded_:o=Date.parse(s.responseHeaders.date):o=Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=o-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){te.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:t});let i;try{i=WN({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(o){this.error=o,this.error.metadata={errorType:ve.Error.StreamingDashManifestParserError,error:o},this.trigger("error")}e&&(i=ZN(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const s=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(s&&s!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=s),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:o,endList:l}=i,d=[];i.playlists.forEach(m=>{d.push({id:m.id,bandwidth:m.attributes.BANDWIDTH,resolution:m.attributes.RESOLUTION,codecs:m.attributes.CODECS})});const h={duration:o,isLive:!l,renditions:d};t.parsedManifest=h,this.trigger({type:"manifestparsecomplete",metadata:t})}return!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(te.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;if(t===0&&(e.media()?t=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof t!="number"||t<=0){t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`);return}this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=te.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=e5(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=te.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},yv(this.media(),!!i)))};s()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const t=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",t,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const i in e.contentProtection){const s=e.contentProtection[i].attributes["cenc:default_KID"];s&&t.add(s.replace(/-/g,"").toLowerCase())}return t}}}var Ai={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const t5=n=>{const e=new Uint8Array(new ArrayBuffer(n.length));for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e.buffer},hD=function(n){return n.on=n.addEventListener,n.off=n.removeEventListener,n},i5=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch{const t=new BlobBuilder;return t.append(n),URL.createObjectURL(t.getBlob())}},fD=function(n){return function(){const e=i5(n),t=hD(new Worker(e));t.objURL=e;const i=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},t}},pD=function(n){return`var browserWorkerPolyFill = ${hD.toString()};
browserWorkerPolyFill(self);
`+n},mD=function(n){return n.toString().replace(/^function.+?{/,"").slice(0,-1)},n5=pD(mD(function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var f={};this.on=function(g,_){f[g]||(f[g]=[]),f[g]=f[g].concat(_)},this.off=function(g,_){var v;return f[g]?(v=f[g].indexOf(_),f[g]=f[g].slice(),f[g].splice(v,1),v>-1):!1},this.trigger=function(g){var _,v,E,D;if(_=f[g],!!_)if(arguments.length===2)for(E=_.length,v=0;v<E;++v)_[v].call(this,arguments[1]);else{for(D=[],v=arguments.length,v=1;v<arguments.length;++v)D.push(arguments[v]);for(E=_.length,v=0;v<E;++v)_[v].apply(this,D)}},this.dispose=function(){f={}}}};e.prototype.pipe=function(f){return this.on("data",function(g){f.push(g)}),this.on("done",function(g){f.flush(g)}),this.on("partialdone",function(g){f.partialFlush(g)}),this.on("endedtimeline",function(g){f.endTimeline(g)}),this.on("reset",function(g){f.reset(g)}),f},e.prototype.push=function(f){this.trigger("data",f)},e.prototype.flush=function(f){this.trigger("done",f)},e.prototype.partialFlush=function(f){this.trigger("partialdone",f)},e.prototype.endTimeline=function(f){this.trigger("endedtimeline",f)},e.prototype.reset=function(f){this.trigger("reset",f)};var t=e,i=Math.pow(2,32),s=function(f){var g=new DataView(f.buffer,f.byteOffset,f.byteLength),_;return g.getBigUint64?(_=g.getBigUint64(0),_<Number.MAX_SAFE_INTEGER?Number(_):_):g.getUint32(0)*i+g.getUint32(4)},o={getUint64:s,MAX_UINT32:i},l=o.MAX_UINT32,d,h,m,b,w,L,k,j,A,I,P,H,q,Q,O,N,F,J,x,S,z,W,U,Y,ue,ee,C,le,$,T,M,se,pe,oe,ge,Ee;(function(){var f;if(U={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(f in U)U.hasOwnProperty(f)&&(U[f]=[f.charCodeAt(0),f.charCodeAt(1),f.charCodeAt(2),f.charCodeAt(3)]);Y=new Uint8Array([105,115,111,109]),ee=new Uint8Array([97,118,99,49]),ue=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),le=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),$={video:C,audio:le},se=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),oe=pe,ge=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ee=pe,T=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),d=function(f){var g=[],_=0,v,E,D;for(v=1;v<arguments.length;v++)g.push(arguments[v]);for(v=g.length;v--;)_+=g[v].byteLength;for(E=new Uint8Array(_+8),D=new DataView(E.buffer,E.byteOffset,E.byteLength),D.setUint32(0,E.byteLength),E.set(f,4),v=0,_=8;v<g.length;v++)E.set(g[v],_),_+=g[v].byteLength;return E},h=function(){return d(U.dinf,d(U.dref,se))},m=function(f){return d(U.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,f.audioobjecttype<<3|f.samplingfrequencyindex>>>1,f.samplingfrequencyindex<<7|f.channelcount<<3,6,1,2]))},b=function(){return d(U.ftyp,Y,ue,Y,ee)},N=function(f){return d(U.hdlr,$[f])},w=function(f){return d(U.mdat,f)},O=function(f){var g=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,f.duration>>>24&255,f.duration>>>16&255,f.duration>>>8&255,f.duration&255,85,196,0,0]);return f.samplerate&&(g[12]=f.samplerate>>>24&255,g[13]=f.samplerate>>>16&255,g[14]=f.samplerate>>>8&255,g[15]=f.samplerate&255),d(U.mdhd,g)},Q=function(f){return d(U.mdia,O(f),N(f.type),k(f))},L=function(f){return d(U.mfhd,new Uint8Array([0,0,0,0,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255]))},k=function(f){return d(U.minf,f.type==="video"?d(U.vmhd,T):d(U.smhd,M),h(),J(f))},j=function(f,g){for(var _=[],v=g.length;v--;)_[v]=S(g[v]);return d.apply(null,[U.moof,L(f)].concat(_))},A=function(f){for(var g=f.length,_=[];g--;)_[g]=H(f[g]);return d.apply(null,[U.moov,P(4294967295)].concat(_).concat(I(f)))},I=function(f){for(var g=f.length,_=[];g--;)_[g]=z(f[g]);return d.apply(null,[U.mvex].concat(_))},P=function(f){var g=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return d(U.mvhd,g)},F=function(f){var g=f.samples||[],_=new Uint8Array(4+g.length),v,E;for(E=0;E<g.length;E++)v=g[E].flags,_[E+4]=v.dependsOn<<4|v.isDependedOn<<2|v.hasRedundancy;return d(U.sdtp,_)},J=function(f){return d(U.stbl,x(f),d(U.stts,Ee),d(U.stsc,oe),d(U.stsz,ge),d(U.stco,pe))},function(){var f,g;x=function(_){return d(U.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),_.type==="video"?f(_):g(_))},f=function(_){var v=_.sps||[],E=_.pps||[],D=[],K=[],X,Z;for(X=0;X<v.length;X++)D.push((v[X].byteLength&65280)>>>8),D.push(v[X].byteLength&255),D=D.concat(Array.prototype.slice.call(v[X]));for(X=0;X<E.length;X++)K.push((E[X].byteLength&65280)>>>8),K.push(E[X].byteLength&255),K=K.concat(Array.prototype.slice.call(E[X]));if(Z=[U.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(_.width&65280)>>8,_.width&255,(_.height&65280)>>8,_.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d(U.avcC,new Uint8Array([1,_.profileIdc,_.profileCompatibility,_.levelIdc,255].concat([v.length],D,[E.length],K))),d(U.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],_.sarRatio){var ie=_.sarRatio[0],ce=_.sarRatio[1];Z.push(d(U.pasp,new Uint8Array([(ie&4278190080)>>24,(ie&16711680)>>16,(ie&65280)>>8,ie&255,(ce&4278190080)>>24,(ce&16711680)>>16,(ce&65280)>>8,ce&255])))}return d.apply(null,Z)},g=function(_){return d(U.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(_.channelcount&65280)>>8,_.channelcount&255,(_.samplesize&65280)>>8,_.samplesize&255,0,0,0,0,(_.samplerate&65280)>>8,_.samplerate&255,0,0]),m(_))}}(),q=function(f){var g=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,0,(f.duration&4278190080)>>24,(f.duration&16711680)>>16,(f.duration&65280)>>8,f.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(f.width&65280)>>8,f.width&255,0,0,(f.height&65280)>>8,f.height&255,0,0]);return d(U.tkhd,g)},S=function(f){var g,_,v,E,D,K,X;return g=d(U.tfhd,new Uint8Array([0,0,0,58,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),K=Math.floor(f.baseMediaDecodeTime/l),X=Math.floor(f.baseMediaDecodeTime%l),_=d(U.tfdt,new Uint8Array([1,0,0,0,K>>>24&255,K>>>16&255,K>>>8&255,K&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255])),D=92,f.type==="audio"?(v=W(f,D),d(U.traf,g,_,v)):(E=F(f),v=W(f,E.length+D),d(U.traf,g,_,v,E))},H=function(f){return f.duration=f.duration||4294967295,d(U.trak,q(f),Q(f))},z=function(f){var g=new Uint8Array([0,0,0,0,(f.id&4278190080)>>24,(f.id&16711680)>>16,(f.id&65280)>>8,f.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return f.type!=="video"&&(g[g.length-1]=0),d(U.trex,g)},function(){var f,g,_;_=function(v,E){var D=0,K=0,X=0,Z=0;return v.length&&(v[0].duration!==void 0&&(D=1),v[0].size!==void 0&&(K=2),v[0].flags!==void 0&&(X=4),v[0].compositionTimeOffset!==void 0&&(Z=8)),[0,0,D|K|X|Z,1,(v.length&4278190080)>>>24,(v.length&16711680)>>>16,(v.length&65280)>>>8,v.length&255,(E&4278190080)>>>24,(E&16711680)>>>16,(E&65280)>>>8,E&255]},g=function(v,E){var D,K,X,Z,ie,ce;for(Z=v.samples||[],E+=20+16*Z.length,X=_(Z,E),K=new Uint8Array(X.length+Z.length*16),K.set(X),D=X.length,ce=0;ce<Z.length;ce++)ie=Z[ce],K[D++]=(ie.duration&4278190080)>>>24,K[D++]=(ie.duration&16711680)>>>16,K[D++]=(ie.duration&65280)>>>8,K[D++]=ie.duration&255,K[D++]=(ie.size&4278190080)>>>24,K[D++]=(ie.size&16711680)>>>16,K[D++]=(ie.size&65280)>>>8,K[D++]=ie.size&255,K[D++]=ie.flags.isLeading<<2|ie.flags.dependsOn,K[D++]=ie.flags.isDependedOn<<6|ie.flags.hasRedundancy<<4|ie.flags.paddingValue<<1|ie.flags.isNonSyncSample,K[D++]=ie.flags.degradationPriority&61440,K[D++]=ie.flags.degradationPriority&15,K[D++]=(ie.compositionTimeOffset&4278190080)>>>24,K[D++]=(ie.compositionTimeOffset&16711680)>>>16,K[D++]=(ie.compositionTimeOffset&65280)>>>8,K[D++]=ie.compositionTimeOffset&255;return d(U.trun,K)},f=function(v,E){var D,K,X,Z,ie,ce;for(Z=v.samples||[],E+=20+8*Z.length,X=_(Z,E),D=new Uint8Array(X.length+Z.length*8),D.set(X),K=X.length,ce=0;ce<Z.length;ce++)ie=Z[ce],D[K++]=(ie.duration&4278190080)>>>24,D[K++]=(ie.duration&16711680)>>>16,D[K++]=(ie.duration&65280)>>>8,D[K++]=ie.duration&255,D[K++]=(ie.size&4278190080)>>>24,D[K++]=(ie.size&16711680)>>>16,D[K++]=(ie.size&65280)>>>8,D[K++]=ie.size&255;return d(U.trun,D)},W=function(v,E){return v.type==="audio"?f(v,E):g(v,E)}}();var ke={ftyp:b,mdat:w,moof:j,moov:A,initSegment:function(f){var g=b(),_=A(f),v;return v=new Uint8Array(g.byteLength+_.byteLength),v.set(g),v.set(_,g.byteLength),v}},Be=function(f){var g,_,v=[],E=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,v.byteLength=0,g=0;g<f.length;g++)_=f[g],_.nalUnitType==="access_unit_delimiter_rbsp"?(v.length&&(v.duration=_.dts-v.dts,E.byteLength+=v.byteLength,E.nalCount+=v.length,E.duration+=v.duration,E.push(v)),v=[_],v.byteLength=_.data.byteLength,v.pts=_.pts,v.dts=_.dts):(_.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(v.keyFrame=!0),v.duration=_.dts-v.dts,v.byteLength+=_.data.byteLength,v.push(_));return E.length&&(!v.duration||v.duration<=0)&&(v.duration=E[E.length-1].duration),E.byteLength+=v.byteLength,E.nalCount+=v.length,E.duration+=v.duration,E.push(v),E},Ge=function(f){var g,_,v=[],E=[];for(v.byteLength=0,v.nalCount=0,v.duration=0,v.pts=f[0].pts,v.dts=f[0].dts,E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=f[0].pts,E.dts=f[0].dts,g=0;g<f.length;g++)_=f[g],_.keyFrame?(v.length&&(E.push(v),E.byteLength+=v.byteLength,E.nalCount+=v.nalCount,E.duration+=v.duration),v=[_],v.nalCount=_.length,v.byteLength=_.byteLength,v.pts=_.pts,v.dts=_.dts,v.duration=_.duration):(v.duration+=_.duration,v.nalCount+=_.length,v.byteLength+=_.byteLength,v.push(_));return E.length&&v.duration<=0&&(v.duration=E[E.length-1].duration),E.byteLength+=v.byteLength,E.nalCount+=v.nalCount,E.duration+=v.duration,E.push(v),E},Ve=function(f){var g;return!f[0][0].keyFrame&&f.length>1&&(g=f.shift(),f.byteLength-=g.byteLength,f.nalCount-=g.nalCount,f[0][0].dts=g.dts,f[0][0].pts=g.pts,f[0][0].duration+=g.duration),f},xe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},re=function(f,g){var _=xe();return _.dataOffset=g,_.compositionTimeOffset=f.pts-f.dts,_.duration=f.duration,_.size=4*f.length,_.size+=f.byteLength,f.keyFrame&&(_.flags.dependsOn=2,_.flags.isNonSyncSample=0),_},he=function(f,g){var _,v,E,D,K,X=g||0,Z=[];for(_=0;_<f.length;_++)for(D=f[_],v=0;v<D.length;v++)K=D[v],E=re(K,X),X+=E.size,Z.push(E);return Z},fe=function(f){var g,_,v,E,D,K,X=0,Z=f.byteLength,ie=f.nalCount,ce=Z+4*ie,Ce=new Uint8Array(ce),Ue=new DataView(Ce.buffer);for(g=0;g<f.length;g++)for(E=f[g],_=0;_<E.length;_++)for(D=E[_],v=0;v<D.length;v++)K=D[v],Ue.setUint32(X,K.data.byteLength),X+=4,Ce.set(K.data,X),X+=K.data.byteLength;return Ce},be=function(f,g){var _,v=g||0,E=[];return _=re(f,v),E.push(_),E},Me=function(f){var g,_,v=0,E=f.byteLength,D=f.length,K=E+4*D,X=new Uint8Array(K),Z=new DataView(X.buffer);for(g=0;g<f.length;g++)_=f[g],Z.setUint32(v,_.data.byteLength),v+=4,X.set(_.data,v),v+=_.data.byteLength;return X},Pe={groupNalsIntoFrames:Be,groupFramesIntoGops:Ge,extendFirstKeyFrame:Ve,generateSampleTable:he,concatenateNalData:fe,generateSampleTableForFrame:be,concatenateNalDataForFrame:Me},Ie=[33,16,5,32,164,27],He=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],je=function(f){for(var g=[];f--;)g.push(0);return g},ze=function(f){return Object.keys(f).reduce(function(g,_){return g[_]=new Uint8Array(f[_].reduce(function(v,E){return v.concat(E)},[])),g},{})},Ye,tt=function(){if(!Ye){var f={96e3:[Ie,[227,64],je(154),[56]],88200:[Ie,[231],je(170),[56]],64e3:[Ie,[248,192],je(240),[56]],48e3:[Ie,[255,192],je(268),[55,148,128],je(54),[112]],44100:[Ie,[255,192],je(268),[55,163,128],je(84),[112]],32e3:[Ie,[255,192],je(268),[55,234],je(226),[112]],24e3:[Ie,[255,192],je(268),[55,255,128],je(268),[111,112],je(126),[224]],16e3:[Ie,[255,192],je(268),[55,255,128],je(268),[111,255],je(269),[223,108],je(195),[1,192]],12e3:[He,je(268),[3,127,248],je(268),[6,255,240],je(268),[13,255,224],je(268),[27,253,128],je(259),[56]],11025:[He,je(268),[3,127,248],je(268),[6,255,240],je(268),[13,255,224],je(268),[27,255,192],je(268),[55,175,128],je(108),[112]],8e3:[He,je(268),[3,121,16],je(47),[7]]};Ye=ze(f)}return Ye},Qe=9e4,vt,St,pt,Nt,wt,si,bi;vt=function(f){return f*Qe},St=function(f,g){return f*g},pt=function(f){return f/Qe},Nt=function(f,g){return f/g},wt=function(f,g){return vt(Nt(f,g))},si=function(f,g){return St(pt(f),g)},bi=function(f,g,_){return pt(_?f:f-g)};var lt={ONE_SECOND_IN_TS:Qe,secondsToVideoTs:vt,secondsToAudioTs:St,videoTsToSeconds:pt,audioTsToSeconds:Nt,audioTsToVideoTs:wt,videoTsToAudioTs:si,metadataTsToSeconds:bi},Qt=tt,It=lt,Bt=function(f){var g,_,v=0;for(g=0;g<f.length;g++)_=f[g],v+=_.data.byteLength;return v},At=function(f,g,_,v){var E,D=0,K=0,X=0,Z=0,ie,ce,Ce;if(g.length&&(E=It.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),D=Math.ceil(It.ONE_SECOND_IN_TS/(f.samplerate/1024)),_&&v&&(K=E-Math.max(_,v),X=Math.floor(K/D),Z=X*D),!(X<1||Z>It.ONE_SECOND_IN_TS/2))){for(ie=Qt()[f.samplerate],ie||(ie=g[0].data),ce=0;ce<X;ce++)Ce=g[0],g.splice(0,0,{data:ie,dts:Ce.dts-D,pts:Ce.pts-D});return f.baseMediaDecodeTime-=Math.floor(It.videoTsToAudioTs(Z,f.samplerate)),Z}},Gt=function(f,g,_){return g.minSegmentDts>=_?f:(g.minSegmentDts=1/0,f.filter(function(v){return v.dts>=_?(g.minSegmentDts=Math.min(g.minSegmentDts,v.dts),g.minSegmentPts=g.minSegmentDts,!0):!1}))},us=function(f){var g,_,v=[];for(g=0;g<f.length;g++)_=f[g],v.push({size:_.data.byteLength,duration:1024});return v},ir=function(f){var g,_,v=0,E=new Uint8Array(Bt(f));for(g=0;g<f.length;g++)_=f[g],E.set(_.data,v),v+=_.data.byteLength;return E},Lr={prefixWithSilence:At,trimAdtsFramesByEarliestDts:Gt,generateSampleTable:us,concatenateFrameData:ir},Pr=lt.ONE_SECOND_IN_TS,B=function(f,g){typeof g.pts=="number"&&(f.timelineStartInfo.pts===void 0&&(f.timelineStartInfo.pts=g.pts),f.minSegmentPts===void 0?f.minSegmentPts=g.pts:f.minSegmentPts=Math.min(f.minSegmentPts,g.pts),f.maxSegmentPts===void 0?f.maxSegmentPts=g.pts:f.maxSegmentPts=Math.max(f.maxSegmentPts,g.pts)),typeof g.dts=="number"&&(f.timelineStartInfo.dts===void 0&&(f.timelineStartInfo.dts=g.dts),f.minSegmentDts===void 0?f.minSegmentDts=g.dts:f.minSegmentDts=Math.min(f.minSegmentDts,g.dts),f.maxSegmentDts===void 0?f.maxSegmentDts=g.dts:f.maxSegmentDts=Math.max(f.maxSegmentDts,g.dts))},V=function(f){delete f.minSegmentDts,delete f.maxSegmentDts,delete f.minSegmentPts,delete f.maxSegmentPts},ae=function(f,g){var _,v,E=f.minSegmentDts;return g||(E-=f.timelineStartInfo.dts),_=f.timelineStartInfo.baseMediaDecodeTime,_+=E,_=Math.max(0,_),f.type==="audio"&&(v=f.samplerate/Pr,_*=v,_=Math.floor(_)),_},Se={clearDtsInfo:V,calculateTrackBaseMediaDecodeTime:ae,collectDtsInfo:B},qe=4,nt=128,Dt=function(f){for(var g=0,_={payloadType:-1,payloadSize:0},v=0,E=0;g<f.byteLength&&f[g]!==nt;){for(;f[g]===255;)v+=255,g++;for(v+=f[g++];f[g]===255;)E+=255,g++;if(E+=f[g++],!_.payload&&v===qe){var D=String.fromCharCode(f[g+3],f[g+4],f[g+5],f[g+6]);if(D==="GA94"){_.payloadType=v,_.payloadSize=E,_.payload=f.subarray(g,g+E);break}else _.payload=void 0}g+=E,v=0,E=0}return _},fi=function(f){return f.payload[0]!==181||(f.payload[1]<<8|f.payload[2])!==49||String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])!=="GA94"||f.payload[7]!==3?null:f.payload.subarray(8,f.payload.length-1)},Ri=function(f,g){var _=[],v,E,D,K;if(!(g[0]&64))return _;for(E=g[0]&31,v=0;v<E;v++)D=v*3,K={type:g[D+2]&3,pts:f},g[D+2]&4&&(K.ccData=g[D+3]<<8|g[D+4],_.push(K));return _},Gi=function(f){for(var g=f.byteLength,_=[],v=1,E,D;v<g-2;)f[v]===0&&f[v+1]===0&&f[v+2]===3?(_.push(v+2),v+=2):v++;if(_.length===0)return f;E=g-_.length,D=new Uint8Array(E);var K=0;for(v=0;v<E;K++,v++)K===_[0]&&(K++,_.shift()),D[v]=f[K];return D},Vi={parseSei:Dt,parseUserData:fi,parseCaptionPackets:Ri,discardEmulationPreventionBytes:Gi,USER_DATA_REGISTERED_ITU_T_T35:qe},nn=t,$i=Vi,Vt=function(f){f=f||{},Vt.prototype.init.call(this),this.parse708captions_=typeof f.parse708captions=="boolean"?f.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new xt(0,0),new xt(0,1),new xt(1,0),new xt(1,1)],this.parse708captions_&&(this.cc708Stream_=new mt({captionServices:f.captionServices})),this.reset(),this.ccStreams_.forEach(function(g){g.on("data",this.trigger.bind(this,"data")),g.on("partialdone",this.trigger.bind(this,"partialdone")),g.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Vt.prototype=new nn,Vt.prototype.push=function(f){var g,_,v;if(f.nalUnitType==="sei_rbsp"&&(g=$i.parseSei(f.escapedRBSP),!!g.payload&&g.payloadType===$i.USER_DATA_REGISTERED_ITU_T_T35&&(_=$i.parseUserData(g),!!_))){if(f.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(f.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}v=$i.parseCaptionPackets(f.pts,_),this.captionPackets_=this.captionPackets_.concat(v),this.latestDts_!==f.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=f.dts}},Vt.prototype.flushCCStreams=function(f){this.ccStreams_.forEach(function(g){return f==="flush"?g.flush():g.partialFlush()},this)},Vt.prototype.flushStream=function(f){if(!this.captionPackets_.length){this.flushCCStreams(f);return}this.captionPackets_.forEach(function(g,_){g.presortIndex=_}),this.captionPackets_.sort(function(g,_){return g.pts===_.pts?g.presortIndex-_.presortIndex:g.pts-_.pts}),this.captionPackets_.forEach(function(g){g.type<2?this.dispatchCea608Packet(g):this.dispatchCea708Packet(g)},this),this.captionPackets_.length=0,this.flushCCStreams(f)},Vt.prototype.flush=function(){return this.flushStream("flush")},Vt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Vt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(f){f.reset()})},Vt.prototype.dispatchCea608Packet=function(f){this.setsTextOrXDSActive(f)?this.activeCea608Channel_[f.type]=null:this.setsChannel1Active(f)?this.activeCea608Channel_[f.type]=0:this.setsChannel2Active(f)&&(this.activeCea608Channel_[f.type]=1),this.activeCea608Channel_[f.type]!==null&&this.ccStreams_[(f.type<<1)+this.activeCea608Channel_[f.type]].push(f)},Vt.prototype.setsChannel1Active=function(f){return(f.ccData&30720)===4096},Vt.prototype.setsChannel2Active=function(f){return(f.ccData&30720)===6144},Vt.prototype.setsTextOrXDSActive=function(f){return(f.ccData&28928)===256||(f.ccData&30974)===4138||(f.ccData&30974)===6186},Vt.prototype.dispatchCea708Packet=function(f){this.parse708captions_&&this.cc708Stream_.push(f)};var rn={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Ti=function(f){var g=rn[f]||f;return f&4096&&f===g?"":String.fromCharCode(g)},Ut=function(f){return 32<=f&&f<=127||160<=f&&f<=255},ct=function(f){this.windowNum=f,this.reset()};ct.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ct.prototype.getText=function(){return this.rows.join(`
`)},ct.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ct.prototype.newLine=function(f){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(f),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ct.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ct.prototype.addText=function(f){this.rows[this.rowIdx]+=f},ct.prototype.backspace=function(){if(!this.isEmpty()){var f=this.rows[this.rowIdx];this.rows[this.rowIdx]=f.substr(0,f.length-1)}};var sn=function(f,g,_){this.serviceNum=f,this.text="",this.currentWindow=new ct(-1),this.windows=[],this.stream=_,typeof g=="string"&&this.createTextDecoder(g)};sn.prototype.init=function(f,g){this.startPts=f;for(var _=0;_<8;_++)this.windows[_]=new ct(_),typeof g=="function"&&(this.windows[_].beforeRowOverflow=g)},sn.prototype.setCurrentWindow=function(f){this.currentWindow=this.windows[f]},sn.prototype.createTextDecoder=function(f){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(f)}catch(g){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+f+" encoding. "+g})}};var mt=function(f){f=f||{},mt.prototype.init.call(this);var g=this,_=f.captionServices||{},v={},E;Object.keys(_).forEach(D=>{E=_[D],/^SERVICE/.test(D)&&(v[D]=E.encoding)}),this.serviceEncodings=v,this.current708Packet=null,this.services={},this.push=function(D){D.type===3?(g.new708Packet(),g.add708Bytes(D)):(g.current708Packet===null&&g.new708Packet(),g.add708Bytes(D))}};mt.prototype=new nn,mt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},mt.prototype.add708Bytes=function(f){var g=f.ccData,_=g>>>8,v=g&255;this.current708Packet.ptsVals.push(f.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(v)},mt.prototype.push708Packet=function(){var f=this.current708Packet,g=f.data,_=null,v=null,E=0,D=g[E++];for(f.seq=D>>6,f.sizeCode=D&63;E<g.length;E++)D=g[E++],_=D>>5,v=D&31,_===7&&v>0&&(D=g[E++],_=D),this.pushServiceBlock(_,E,v),v>0&&(E+=v-1)},mt.prototype.pushServiceBlock=function(f,g,_){var v,E=g,D=this.current708Packet.data,K=this.services[f];for(K||(K=this.initService(f,E));E<g+_&&E<D.length;E++)v=D[E],Ut(v)?E=this.handleText(E,K):v===24?E=this.multiByteCharacter(E,K):v===16?E=this.extendedCommands(E,K):128<=v&&v<=135?E=this.setCurrentWindow(E,K):152<=v&&v<=159?E=this.defineWindow(E,K):v===136?E=this.clearWindows(E,K):v===140?E=this.deleteWindows(E,K):v===137?E=this.displayWindows(E,K):v===138?E=this.hideWindows(E,K):v===139?E=this.toggleWindows(E,K):v===151?E=this.setWindowAttributes(E,K):v===144?E=this.setPenAttributes(E,K):v===145?E=this.setPenColor(E,K):v===146?E=this.setPenLocation(E,K):v===143?K=this.reset(E,K):v===8?K.currentWindow.backspace():v===12?K.currentWindow.clearText():v===13?K.currentWindow.pendingNewLine=!0:v===14?K.currentWindow.clearText():v===141&&E++},mt.prototype.extendedCommands=function(f,g){var _=this.current708Packet.data,v=_[++f];return Ut(v)&&(f=this.handleText(f,g,{isExtended:!0})),f},mt.prototype.getPts=function(f){return this.current708Packet.ptsVals[Math.floor(f/2)]},mt.prototype.initService=function(f,g){var v="SERVICE"+f,_=this,v,E;return v in this.serviceEncodings&&(E=this.serviceEncodings[v]),this.services[f]=new sn(f,E,_),this.services[f].init(this.getPts(g),function(D){_.flushDisplayed(D,_.services[f])}),this.services[f]},mt.prototype.handleText=function(f,g,_){var v=_&&_.isExtended,E=_&&_.isMultiByte,D=this.current708Packet.data,K=v?4096:0,X=D[f],Z=D[f+1],ie=g.currentWindow,ce,Ce;function Ue(we){return we.map(Ze=>("0"+(Ze&255).toString(16)).slice(-2)).join("")}if(E?(Ce=[X,Z],f++):Ce=[X],g.textDecoder_&&!v)ce=g.textDecoder_.decode(new Uint8Array(Ce));else if(E){const we=Ue(Ce);ce=String.fromCharCode(parseInt(we,16))}else ce=Ti(K|X);return ie.pendingNewLine&&!ie.isEmpty()&&ie.newLine(this.getPts(f)),ie.pendingNewLine=!1,ie.addText(ce),f},mt.prototype.multiByteCharacter=function(f,g){var _=this.current708Packet.data,v=_[f+1],E=_[f+2];return Ut(v)&&Ut(E)&&(f=this.handleText(++f,g,{isMultiByte:!0})),f},mt.prototype.setCurrentWindow=function(f,g){var _=this.current708Packet.data,v=_[f],E=v&7;return g.setCurrentWindow(E),f},mt.prototype.defineWindow=function(f,g){var _=this.current708Packet.data,v=_[f],E=v&7;g.setCurrentWindow(E);var D=g.currentWindow;return v=_[++f],D.visible=(v&32)>>5,D.rowLock=(v&16)>>4,D.columnLock=(v&8)>>3,D.priority=v&7,v=_[++f],D.relativePositioning=(v&128)>>7,D.anchorVertical=v&127,v=_[++f],D.anchorHorizontal=v,v=_[++f],D.anchorPoint=(v&240)>>4,D.rowCount=v&15,v=_[++f],D.columnCount=v&63,v=_[++f],D.windowStyle=(v&56)>>3,D.penStyle=v&7,D.virtualRowCount=D.rowCount+1,f},mt.prototype.setWindowAttributes=function(f,g){var _=this.current708Packet.data,v=_[f],E=g.currentWindow.winAttr;return v=_[++f],E.fillOpacity=(v&192)>>6,E.fillRed=(v&48)>>4,E.fillGreen=(v&12)>>2,E.fillBlue=v&3,v=_[++f],E.borderType=(v&192)>>6,E.borderRed=(v&48)>>4,E.borderGreen=(v&12)>>2,E.borderBlue=v&3,v=_[++f],E.borderType+=(v&128)>>5,E.wordWrap=(v&64)>>6,E.printDirection=(v&48)>>4,E.scrollDirection=(v&12)>>2,E.justify=v&3,v=_[++f],E.effectSpeed=(v&240)>>4,E.effectDirection=(v&12)>>2,E.displayEffect=v&3,f},mt.prototype.flushDisplayed=function(f,g){for(var _=[],v=0;v<8;v++)g.windows[v].visible&&!g.windows[v].isEmpty()&&_.push(g.windows[v].getText());g.endPts=f,g.text=_.join(`

`),this.pushCaption(g),g.startPts=f},mt.prototype.pushCaption=function(f){f.text!==""&&(this.trigger("data",{startPts:f.startPts,endPts:f.endPts,text:f.text,stream:"cc708_"+f.serviceNum}),f.text="",f.startPts=f.endPts)},mt.prototype.displayWindows=function(f,g){var _=this.current708Packet.data,v=_[++f],E=this.getPts(f);this.flushDisplayed(E,g);for(var D=0;D<8;D++)v&1<<D&&(g.windows[D].visible=1);return f},mt.prototype.hideWindows=function(f,g){var _=this.current708Packet.data,v=_[++f],E=this.getPts(f);this.flushDisplayed(E,g);for(var D=0;D<8;D++)v&1<<D&&(g.windows[D].visible=0);return f},mt.prototype.toggleWindows=function(f,g){var _=this.current708Packet.data,v=_[++f],E=this.getPts(f);this.flushDisplayed(E,g);for(var D=0;D<8;D++)v&1<<D&&(g.windows[D].visible^=1);return f},mt.prototype.clearWindows=function(f,g){var _=this.current708Packet.data,v=_[++f],E=this.getPts(f);this.flushDisplayed(E,g);for(var D=0;D<8;D++)v&1<<D&&g.windows[D].clearText();return f},mt.prototype.deleteWindows=function(f,g){var _=this.current708Packet.data,v=_[++f],E=this.getPts(f);this.flushDisplayed(E,g);for(var D=0;D<8;D++)v&1<<D&&g.windows[D].reset();return f},mt.prototype.setPenAttributes=function(f,g){var _=this.current708Packet.data,v=_[f],E=g.currentWindow.penAttr;return v=_[++f],E.textTag=(v&240)>>4,E.offset=(v&12)>>2,E.penSize=v&3,v=_[++f],E.italics=(v&128)>>7,E.underline=(v&64)>>6,E.edgeType=(v&56)>>3,E.fontStyle=v&7,f},mt.prototype.setPenColor=function(f,g){var _=this.current708Packet.data,v=_[f],E=g.currentWindow.penColor;return v=_[++f],E.fgOpacity=(v&192)>>6,E.fgRed=(v&48)>>4,E.fgGreen=(v&12)>>2,E.fgBlue=v&3,v=_[++f],E.bgOpacity=(v&192)>>6,E.bgRed=(v&48)>>4,E.bgGreen=(v&12)>>2,E.bgBlue=v&3,v=_[++f],E.edgeRed=(v&48)>>4,E.edgeGreen=(v&12)>>2,E.edgeBlue=v&3,f},mt.prototype.setPenLocation=function(f,g){var _=this.current708Packet.data,v=_[f],E=g.currentWindow.penLoc;return g.currentWindow.pendingNewLine=!0,v=_[++f],E.row=v&15,v=_[++f],E.column=v&63,f},mt.prototype.reset=function(f,g){var _=this.getPts(f);return this.flushDisplayed(_,g),this.initService(g.serviceNum,f)};var Qa={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Za=function(f){return f===null?"":(f=Qa[f]||f,String.fromCharCode(f))},Ys=14,Ws=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Gn=function(){for(var f=[],g=Ys+1;g--;)f.push({text:"",indent:0,offset:0});return f},xt=function(f,g){xt.prototype.init.call(this),this.field_=f||0,this.dataChannel_=g||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(_){var v,E,D,K,X;if(v=_.ccData&32639,v===this.lastControlCode_){this.lastControlCode_=null;return}if((v&61440)===4096?this.lastControlCode_=v:v!==this.PADDING_&&(this.lastControlCode_=null),D=v>>>8,K=v&255,v!==this.PADDING_)if(v===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(v===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(_.pts),this.flushDisplayed(_.pts),E=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=E,this.startPts_=_.pts;else if(v===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(_.pts);else if(v===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(_.pts);else if(v===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(_.pts);else if(v===this.CARRIAGE_RETURN_)this.clearFormatting(_.pts),this.flushDisplayed(_.pts),this.shiftRowsUp_(),this.startPts_=_.pts;else if(v===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(v===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(_.pts),this.displayed_=Gn();else if(v===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Gn();else if(v===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(_.pts),this.displayed_=Gn()),this.mode_="paintOn",this.startPts_=_.pts;else if(this.isSpecialCharacter(D,K))D=(D&3)<<8,X=Za(D|K),this[this.mode_](_.pts,X),this.column_++;else if(this.isExtCharacter(D,K))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),D=(D&3)<<8,X=Za(D|K),this[this.mode_](_.pts,X),this.column_++;else if(this.isMidRowCode(D,K))this.clearFormatting(_.pts),this[this.mode_](_.pts," "),this.column_++,(K&14)===14&&this.addFormatting(_.pts,["i"]),(K&1)===1&&this.addFormatting(_.pts,["u"]);else if(this.isOffsetControlCode(D,K)){const ie=K&3;this.nonDisplayed_[this.row_].offset=ie,this.column_+=ie}else if(this.isPAC(D,K)){var Z=Ws.indexOf(v&7968);if(this.mode_==="rollUp"&&(Z-this.rollUpRows_+1<0&&(Z=this.rollUpRows_-1),this.setRollUp(_.pts,Z)),Z!==this.row_&&Z>=0&&Z<=14&&(this.clearFormatting(_.pts),this.row_=Z),K&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(_.pts,["u"]),(v&16)===16){const ie=(v&14)>>1;this.column_=ie*4,this.nonDisplayed_[this.row_].indent+=ie}this.isColorPAC(K)&&(K&14)===14&&this.addFormatting(_.pts,["i"])}else this.isNormalChar(D)&&(K===0&&(K=null),X=Za(D),X+=Za(K),this[this.mode_](_.pts,X),this.column_+=X.length)}};xt.prototype=new nn,xt.prototype.flushDisplayed=function(f){const g=v=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+v+"."})},_=[];this.displayed_.forEach((v,E)=>{if(v&&v.text&&v.text.length){try{v.text=v.text.trim()}catch{g(E)}v.text.length&&_.push({text:v.text,line:E+1,position:10+Math.min(70,v.indent*10)+v.offset*2.5})}else v==null&&g(E)}),_.length&&this.trigger("data",{startPts:this.startPts_,endPts:f,content:_,stream:this.name_})},xt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Gn(),this.nonDisplayed_=Gn(),this.lastControlCode_=null,this.column_=0,this.row_=Ys,this.rollUpRows_=2,this.formatting_=[]},xt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},xt.prototype.isSpecialCharacter=function(f,g){return f===this.EXT_&&g>=48&&g<=63},xt.prototype.isExtCharacter=function(f,g){return(f===this.EXT_+1||f===this.EXT_+2)&&g>=32&&g<=63},xt.prototype.isMidRowCode=function(f,g){return f===this.EXT_&&g>=32&&g<=47},xt.prototype.isOffsetControlCode=function(f,g){return f===this.OFFSET_&&g>=33&&g<=35},xt.prototype.isPAC=function(f,g){return f>=this.BASE_&&f<this.BASE_+8&&g>=64&&g<=127},xt.prototype.isColorPAC=function(f){return f>=64&&f<=79||f>=96&&f<=127},xt.prototype.isNormalChar=function(f){return f>=32&&f<=127},xt.prototype.setRollUp=function(f,g){if(this.mode_!=="rollUp"&&(this.row_=Ys,this.mode_="rollUp",this.flushDisplayed(f),this.nonDisplayed_=Gn(),this.displayed_=Gn()),g!==void 0&&g!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[g-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]={text:"",indent:0,offset:0};g===void 0&&(g=this.row_),this.topRow_=g-this.rollUpRows_+1},xt.prototype.addFormatting=function(f,g){this.formatting_=this.formatting_.concat(g);var _=g.reduce(function(v,E){return v+"<"+E+">"},"");this[this.mode_](f,_)},xt.prototype.clearFormatting=function(f){if(this.formatting_.length){var g=this.formatting_.reverse().reduce(function(_,v){return _+"</"+v+">"},"");this.formatting_=[],this[this.mode_](f,g)}},xt.prototype.popOn=function(f,g){var _=this.nonDisplayed_[this.row_].text;_+=g,this.nonDisplayed_[this.row_].text=_},xt.prototype.rollUp=function(f,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_},xt.prototype.shiftRowsUp_=function(){var f;for(f=0;f<this.topRow_;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.row_+1;f<Ys+1;f++)this.displayed_[f]={text:"",indent:0,offset:0};for(f=this.topRow_;f<this.row_;f++)this.displayed_[f]=this.displayed_[f+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},xt.prototype.paintOn=function(f,g){var _=this.displayed_[this.row_].text;_+=g,this.displayed_[this.row_].text=_};var Nr={CaptionStream:Vt,Cea608Stream:xt,Cea708Stream:mt},nr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ls=t,pi=8589934592,xc=4294967296,Ru="shared",Vn=function(f,g){var _=1;for(f>g&&(_=-1);Math.abs(g-f)>xc;)f+=_*pi;return f},rr=function(f){var g,_;rr.prototype.init.call(this),this.type_=f||Ru,this.push=function(v){if(v.type==="metadata"){this.trigger("data",v);return}this.type_!==Ru&&v.type!==this.type_||(_===void 0&&(_=v.dts),v.dts=Vn(v.dts,_),v.pts=Vn(v.pts,_),g=v.dts,this.trigger("data",v))},this.flush=function(){_=g,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){_=void 0,g=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};rr.prototype=new ls;var An={TimestampRolloverStream:rr,handleRollover:Vn},Jh=(f,g,_)=>{if(!f)return-1;for(var v=_;v<f.length;v++)if(f[v]===g)return v;return-1},Ec={typedArrayIndexOf:Jh},Qs=Ec.typedArrayIndexOf,Ja={Utf8:3},Zs=function(f,g,_){var v,E="";for(v=g;v<_;v++)E+="%"+("00"+f[v].toString(16)).slice(-2);return E},sr=function(f,g,_){return decodeURIComponent(Zs(f,g,_))},Ki=function(f,g,_){return unescape(Zs(f,g,_))},Si=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},cs={APIC:function(f){var g=1,_,v,E="-->";f.data[0]===Ja.Utf8&&(_=Qs(f.data,0,g),!(_<0)&&(f.mimeType=Ki(f.data,g,_),g=_+1,f.pictureType=f.data[g],g++,v=Qs(f.data,0,g),!(v<0)&&(f.description=sr(f.data,g,v),g=v+1,f.mimeType===E?f.url=Ki(f.data,g,f.data.length):f.pictureData=f.data.subarray(g,f.data.length))))},"T*":function(f){f.data[0]===Ja.Utf8&&(f.value=sr(f.data,1,f.data.length).replace(/\0*$/,""),f.values=f.value.split("\0"))},TXXX:function(f){var g;f.data[0]===Ja.Utf8&&(g=Qs(f.data,0,1),g!==-1&&(f.description=sr(f.data,1,g),f.value=sr(f.data,g+1,f.data.length).replace(/\0*$/,""),f.data=f.value))},"W*":function(f){f.url=Ki(f.data,0,f.data.length).replace(/\0.*$/,"")},WXXX:function(f){var g;f.data[0]===Ja.Utf8&&(g=Qs(f.data,0,1),g!==-1&&(f.description=sr(f.data,1,g),f.url=Ki(f.data,g+1,f.data.length).replace(/\0.*$/,"")))},PRIV:function(f){var g;for(g=0;g<f.data.length;g++)if(f.data[g]===0){f.owner=Ki(f.data,0,g);break}f.privateData=f.data.subarray(g+1),f.data=f.privateData}},ef=function(f){var g,_,v=10,E=0,D=[];if(!(f.length<10||f[0]!==73||f[1]!==68||f[2]!==51)){E=Si(f.subarray(6,10)),E+=10;var K=f[5]&64;K&&(v+=4,v+=Si(f.subarray(10,14)),E-=Si(f.subarray(16,20)));do{if(g=Si(f.subarray(v+4,v+8)),g<1)break;_=String.fromCharCode(f[v],f[v+1],f[v+2],f[v+3]);var X={id:_,data:f.subarray(v+10,v+g+10)};X.key=X.id,cs[X.id]?cs[X.id](X):X.id[0]==="T"?cs["T*"](X):X.id[0]==="W"&&cs["W*"](X),D.push(X),v+=10,v+=g}while(v<E);return D}},Js={parseId3Frames:ef,parseSyncSafeInteger:Si,frameParsers:cs},Cc=t,eo=nr,ar=Js,ki;ki=function(f){var g={descriptor:f&&f.descriptor},_=0,v=[],E=0,D;if(ki.prototype.init.call(this),this.dispatchType=eo.METADATA_STREAM_TYPE.toString(16),g.descriptor)for(D=0;D<g.descriptor.length;D++)this.dispatchType+=("00"+g.descriptor[D].toString(16)).slice(-2);this.push=function(K){var X,Z,ie,ce,Ce,Ue;if(K.type==="timed-metadata"){if(K.dataAlignmentIndicator&&(E=0,v.length=0),v.length===0&&(K.data.length<10||K.data[0]!==73||K.data[1]!==68||K.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(v.push(K),E+=K.data.byteLength,v.length===1&&(_=ar.parseSyncSafeInteger(K.data.subarray(6,10)),_+=10),!(E<_)){for(X={data:new Uint8Array(_),frames:[],pts:v[0].pts,dts:v[0].dts},Ce=0;Ce<_;)X.data.set(v[0].data.subarray(0,_-Ce),Ce),Ce+=v[0].data.byteLength,E-=v[0].data.byteLength,v.shift();Z=10,X.data[5]&64&&(Z+=4,Z+=ar.parseSyncSafeInteger(X.data.subarray(10,14)),_-=ar.parseSyncSafeInteger(X.data.subarray(16,20)));do{if(ie=ar.parseSyncSafeInteger(X.data.subarray(Z+4,Z+8)),ie<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ue=String.fromCharCode(X.data[Z],X.data[Z+1],X.data[Z+2],X.data[Z+3]),ce={id:Ue,data:X.data.subarray(Z+10,Z+ie+10)},ce.key=ce.id,ar.frameParsers[ce.id]?ar.frameParsers[ce.id](ce):ce.id[0]==="T"?ar.frameParsers["T*"](ce):ce.id[0]==="W"&&ar.frameParsers["W*"](ce),ce.owner==="com.apple.streaming.transportStreamTimestamp"){var we=ce.data,Ze=(we[3]&1)<<30|we[4]<<22|we[5]<<14|we[6]<<6|we[7]>>>2;Ze*=4,Ze+=we[7]&3,ce.timeStamp=Ze,X.pts===void 0&&X.dts===void 0&&(X.pts=ce.timeStamp,X.dts=ce.timeStamp),this.trigger("timestamp",ce)}X.frames.push(ce),Z+=10,Z+=ie}while(Z<_);this.trigger("data",X)}}}},ki.prototype=new Cc;var ku=ki,to=t,ea=Nr,xi=nr,wc=An.TimestampRolloverStream,ta,Dn,io,Ir=188,no=71;ta=function(){var f=new Uint8Array(Ir),g=0;ta.prototype.init.call(this),this.push=function(_){var v=0,E=Ir,D;for(g?(D=new Uint8Array(_.byteLength+g),D.set(f.subarray(0,g)),D.set(_,g),g=0):D=_;E<D.byteLength;){if(D[v]===no&&D[E]===no){this.trigger("data",D.subarray(v,E)),v+=Ir,E+=Ir;continue}v++,E++}v<D.byteLength&&(f.set(D.subarray(v),0),g=D.byteLength-v)},this.flush=function(){g===Ir&&f[0]===no&&(this.trigger("data",f),g=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){g=0,this.trigger("reset")}},ta.prototype=new to,Dn=function(){var f,g,_,v;Dn.prototype.init.call(this),v=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,f=function(E,D){var K=0;D.payloadUnitStartIndicator&&(K+=E[K]+1),D.type==="pat"?g(E.subarray(K),D):_(E.subarray(K),D)},g=function(E,D){D.section_number=E[7],D.last_section_number=E[8],v.pmtPid=(E[10]&31)<<8|E[11],D.pmtPid=v.pmtPid},_=function(E,D){var K,X,Z,ie;if(E[5]&1){for(v.programMapTable={video:null,audio:null,"timed-metadata":{}},K=(E[1]&15)<<8|E[2],X=3+K-4,Z=(E[10]&15)<<8|E[11],ie=12+Z;ie<X;){var ce=E[ie],Ce=(E[ie+1]&31)<<8|E[ie+2];ce===xi.H264_STREAM_TYPE&&v.programMapTable.video===null?v.programMapTable.video=Ce:ce===xi.ADTS_STREAM_TYPE&&v.programMapTable.audio===null?v.programMapTable.audio=Ce:ce===xi.METADATA_STREAM_TYPE&&(v.programMapTable["timed-metadata"][Ce]=ce),ie+=((E[ie+3]&15)<<8|E[ie+4])+5}D.programMapTable=v.programMapTable}},this.push=function(E){var D={},K=4;if(D.payloadUnitStartIndicator=!!(E[1]&64),D.pid=E[1]&31,D.pid<<=8,D.pid|=E[2],(E[3]&48)>>>4>1&&(K+=E[K]+1),D.pid===0)D.type="pat",f(E.subarray(K),D),this.trigger("data",D);else if(D.pid===this.pmtPid)for(D.type="pmt",f(E.subarray(K),D),this.trigger("data",D);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([E,K,D]):this.processPes_(E,K,D)},this.processPes_=function(E,D,K){K.pid===this.programMapTable.video?K.streamType=xi.H264_STREAM_TYPE:K.pid===this.programMapTable.audio?K.streamType=xi.ADTS_STREAM_TYPE:K.streamType=this.programMapTable["timed-metadata"][K.pid],K.type="pes",K.data=E.subarray(D),this.trigger("data",K)}},Dn.prototype=new to,Dn.STREAM_TYPES={h264:27,adts:15},io=function(){var f=this,g=!1,_={data:[],size:0},v={data:[],size:0},E={data:[],size:0},D,K=function(Z,ie){var ce;const Ce=Z[0]<<16|Z[1]<<8|Z[2];ie.data=new Uint8Array,Ce===1&&(ie.packetLength=6+(Z[4]<<8|Z[5]),ie.dataAlignmentIndicator=(Z[6]&4)!==0,ce=Z[7],ce&192&&(ie.pts=(Z[9]&14)<<27|(Z[10]&255)<<20|(Z[11]&254)<<12|(Z[12]&255)<<5|(Z[13]&254)>>>3,ie.pts*=4,ie.pts+=(Z[13]&6)>>>1,ie.dts=ie.pts,ce&64&&(ie.dts=(Z[14]&14)<<27|(Z[15]&255)<<20|(Z[16]&254)<<12|(Z[17]&255)<<5|(Z[18]&254)>>>3,ie.dts*=4,ie.dts+=(Z[18]&6)>>>1)),ie.data=Z.subarray(9+Z[8]))},X=function(Z,ie,ce){var Ce=new Uint8Array(Z.size),Ue={type:ie},we=0,Ze=0,at=!1,Ft;if(!(!Z.data.length||Z.size<9)){for(Ue.trackId=Z.data[0].pid,we=0;we<Z.data.length;we++)Ft=Z.data[we],Ce.set(Ft.data,Ze),Ze+=Ft.data.byteLength;K(Ce,Ue),at=ie==="video"||Ue.packetLength<=Z.size,(ce||at)&&(Z.size=0,Z.data.length=0),at&&f.trigger("data",Ue)}};io.prototype.init.call(this),this.push=function(Z){({pat:function(){},pes:function(){var ie,ce;switch(Z.streamType){case xi.H264_STREAM_TYPE:ie=_,ce="video";break;case xi.ADTS_STREAM_TYPE:ie=v,ce="audio";break;case xi.METADATA_STREAM_TYPE:ie=E,ce="timed-metadata";break;default:return}Z.payloadUnitStartIndicator&&X(ie,ce,!0),ie.data.push(Z),ie.size+=Z.data.byteLength},pmt:function(){var ie={type:"metadata",tracks:[]};D=Z.programMapTable,D.video!==null&&ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.video,codec:"avc",type:"video"}),D.audio!==null&&ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.audio,codec:"adts",type:"audio"}),g=!0,f.trigger("data",ie)}})[Z.type]()},this.reset=function(){_.size=0,_.data.length=0,v.size=0,v.data.length=0,this.trigger("reset")},this.flushStreams_=function(){X(_,"video"),X(v,"audio"),X(E,"timed-metadata")},this.flush=function(){if(!g&&D){var Z={type:"metadata",tracks:[]};D.video!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.video,codec:"avc",type:"video"}),D.audio!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+D.audio,codec:"adts",type:"audio"}),f.trigger("data",Z)}g=!1,this.flushStreams_(),this.trigger("done")}},io.prototype=new to;var ro={PAT_PID:0,MP2T_PACKET_LENGTH:Ir,TransportPacketStream:ta,TransportParseStream:Dn,ElementaryStream:io,TimestampRolloverStream:wc,CaptionStream:ea.CaptionStream,Cea608Stream:ea.Cea608Stream,Cea708Stream:ea.Cea708Stream,MetadataStream:ku};for(var Mu in xi)xi.hasOwnProperty(Mu)&&(ro[Mu]=xi[Mu]);var tf=ro,so=t,Lu=lt.ONE_SECOND_IN_TS,ds,Br=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ds=function(f){var g,_=0;ds.prototype.init.call(this),this.skipWarn_=function(v,E){this.trigger("log",{level:"warn",message:`adts skiping bytes ${v} to ${E} in frame ${_} outside syncword`})},this.push=function(v){var E=0,D,K,X,Z,ie;if(f||(_=0),v.type==="audio"){g&&g.length?(X=g,g=new Uint8Array(X.byteLength+v.data.byteLength),g.set(X),g.set(v.data,X.byteLength)):g=v.data;for(var ce;E+7<g.length;){if(g[E]!==255||(g[E+1]&246)!==240){typeof ce!="number"&&(ce=E),E++;continue}if(typeof ce=="number"&&(this.skipWarn_(ce,E),ce=null),K=(~g[E+1]&1)*2,D=(g[E+3]&3)<<11|g[E+4]<<3|(g[E+5]&224)>>5,Z=((g[E+6]&3)+1)*1024,ie=Z*Lu/Br[(g[E+2]&60)>>>2],g.byteLength-E<D)break;this.trigger("data",{pts:v.pts+_*ie,dts:v.dts+_*ie,sampleCount:Z,audioobjecttype:(g[E+2]>>>6&3)+1,channelcount:(g[E+2]&1)<<2|(g[E+3]&192)>>>6,samplerate:Br[(g[E+2]&60)>>>2],samplingfrequencyindex:(g[E+2]&60)>>>2,samplesize:16,data:g.subarray(E+7+K,E+D)}),_++,E+=D}typeof ce=="number"&&(this.skipWarn_(ce,E),ce=null),g=g.subarray(E)}},this.flush=function(){_=0,this.trigger("done")},this.reset=function(){g=void 0,this.trigger("reset")},this.endTimeline=function(){g=void 0,this.trigger("endedtimeline")}},ds.prototype=new so;var hs=ds,Pu;Pu=function(f){var g=f.byteLength,_=0,v=0;this.length=function(){return 8*g},this.bitsAvailable=function(){return 8*g+v},this.loadWord=function(){var E=f.byteLength-g,D=new Uint8Array(4),K=Math.min(4,g);if(K===0)throw new Error("no bytes available");D.set(f.subarray(E,E+K)),_=new DataView(D.buffer).getUint32(0),v=K*8,g-=K},this.skipBits=function(E){var D;v>E?(_<<=E,v-=E):(E-=v,D=Math.floor(E/8),E-=D*8,g-=D,this.loadWord(),_<<=E,v-=E)},this.readBits=function(E){var D=Math.min(v,E),K=_>>>32-D;return v-=D,v>0?_<<=D:g>0&&this.loadWord(),D=E-D,D>0?K<<D|this.readBits(D):K},this.skipLeadingZeros=function(){var E;for(E=0;E<v;++E)if((_&2147483648>>>E)!==0)return _<<=E,v-=E,E;return this.loadWord(),E+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var E=this.skipLeadingZeros();return this.readBits(E+1)-1},this.readExpGolomb=function(){var E=this.readUnsignedExpGolomb();return 1&E?1+E>>>1:-1*(E>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Nu=Pu,Iu=t,ia=Nu,fs,or,$n;or=function(){var f=0,g,_;or.prototype.init.call(this),this.push=function(v){var E;_?(E=new Uint8Array(_.byteLength+v.data.byteLength),E.set(_),E.set(v.data,_.byteLength),_=E):_=v.data;for(var D=_.byteLength;f<D-3;f++)if(_[f+2]===1){g=f+5;break}for(;g<D;)switch(_[g]){case 0:if(_[g-1]!==0){g+=2;break}else if(_[g-2]!==0){g++;break}f+3!==g-2&&this.trigger("data",_.subarray(f+3,g-2));do g++;while(_[g]!==1&&g<D);f=g-2,g+=3;break;case 1:if(_[g-1]!==0||_[g-2]!==0){g+=3;break}this.trigger("data",_.subarray(f+3,g-2)),f=g-2,g+=3;break;default:g+=3;break}_=_.subarray(f),g-=f,f=0},this.reset=function(){_=null,f=0,this.trigger("reset")},this.flush=function(){_&&_.byteLength>3&&this.trigger("data",_.subarray(f+3)),_=null,f=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},or.prototype=new Iu,$n={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},fs=function(){var f=new or,g,_,v,E,D,K,X;fs.prototype.init.call(this),g=this,this.push=function(Z){Z.type==="video"&&(_=Z.trackId,v=Z.pts,E=Z.dts,f.push(Z))},f.on("data",function(Z){var ie={trackId:_,pts:v,dts:E,data:Z,nalUnitTypeCode:Z[0]&31};switch(ie.nalUnitTypeCode){case 5:ie.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ie.nalUnitType="sei_rbsp",ie.escapedRBSP=D(Z.subarray(1));break;case 7:ie.nalUnitType="seq_parameter_set_rbsp",ie.escapedRBSP=D(Z.subarray(1)),ie.config=K(ie.escapedRBSP);break;case 8:ie.nalUnitType="pic_parameter_set_rbsp";break;case 9:ie.nalUnitType="access_unit_delimiter_rbsp";break}g.trigger("data",ie)}),f.on("done",function(){g.trigger("done")}),f.on("partialdone",function(){g.trigger("partialdone")}),f.on("reset",function(){g.trigger("reset")}),f.on("endedtimeline",function(){g.trigger("endedtimeline")}),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},X=function(Z,ie){var ce=8,Ce=8,Ue,we;for(Ue=0;Ue<Z;Ue++)Ce!==0&&(we=ie.readExpGolomb(),Ce=(ce+we+256)%256),ce=Ce===0?ce:Ce},D=function(Z){for(var ie=Z.byteLength,ce=[],Ce=1,Ue,we;Ce<ie-2;)Z[Ce]===0&&Z[Ce+1]===0&&Z[Ce+2]===3?(ce.push(Ce+2),Ce+=2):Ce++;if(ce.length===0)return Z;Ue=ie-ce.length,we=new Uint8Array(Ue);var Ze=0;for(Ce=0;Ce<Ue;Ze++,Ce++)Ze===ce[0]&&(Ze++,ce.shift()),we[Ce]=Z[Ze];return we},K=function(Z){var ie=0,ce=0,Ce=0,Ue=0,we,Ze,at,Ft,Zt,kt,gr,Ta,Sa,xa,Xt,Rt=[1,1],Yn,Li;if(we=new ia(Z),Ze=we.readUnsignedByte(),Ft=we.readUnsignedByte(),at=we.readUnsignedByte(),we.skipUnsignedExpGolomb(),$n[Ze]&&(Zt=we.readUnsignedExpGolomb(),Zt===3&&we.skipBits(1),we.skipUnsignedExpGolomb(),we.skipUnsignedExpGolomb(),we.skipBits(1),we.readBoolean()))for(Xt=Zt!==3?8:12,Li=0;Li<Xt;Li++)we.readBoolean()&&(Li<6?X(16,we):X(64,we));if(we.skipUnsignedExpGolomb(),kt=we.readUnsignedExpGolomb(),kt===0)we.readUnsignedExpGolomb();else if(kt===1)for(we.skipBits(1),we.skipExpGolomb(),we.skipExpGolomb(),gr=we.readUnsignedExpGolomb(),Li=0;Li<gr;Li++)we.skipExpGolomb();if(we.skipUnsignedExpGolomb(),we.skipBits(1),Ta=we.readUnsignedExpGolomb(),Sa=we.readUnsignedExpGolomb(),xa=we.readBits(1),xa===0&&we.skipBits(1),we.skipBits(1),we.readBoolean()&&(ie=we.readUnsignedExpGolomb(),ce=we.readUnsignedExpGolomb(),Ce=we.readUnsignedExpGolomb(),Ue=we.readUnsignedExpGolomb()),we.readBoolean()&&we.readBoolean()){switch(Yn=we.readUnsignedByte(),Yn){case 1:Rt=[1,1];break;case 2:Rt=[12,11];break;case 3:Rt=[10,11];break;case 4:Rt=[16,11];break;case 5:Rt=[40,33];break;case 6:Rt=[24,11];break;case 7:Rt=[20,11];break;case 8:Rt=[32,11];break;case 9:Rt=[80,33];break;case 10:Rt=[18,11];break;case 11:Rt=[15,11];break;case 12:Rt=[64,33];break;case 13:Rt=[160,99];break;case 14:Rt=[4,3];break;case 15:Rt=[3,2];break;case 16:Rt=[2,1];break;case 255:{Rt=[we.readUnsignedByte()<<8|we.readUnsignedByte(),we.readUnsignedByte()<<8|we.readUnsignedByte()];break}}Rt&&Rt[0]/Rt[1]}return{profileIdc:Ze,levelIdc:at,profileCompatibility:Ft,width:(Ta+1)*16-ie*2-ce*2,height:(2-xa)*(Sa+1)*16-Ce*2-Ue*2,sarRatio:Rt}}},fs.prototype=new Iu;var Bu={H264Stream:fs},ao=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Uu=function(f,g){var _=f[g+6]<<21|f[g+7]<<14|f[g+8]<<7|f[g+9],v=f[g+5],E=(v&16)>>4;return _=_>=0?_:0,E?_+20:_+10},na=function(f,g){return f.length-g<10||f[g]!==73||f[g+1]!==68||f[g+2]!==51?g:(g+=Uu(f,g),na(f,g))},oo=function(f){var g=na(f,0);return f.length>=g+2&&(f[g]&255)===255&&(f[g+1]&240)===240&&(f[g+1]&22)===16},Fu=function(f){return f[0]<<21|f[1]<<14|f[2]<<7|f[3]},Bi=function(f,g,_){var v,E="";for(v=g;v<_;v++)E+="%"+("00"+f[v].toString(16)).slice(-2);return E},Ur=function(f,g,_){return unescape(Bi(f,g,_))},uo=function(f,g){var _=(f[g+5]&224)>>5,v=f[g+4]<<3,E=f[g+3]&6144;return E|v|_},ra=function(f,g){return f[g]===73&&f[g+1]===68&&f[g+2]===51?"timed-metadata":f[g]&!0&&(f[g+1]&240)===240?"audio":null},nf=function(f){for(var g=0;g+5<f.length;){if(f[g]!==255||(f[g+1]&246)!==240){g++;continue}return ao[(f[g+2]&60)>>>2]}return null},qu=function(f){var g,_,v,E;g=10,f[5]&64&&(g+=4,g+=Fu(f.subarray(10,14)));do{if(_=Fu(f.subarray(g+4,g+8)),_<1)return null;if(E=String.fromCharCode(f[g],f[g+1],f[g+2],f[g+3]),E==="PRIV"){v=f.subarray(g+10,g+_+10);for(var D=0;D<v.byteLength;D++)if(v[D]===0){var K=Ur(v,0,D);if(K==="com.apple.streaming.transportStreamTimestamp"){var X=v.subarray(D+1),Z=(X[3]&1)<<30|X[4]<<22|X[5]<<14|X[6]<<6|X[7]>>>2;return Z*=4,Z+=X[7]&3,Z}break}}g+=10,g+=_}while(g<f.byteLength);return null},sa={isLikelyAacData:oo,parseId3TagSize:Uu,parseAdtsSize:uo,parseType:ra,parseSampleRate:nf,parseAacTimestamp:qu},aa=t,oa=sa,ua;ua=function(){var f=new Uint8Array,g=0;ua.prototype.init.call(this),this.setTimestamp=function(_){g=_},this.push=function(_){var v=0,E=0,D,K,X,Z;for(f.length?(Z=f.length,f=new Uint8Array(_.byteLength+Z),f.set(f.subarray(0,Z)),f.set(_,Z)):f=_;f.length-E>=3;){if(f[E]===73&&f[E+1]===68&&f[E+2]===51){if(f.length-E<10||(v=oa.parseId3TagSize(f,E),E+v>f.length))break;K={type:"timed-metadata",data:f.subarray(E,E+v)},this.trigger("data",K),E+=v;continue}else if((f[E]&255)===255&&(f[E+1]&240)===240){if(f.length-E<7||(v=oa.parseAdtsSize(f,E),E+v>f.length))break;X={type:"audio",data:f.subarray(E,E+v),pts:g,dts:g},this.trigger("data",X),E+=v;continue}E++}D=f.length-E,D>0?f=f.subarray(E):f=new Uint8Array},this.reset=function(){f=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){f=new Uint8Array,this.trigger("endedtimeline")}},ua.prototype=new aa;var rf=ua,sf=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],af=sf,ju=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],of=ju,lo=t,la=ke,ca=Pe,co=Lr,an=Se,Kn=tf,ho=lt,Ac=hs,uf=Bu.H264Stream,Hu=rf,lf=sa.isLikelyAacData,cf=lt.ONE_SECOND_IN_TS,Dc=af,zu=of,fo,da,po,Fr,df=function(f,g){g.stream=f,this.trigger("log",g)},Oc=function(f,g){for(var _=Object.keys(g),v=0;v<_.length;v++){var E=_[v];E==="headOfPipeline"||!g[E].on||g[E].on("log",df.bind(f,E))}},Rc=function(f,g){var _;if(f.length!==g.length)return!1;for(_=0;_<f.length;_++)if(f[_]!==g[_])return!1;return!0},kc=function(f,g,_,v,E,D){var K=_-g,X=v-g,Z=E-_;return{start:{dts:f,pts:f+K},end:{dts:f+X,pts:f+Z},prependedContentDuration:D,baseMediaDecodeTime:f}};da=function(f,g){var _=[],v,E=0,D=0,K=1/0;g=g||{},v=g.firstSequenceNumber||0,da.prototype.init.call(this),this.push=function(X){an.collectDtsInfo(f,X),f&&Dc.forEach(function(Z){f[Z]=X[Z]}),_.push(X)},this.setEarliestDts=function(X){E=X},this.setVideoBaseMediaDecodeTime=function(X){K=X},this.setAudioAppendStart=function(X){D=X},this.flush=function(){var X,Z,ie,ce,Ce,Ue,we;if(_.length===0){this.trigger("done","AudioSegmentStream");return}X=co.trimAdtsFramesByEarliestDts(_,f,E),f.baseMediaDecodeTime=an.calculateTrackBaseMediaDecodeTime(f,g.keepOriginalTimestamps),we=co.prefixWithSilence(f,X,D,K),f.samples=co.generateSampleTable(X),ie=la.mdat(co.concatenateFrameData(X)),_=[],Z=la.moof(v,[f]),ce=new Uint8Array(Z.byteLength+ie.byteLength),v++,ce.set(Z),ce.set(ie,Z.byteLength),an.clearDtsInfo(f),Ce=Math.ceil(cf*1024/f.samplerate),X.length&&(Ue=X.length*Ce,this.trigger("segmentTimingInfo",kc(ho.audioTsToVideoTs(f.baseMediaDecodeTime,f.samplerate),X[0].dts,X[0].pts,X[0].dts+Ue,X[0].pts+Ue,we||0)),this.trigger("timingInfo",{start:X[0].pts,end:X[0].pts+Ue})),this.trigger("data",{track:f,boxes:ce}),this.trigger("done","AudioSegmentStream")},this.reset=function(){an.clearDtsInfo(f),_=[],this.trigger("reset")}},da.prototype=new lo,fo=function(f,g){var _,v=[],E=[],D,K;g=g||{},_=g.firstSequenceNumber||0,fo.prototype.init.call(this),delete f.minPTS,this.gopCache_=[],this.push=function(X){an.collectDtsInfo(f,X),X.nalUnitType==="seq_parameter_set_rbsp"&&!D&&(D=X.config,f.sps=[X.data],zu.forEach(function(Z){f[Z]=D[Z]},this)),X.nalUnitType==="pic_parameter_set_rbsp"&&!K&&(K=X.data,f.pps=[X.data]),v.push(X)},this.flush=function(){for(var X,Z,ie,ce,Ce,Ue,we=0,Ze,at;v.length&&v[0].nalUnitType!=="access_unit_delimiter_rbsp";)v.shift();if(v.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(X=ca.groupNalsIntoFrames(v),ie=ca.groupFramesIntoGops(X),ie[0][0].keyFrame||(Z=this.getGopForFusion_(v[0],f),Z?(we=Z.duration,ie.unshift(Z),ie.byteLength+=Z.byteLength,ie.nalCount+=Z.nalCount,ie.pts=Z.pts,ie.dts=Z.dts,ie.duration+=Z.duration):ie=ca.extendFirstKeyFrame(ie)),E.length){var Ft;if(g.alignGopsAtEnd?Ft=this.alignGopsAtEnd_(ie):Ft=this.alignGopsAtStart_(ie),!Ft){this.gopCache_.unshift({gop:ie.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}an.clearDtsInfo(f),ie=Ft}an.collectDtsInfo(f,ie),f.samples=ca.generateSampleTable(ie),Ce=la.mdat(ca.concatenateNalData(ie)),f.baseMediaDecodeTime=an.calculateTrackBaseMediaDecodeTime(f,g.keepOriginalTimestamps),this.trigger("processedGopsInfo",ie.map(function(Zt){return{pts:Zt.pts,dts:Zt.dts,byteLength:Zt.byteLength}})),Ze=ie[0],at=ie[ie.length-1],this.trigger("segmentTimingInfo",kc(f.baseMediaDecodeTime,Ze.dts,Ze.pts,at.dts+at.duration,at.pts+at.duration,we)),this.trigger("timingInfo",{start:ie[0].pts,end:ie[ie.length-1].pts+ie[ie.length-1].duration}),this.gopCache_.unshift({gop:ie.pop(),pps:f.pps,sps:f.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),v=[],this.trigger("baseMediaDecodeTime",f.baseMediaDecodeTime),this.trigger("timelineStartInfo",f.timelineStartInfo),ce=la.moof(_,[f]),Ue=new Uint8Array(ce.byteLength+Ce.byteLength),_++,Ue.set(ce),Ue.set(Ce,ce.byteLength),this.trigger("data",{track:f,boxes:Ue}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),v=[],this.gopCache_.length=0,E.length=0,this.trigger("reset")},this.resetStream_=function(){an.clearDtsInfo(f),D=void 0,K=void 0},this.getGopForFusion_=function(X){var Z=45e3,ie=1/0,ce,Ce,Ue,we,Ze;for(Ze=0;Ze<this.gopCache_.length;Ze++)we=this.gopCache_[Ze],Ue=we.gop,!(!(f.pps&&Rc(f.pps[0],we.pps[0]))||!(f.sps&&Rc(f.sps[0],we.sps[0])))&&(Ue.dts<f.timelineStartInfo.dts||(ce=X.dts-Ue.dts-Ue.duration,ce>=-1e4&&ce<=Z&&(!Ce||ie>ce)&&(Ce=we,ie=ce)));return Ce?Ce.gop:null},this.alignGopsAtStart_=function(X){var Z,ie,ce,Ce,Ue,we,Ze,at;for(Ue=X.byteLength,we=X.nalCount,Ze=X.duration,Z=ie=0;Z<E.length&&ie<X.length&&(ce=E[Z],Ce=X[ie],ce.pts!==Ce.pts);){if(Ce.pts>ce.pts){Z++;continue}ie++,Ue-=Ce.byteLength,we-=Ce.nalCount,Ze-=Ce.duration}return ie===0?X:ie===X.length?null:(at=X.slice(ie),at.byteLength=Ue,at.duration=Ze,at.nalCount=we,at.pts=at[0].pts,at.dts=at[0].dts,at)},this.alignGopsAtEnd_=function(X){var Z,ie,ce,Ce,Ue,we;for(Z=E.length-1,ie=X.length-1,Ue=null,we=!1;Z>=0&&ie>=0;){if(ce=E[Z],Ce=X[ie],ce.pts===Ce.pts){we=!0;break}if(ce.pts>Ce.pts){Z--;continue}Z===E.length-1&&(Ue=ie),ie--}if(!we&&Ue===null)return null;var Ze;if(we?Ze=ie:Ze=Ue,Ze===0)return X;var at=X.slice(Ze),Ft=at.reduce(function(Zt,kt){return Zt.byteLength+=kt.byteLength,Zt.duration+=kt.duration,Zt.nalCount+=kt.nalCount,Zt},{byteLength:0,duration:0,nalCount:0});return at.byteLength=Ft.byteLength,at.duration=Ft.duration,at.nalCount=Ft.nalCount,at.pts=at[0].pts,at.dts=at[0].dts,at},this.alignGopsWith=function(X){E=X}},fo.prototype=new lo,Fr=function(f,g){this.numberOfTracks=0,this.metadataStream=g,f=f||{},typeof f.remux<"u"?this.remuxTracks=!!f.remux:this.remuxTracks=!0,typeof f.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=f.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Fr.prototype.init.call(this),this.push=function(_){if(_.content||_.text)return this.pendingCaptions.push(_);if(_.frames)return this.pendingMetadata.push(_);this.pendingTracks.push(_.track),this.pendingBytes+=_.boxes.byteLength,_.track.type==="video"&&(this.videoTrack=_.track,this.pendingBoxes.push(_.boxes)),_.track.type==="audio"&&(this.audioTrack=_.track,this.pendingBoxes.unshift(_.boxes))}},Fr.prototype=new lo,Fr.prototype.flush=function(f){var g=0,_={captions:[],captionStreams:{},metadata:[],info:{}},v,E,D,K=0,X;if(this.pendingTracks.length<this.numberOfTracks){if(f!=="VideoSegmentStream"&&f!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(K=this.videoTrack.timelineStartInfo.pts,zu.forEach(function(Z){_.info[Z]=this.videoTrack[Z]},this)):this.audioTrack&&(K=this.audioTrack.timelineStartInfo.pts,Dc.forEach(function(Z){_.info[Z]=this.audioTrack[Z]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,D=la.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(D.byteLength),_.initSegment.set(D),_.data=new Uint8Array(this.pendingBytes),X=0;X<this.pendingBoxes.length;X++)_.data.set(this.pendingBoxes[X],g),g+=this.pendingBoxes[X].byteLength;for(X=0;X<this.pendingCaptions.length;X++)v=this.pendingCaptions[X],v.startTime=ho.metadataTsToSeconds(v.startPts,K,this.keepOriginalTimestamps),v.endTime=ho.metadataTsToSeconds(v.endPts,K,this.keepOriginalTimestamps),_.captionStreams[v.stream]=!0,_.captions.push(v);for(X=0;X<this.pendingMetadata.length;X++)E=this.pendingMetadata[X],E.cueTime=ho.metadataTsToSeconds(E.pts,K,this.keepOriginalTimestamps),_.metadata.push(E);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),X=0;X<_.captions.length;X++)v=_.captions[X],this.trigger("caption",v);for(X=0;X<_.metadata.length;X++)E=_.metadata[X],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Fr.prototype.setRemux=function(f){this.remuxTracks=f},po=function(f){var g=this,_=!0,v,E;po.prototype.init.call(this),f=f||{},this.baseMediaDecodeTime=f.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var D={};this.transmuxPipeline_=D,D.type="aac",D.metadataStream=new Kn.MetadataStream,D.aacStream=new Hu,D.audioTimestampRolloverStream=new Kn.TimestampRolloverStream("audio"),D.timedMetadataTimestampRolloverStream=new Kn.TimestampRolloverStream("timed-metadata"),D.adtsStream=new Ac,D.coalesceStream=new Fr(f,D.metadataStream),D.headOfPipeline=D.aacStream,D.aacStream.pipe(D.audioTimestampRolloverStream).pipe(D.adtsStream),D.aacStream.pipe(D.timedMetadataTimestampRolloverStream).pipe(D.metadataStream).pipe(D.coalesceStream),D.metadataStream.on("timestamp",function(K){D.aacStream.setTimestamp(K.timeStamp)}),D.aacStream.on("data",function(K){K.type!=="timed-metadata"&&K.type!=="audio"||D.audioSegmentStream||(E=E||{timelineStartInfo:{baseMediaDecodeTime:g.baseMediaDecodeTime},codec:"adts",type:"audio"},D.coalesceStream.numberOfTracks++,D.audioSegmentStream=new da(E,f),D.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),D.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),D.adtsStream.pipe(D.audioSegmentStream).pipe(D.coalesceStream),g.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!v}))}),D.coalesceStream.on("data",this.trigger.bind(this,"data")),D.coalesceStream.on("done",this.trigger.bind(this,"done")),Oc(this,D)},this.setupTsPipeline=function(){var D={};this.transmuxPipeline_=D,D.type="ts",D.metadataStream=new Kn.MetadataStream,D.packetStream=new Kn.TransportPacketStream,D.parseStream=new Kn.TransportParseStream,D.elementaryStream=new Kn.ElementaryStream,D.timestampRolloverStream=new Kn.TimestampRolloverStream,D.adtsStream=new Ac,D.h264Stream=new uf,D.captionStream=new Kn.CaptionStream(f),D.coalesceStream=new Fr(f,D.metadataStream),D.headOfPipeline=D.packetStream,D.packetStream.pipe(D.parseStream).pipe(D.elementaryStream).pipe(D.timestampRolloverStream),D.timestampRolloverStream.pipe(D.h264Stream),D.timestampRolloverStream.pipe(D.adtsStream),D.timestampRolloverStream.pipe(D.metadataStream).pipe(D.coalesceStream),D.h264Stream.pipe(D.captionStream).pipe(D.coalesceStream),D.elementaryStream.on("data",function(K){var X;if(K.type==="metadata"){for(X=K.tracks.length;X--;)!v&&K.tracks[X].type==="video"?(v=K.tracks[X],v.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime):!E&&K.tracks[X].type==="audio"&&(E=K.tracks[X],E.timelineStartInfo.baseMediaDecodeTime=g.baseMediaDecodeTime);v&&!D.videoSegmentStream&&(D.coalesceStream.numberOfTracks++,D.videoSegmentStream=new fo(v,f),D.videoSegmentStream.on("log",g.getLogTrigger_("videoSegmentStream")),D.videoSegmentStream.on("timelineStartInfo",function(Z){E&&!f.keepOriginalTimestamps&&(E.timelineStartInfo=Z,D.audioSegmentStream.setEarliestDts(Z.dts-g.baseMediaDecodeTime))}),D.videoSegmentStream.on("processedGopsInfo",g.trigger.bind(g,"gopInfo")),D.videoSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"videoSegmentTimingInfo")),D.videoSegmentStream.on("baseMediaDecodeTime",function(Z){E&&D.audioSegmentStream.setVideoBaseMediaDecodeTime(Z)}),D.videoSegmentStream.on("timingInfo",g.trigger.bind(g,"videoTimingInfo")),D.h264Stream.pipe(D.videoSegmentStream).pipe(D.coalesceStream)),E&&!D.audioSegmentStream&&(D.coalesceStream.numberOfTracks++,D.audioSegmentStream=new da(E,f),D.audioSegmentStream.on("log",g.getLogTrigger_("audioSegmentStream")),D.audioSegmentStream.on("timingInfo",g.trigger.bind(g,"audioTimingInfo")),D.audioSegmentStream.on("segmentTimingInfo",g.trigger.bind(g,"audioSegmentTimingInfo")),D.adtsStream.pipe(D.audioSegmentStream).pipe(D.coalesceStream)),g.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!v})}}),D.coalesceStream.on("data",this.trigger.bind(this,"data")),D.coalesceStream.on("id3Frame",function(K){K.dispatchType=D.metadataStream.dispatchType,g.trigger("id3Frame",K)}),D.coalesceStream.on("caption",this.trigger.bind(this,"caption")),D.coalesceStream.on("done",this.trigger.bind(this,"done")),Oc(this,D)},this.setBaseMediaDecodeTime=function(D){var K=this.transmuxPipeline_;f.keepOriginalTimestamps||(this.baseMediaDecodeTime=D),E&&(E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,an.clearDtsInfo(E),K.audioTimestampRolloverStream&&K.audioTimestampRolloverStream.discontinuity()),v&&(K.videoSegmentStream&&(K.videoSegmentStream.gopCache_=[]),v.timelineStartInfo.dts=void 0,v.timelineStartInfo.pts=void 0,an.clearDtsInfo(v),K.captionStream.reset()),K.timestampRolloverStream&&K.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(D){E&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(D)},this.setRemux=function(D){var K=this.transmuxPipeline_;f.remux=D,K&&K.coalesceStream&&K.coalesceStream.setRemux(D)},this.alignGopsWith=function(D){v&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(D)},this.getLogTrigger_=function(D){var K=this;return function(X){X.stream=D,K.trigger("log",X)}},this.push=function(D){if(_){var K=lf(D);K&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!K&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),_=!1}this.transmuxPipeline_.headOfPipeline.push(D)},this.flush=function(){_=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},po.prototype=new lo;var hf={Transmuxer:po},Gu=function(f){return f>>>0},ha=function(f){return("00"+f.toString(16)).slice(-2)},mo={toUnsigned:Gu,toHexString:ha},Mc=function(f){var g="";return g+=String.fromCharCode(f[0]),g+=String.fromCharCode(f[1]),g+=String.fromCharCode(f[2]),g+=String.fromCharCode(f[3]),g},Vu=Mc,Lc=mo.toUnsigned,Pc=Vu,$u=function(f,g){var _=[],v,E,D,K,X;if(!g.length)return null;for(v=0;v<f.byteLength;)E=Lc(f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]),D=Pc(f.subarray(v+4,v+8)),K=E>1?v+E:f.byteLength,D===g[0]&&(g.length===1?_.push(f.subarray(v+8,K)):(X=$u(f.subarray(v+8,K),g.slice(1)),X.length&&(_=_.concat(X)))),v=K;return _},ur=$u,ff=mo.toUnsigned,pf=o.getUint64,mf=function(f){var g={version:f[0],flags:new Uint8Array(f.subarray(1,4))};return g.version===1?g.baseMediaDecodeTime=pf(f.subarray(4)):g.baseMediaDecodeTime=ff(f[4]<<24|f[5]<<16|f[6]<<8|f[7]),g},go=mf,Nc=function(f){var g=new DataView(f.buffer,f.byteOffset,f.byteLength),_={version:f[0],flags:new Uint8Array(f.subarray(1,4)),trackId:g.getUint32(4)},v=_.flags[2]&1,E=_.flags[2]&2,D=_.flags[2]&8,K=_.flags[2]&16,X=_.flags[2]&32,Z=_.flags[0]&65536,ie=_.flags[0]&131072,ce;return ce=8,v&&(ce+=4,_.baseDataOffset=g.getUint32(12),ce+=4),E&&(_.sampleDescriptionIndex=g.getUint32(ce),ce+=4),D&&(_.defaultSampleDuration=g.getUint32(ce),ce+=4),K&&(_.defaultSampleSize=g.getUint32(ce),ce+=4),X&&(_.defaultSampleFlags=g.getUint32(ce)),Z&&(_.durationIsEmpty=!0),!v&&ie&&(_.baseDataOffsetIsMoof=!0),_},ps=Nc,fa=function(f){return{isLeading:(f[0]&12)>>>2,dependsOn:f[0]&3,isDependedOn:(f[1]&192)>>>6,hasRedundancy:(f[1]&48)>>>4,paddingValue:(f[1]&14)>>>1,isNonSyncSample:f[1]&1,degradationPriority:f[2]<<8|f[3]}},gf=fa,pa=gf,Ic=function(f){var g={version:f[0],flags:new Uint8Array(f.subarray(1,4)),samples:[]},_=new DataView(f.buffer,f.byteOffset,f.byteLength),v=g.flags[2]&1,E=g.flags[2]&4,D=g.flags[1]&1,K=g.flags[1]&2,X=g.flags[1]&4,Z=g.flags[1]&8,ie=_.getUint32(4),ce=8,Ce;for(v&&(g.dataOffset=_.getInt32(ce),ce+=4),E&&ie&&(Ce={flags:pa(f.subarray(ce,ce+4))},ce+=4,D&&(Ce.duration=_.getUint32(ce),ce+=4),K&&(Ce.size=_.getUint32(ce),ce+=4),Z&&(g.version===1?Ce.compositionTimeOffset=_.getInt32(ce):Ce.compositionTimeOffset=_.getUint32(ce),ce+=4),g.samples.push(Ce),ie--);ie--;)Ce={},D&&(Ce.duration=_.getUint32(ce),ce+=4),K&&(Ce.size=_.getUint32(ce),ce+=4),X&&(Ce.flags=pa(f.subarray(ce,ce+4)),ce+=4),Z&&(g.version===1?Ce.compositionTimeOffset=_.getInt32(ce):Ce.compositionTimeOffset=_.getUint32(ce),ce+=4),g.samples.push(Ce);return g},Ku=Ic,yo={tfdt:go,trun:Ku},vo={parseTfdt:yo.tfdt,parseTrun:yo.trun},Bc=function(f){for(var g=0,_=String.fromCharCode(f[g]),v="";_!=="\0";)v+=_,g++,_=String.fromCharCode(f[g]);return v+=_,v},Uc={uint8ToCString:Bc},ma=Uc.uint8ToCString,yf=o.getUint64,vf=function(f){var g=4,_=f[0],v,E,D,K,X,Z,ie,ce;if(_===0){v=ma(f.subarray(g)),g+=v.length,E=ma(f.subarray(g)),g+=E.length;var Ce=new DataView(f.buffer);D=Ce.getUint32(g),g+=4,X=Ce.getUint32(g),g+=4,Z=Ce.getUint32(g),g+=4,ie=Ce.getUint32(g),g+=4}else if(_===1){var Ce=new DataView(f.buffer);D=Ce.getUint32(g),g+=4,K=yf(f.subarray(g)),g+=8,Z=Ce.getUint32(g),g+=4,ie=Ce.getUint32(g),g+=4,v=ma(f.subarray(g)),g+=v.length,E=ma(f.subarray(g)),g+=E.length}ce=new Uint8Array(f.subarray(g,f.byteLength));var Ue={scheme_id_uri:v,value:E,timescale:D||1,presentation_time:K,presentation_time_delta:X,event_duration:Z,id:ie,message_data:ce};return bf(_,Ue)?Ue:void 0},_f=function(f,g,_,v){return f||f===0?f/g:v+_/g},bf=function(f,g){var _=g.scheme_id_uri!=="\0",v=f===0&&Fc(g.presentation_time_delta)&&_,E=f===1&&Fc(g.presentation_time)&&_;return!(f>1)&&v||E},Fc=function(f){return f!==void 0||f!==null},Xi={parseEmsgBox:vf,scaleTime:_f},Xn;typeof window<"u"?Xn=window:typeof n<"u"?Xn=n:typeof self<"u"?Xn=self:Xn={};var Xu=Xn,ga=mo.toUnsigned,ms=mo.toHexString,Kt=ur,lr=Vu,Yu=Xi,Tf=ps,gs=Ku,Wu=go,ya=o.getUint64,_o,Qu,cr,qr,bo,To,dr,So=Xu,qc=Js.parseId3Frames;_o=function(f){var g={},_=Kt(f,["moov","trak"]);return _.reduce(function(v,E){var D,K,X,Z,ie;return D=Kt(E,["tkhd"])[0],!D||(K=D[0],X=K===0?12:20,Z=ga(D[X]<<24|D[X+1]<<16|D[X+2]<<8|D[X+3]),ie=Kt(E,["mdia","mdhd"])[0],!ie)?null:(K=ie[0],X=K===0?12:20,v[Z]=ga(ie[X]<<24|ie[X+1]<<16|ie[X+2]<<8|ie[X+3]),v)},g)},Qu=function(f,g){var _;_=Kt(g,["moof","traf"]);var v=_.reduce(function(E,D){var K=Kt(D,["tfhd"])[0],X=ga(K[4]<<24|K[5]<<16|K[6]<<8|K[7]),Z=f[X]||9e4,ie=Kt(D,["tfdt"])[0],ce=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),Ce;ie[0]===1?Ce=ya(ie.subarray(4,12)):Ce=ce.getUint32(4);let Ue;return typeof Ce=="bigint"?Ue=Ce/So.BigInt(Z):typeof Ce=="number"&&!isNaN(Ce)&&(Ue=Ce/Z),Ue<Number.MAX_SAFE_INTEGER&&(Ue=Number(Ue)),Ue<E&&(E=Ue),E},1/0);return typeof v=="bigint"||isFinite(v)?v:0},cr=function(f,g){var _=Kt(g,["moof","traf"]),v=0,E=0,D;if(_&&_.length){var K=Kt(_[0],["tfhd"])[0],X=Kt(_[0],["trun"])[0],Z=Kt(_[0],["tfdt"])[0];if(K){var ie=Tf(K);D=ie.trackId}if(Z){var ce=Wu(Z);v=ce.baseMediaDecodeTime}if(X){var Ce=gs(X);Ce.samples&&Ce.samples.length&&(E=Ce.samples[0].compositionTimeOffset||0)}}var Ue=f[D]||9e4;typeof v=="bigint"&&(E=So.BigInt(E),Ue=So.BigInt(Ue));var we=(v+E)/Ue;return typeof we=="bigint"&&we<Number.MAX_SAFE_INTEGER&&(we=Number(we)),we},qr=function(f){var g=Kt(f,["moov","trak"]),_=[];return g.forEach(function(v){var E=Kt(v,["mdia","hdlr"]),D=Kt(v,["tkhd"]);E.forEach(function(K,X){var Z=lr(K.subarray(8,12)),ie=D[X],ce,Ce,Ue;Z==="vide"&&(ce=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),Ce=ce.getUint8(0),Ue=Ce===0?ce.getUint32(12):ce.getUint32(20),_.push(Ue))})}),_},To=function(f){var g=f[0],_=g===0?12:20;return ga(f[_]<<24|f[_+1]<<16|f[_+2]<<8|f[_+3])},bo=function(f){var g=Kt(f,["moov","trak"]),_=[];return g.forEach(function(v){var E={},D=Kt(v,["tkhd"])[0],K,X;D&&(K=new DataView(D.buffer,D.byteOffset,D.byteLength),X=K.getUint8(0),E.id=X===0?K.getUint32(12):K.getUint32(20));var Z=Kt(v,["mdia","hdlr"])[0];if(Z){var ie=lr(Z.subarray(8,12));ie==="vide"?E.type="video":ie==="soun"?E.type="audio":E.type=ie}var ce=Kt(v,["mdia","minf","stbl","stsd"])[0];if(ce){var Ce=ce.subarray(8);E.codec=lr(Ce.subarray(4,8));var Ue=Kt(Ce,[E.codec])[0],we,Ze;Ue&&(/^[asm]vc[1-9]$/i.test(E.codec)?(we=Ue.subarray(78),Ze=lr(we.subarray(4,8)),Ze==="avcC"&&we.length>11?(E.codec+=".",E.codec+=ms(we[9]),E.codec+=ms(we[10]),E.codec+=ms(we[11])):E.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(E.codec)?(we=Ue.subarray(28),Ze=lr(we.subarray(4,8)),Ze==="esds"&&we.length>20&&we[19]!==0?(E.codec+="."+ms(we[19]),E.codec+="."+ms(we[20]>>>2&63).replace(/^0/,"")):E.codec="mp4a.40.2"):E.codec=E.codec.toLowerCase())}var at=Kt(v,["mdia","mdhd"])[0];at&&(E.timescale=To(at)),_.push(E)}),_},dr=function(f,g=0){var _=Kt(f,["emsg"]);return _.map(v=>{var E=Yu.parseEmsgBox(new Uint8Array(v)),D=qc(E.message_data);return{cueTime:Yu.scaleTime(E.presentation_time,E.timescale,E.presentation_time_delta,g),duration:Yu.scaleTime(E.event_duration,E.timescale),frames:D}})};var ys={findBox:Kt,parseType:lr,timescale:_o,startTime:Qu,compositionStartTime:cr,videoTrackIds:qr,tracks:bo,getTimescaleFromMediaHeader:To,getEmsgID3:dr};const{parseTrun:Sf}=vo,{findBox:jc}=ys;var Hc=Xu,zc=function(f){var g=jc(f,["moof","traf"]),_=jc(f,["mdat"]),v=[];return _.forEach(function(E,D){var K=g[D];v.push({mdat:E,traf:K})}),v},Gc=function(f,g,_){var v=g,E=_.defaultSampleDuration||0,D=_.defaultSampleSize||0,K=_.trackId,X=[];return f.forEach(function(Z){var ie=Sf(Z),ce=ie.samples;ce.forEach(function(Ce){Ce.duration===void 0&&(Ce.duration=E),Ce.size===void 0&&(Ce.size=D),Ce.trackId=K,Ce.dts=v,Ce.compositionTimeOffset===void 0&&(Ce.compositionTimeOffset=0),typeof v=="bigint"?(Ce.pts=v+Hc.BigInt(Ce.compositionTimeOffset),v+=Hc.BigInt(Ce.duration)):(Ce.pts=v+Ce.compositionTimeOffset,v+=Ce.duration)}),X=X.concat(ce)}),X},Zu={getMdatTrafPairs:zc,parseSamples:Gc},mn=Vi.discardEmulationPreventionBytes,on=Nr.CaptionStream,hr=ur,Ju=go,xo=ps,{getMdatTrafPairs:Eo,parseSamples:el}=Zu,fr=function(f,g){for(var _=f,v=0;v<g.length;v++){var E=g[v];if(_<E.size)return E;_-=E.size}return null},Vc=function(f,g,_){var v=new DataView(f.buffer,f.byteOffset,f.byteLength),E={logs:[],seiNals:[]},D,K,X,Z;for(K=0;K+4<f.length;K+=X)if(X=v.getUint32(K),K+=4,!(X<=0))switch(f[K]&31){case 6:var ie=f.subarray(K+1,K+1+X),ce=fr(K,g);if(D={nalUnitType:"sei_rbsp",size:X,data:ie,escapedRBSP:mn(ie),trackId:_},ce)D.pts=ce.pts,D.dts=ce.dts,Z=ce;else if(Z)D.pts=Z.pts,D.dts=Z.dts;else{E.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+K+" for trackId "+_+". See mux.js#223."});break}E.seiNals.push(D);break}return E},Co=function(f,g){var _={},v=Eo(f);return v.forEach(function(E){var D=E.mdat,K=E.traf,X=hr(K,["tfhd"]),Z=xo(X[0]),ie=Z.trackId,ce=hr(K,["tfdt"]),Ce=ce.length>0?Ju(ce[0]).baseMediaDecodeTime:0,Ue=hr(K,["trun"]),we,Ze;g===ie&&Ue.length>0&&(we=el(Ue,Ce,Z),Ze=Vc(D,we,ie),_[ie]||(_[ie]={seiNals:[],logs:[]}),_[ie].seiNals=_[ie].seiNals.concat(Ze.seiNals),_[ie].logs=_[ie].logs.concat(Ze.logs))}),_},vs=function(f,g,_){var v;if(g===null)return null;v=Co(f,g);var E=v[g]||{};return{seiNals:E.seiNals,logs:E.logs,timescale:_}},$c=function(){var f=!1,g,_,v,E,D,K;this.isInitialized=function(){return f},this.init=function(X){g=new on,f=!0,K=X?X.isPartial:!1,g.on("data",function(Z){Z.startTime=Z.startPts/E,Z.endTime=Z.endPts/E,D.captions.push(Z),D.captionStreams[Z.stream]=!0}),g.on("log",function(Z){D.logs.push(Z)})},this.isNewInit=function(X,Z){return X&&X.length===0||Z&&typeof Z=="object"&&Object.keys(Z).length===0?!1:v!==X[0]||E!==Z[v]},this.parse=function(X,Z,ie){var ce;if(this.isInitialized()){if(!Z||!ie)return null;if(this.isNewInit(Z,ie))v=Z[0],E=ie[v];else if(v===null||!E)return _.push(X),null}else return null;for(;_.length>0;){var Ce=_.shift();this.parse(Ce,Z,ie)}return ce=vs(X,v,E),ce&&ce.logs&&(D.logs=D.logs.concat(ce.logs)),ce===null||!ce.seiNals?D.logs.length?{logs:D.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ce.seiNals),this.flushStream(),D)},this.pushNals=function(X){if(!this.isInitialized()||!X||X.length===0)return null;X.forEach(function(Z){g.push(Z)})},this.flushStream=function(){if(!this.isInitialized())return null;K?g.partialFlush():g.flush()},this.clearParsedCaptions=function(){D.captions=[],D.captionStreams={},D.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;g.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){_=[],v=null,E=null,D?this.clearParsedCaptions():D={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},un=$c;const{parseTfdt:_s}=vo,Yi=ur,{getTimescaleFromMediaHeader:wo}=ys,{parseSamples:Ao,getMdatTrafPairs:ln}=Zu;var pr=function(){let f=9e4;this.init=function(g){const _=Yi(g,["moov","trak","mdia","mdhd"])[0];_&&(f=wo(_))},this.parseSegment=function(g){const _=[],v=ln(g);let E=0;return v.forEach(function(D){const K=D.mdat,X=D.traf,Z=Yi(X,["tfdt"])[0],ie=Yi(X,["tfhd"])[0],ce=Yi(X,["trun"]);if(Z&&(E=_s(Z).baseMediaDecodeTime),ce.length&&ie){const Ce=Ao(ce,E,ie);let Ue=0;Ce.forEach(function(we){const Ze="utf-8",at=new TextDecoder(Ze),Ft=K.slice(Ue,Ue+we.size);if(Yi(Ft,["vtte"])[0]){Ue+=we.size;return}Yi(Ft,["vttc"]).forEach(function(gr){const Ta=Yi(gr,["payl"])[0],Sa=Yi(gr,["sttg"])[0],xa=we.pts/f,Xt=(we.pts+we.duration)/f;let Rt,Yn;if(Ta)try{Rt=at.decode(Ta)}catch(Li){console.error(Li)}if(Sa)try{Yn=at.decode(Sa)}catch(Li){console.error(Li)}we.duration&&Rt&&_.push({cueText:Rt,start:xa,end:Xt,settings:Yn})}),Ue+=we.size})}}),_}},yn=nr,On=function(f){var g=f[1]&31;return g<<=8,g|=f[2],g},Rn=function(f){return!!(f[1]&64)},va=function(f){var g=0;return(f[3]&48)>>>4>1&&(g+=f[4]+1),g},tl=function(f,g){var _=On(f);return _===0?"pat":_===g?"pmt":g?"pes":null},il=function(f){var g=Rn(f),_=4+va(f);return g&&(_+=f[_]+1),(f[_+10]&31)<<8|f[_+11]},Mi=function(f){var g={},_=Rn(f),v=4+va(f);if(_&&(v+=f[v]+1),!!(f[v+5]&1)){var E,D,K;E=(f[v+1]&15)<<8|f[v+2],D=3+E-4,K=(f[v+10]&15)<<8|f[v+11];for(var X=12+K;X<D;){var Z=v+X;g[(f[Z+1]&31)<<8|f[Z+2]]=f[Z],X+=((f[Z+3]&15)<<8|f[Z+4])+5}return g}},_i=function(f,g){var _=On(f),v=g[_];switch(v){case yn.H264_STREAM_TYPE:return"video";case yn.ADTS_STREAM_TYPE:return"audio";case yn.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},bt=function(f){var g=Rn(f);if(!g)return null;var _=4+va(f);if(_>=f.byteLength)return null;var v=null,E;return E=f[_+7],E&192&&(v={},v.pts=(f[_+9]&14)<<27|(f[_+10]&255)<<20|(f[_+11]&254)<<12|(f[_+12]&255)<<5|(f[_+13]&254)>>>3,v.pts*=4,v.pts+=(f[_+13]&6)>>>1,v.dts=v.pts,E&64&&(v.dts=(f[_+14]&14)<<27|(f[_+15]&255)<<20|(f[_+16]&254)<<12|(f[_+17]&255)<<5|(f[_+18]&254)>>>3,v.dts*=4,v.dts+=(f[_+18]&6)>>>1)),v},Wi=function(f){switch(f){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},kn=function(f){for(var g=4+va(f),_=f.subarray(g),v=0,E=0,D=!1,K;E<_.byteLength-3;E++)if(_[E+2]===1){v=E+5;break}for(;v<_.byteLength;)switch(_[v]){case 0:if(_[v-1]!==0){v+=2;break}else if(_[v-2]!==0){v++;break}E+3!==v-2&&(K=Wi(_[E+3]&31),K==="slice_layer_without_partitioning_rbsp_idr"&&(D=!0));do v++;while(_[v]!==1&&v<_.length);E=v-2,v+=3;break;case 1:if(_[v-1]!==0||_[v-2]!==0){v+=3;break}K=Wi(_[E+3]&31),K==="slice_layer_without_partitioning_rbsp_idr"&&(D=!0),E=v-2,v+=3;break;default:v+=3;break}return _=_.subarray(E),v-=E,E=0,_&&_.byteLength>3&&(K=Wi(_[E+3]&31),K==="slice_layer_without_partitioning_rbsp_idr"&&(D=!0)),D},nl={parseType:tl,parsePat:il,parsePmt:Mi,parsePayloadUnitStartIndicator:Rn,parsePesType:_i,parsePesTime:bt,videoPacketContainsKeyFrame:kn},mr=nr,jr=An.handleRollover,Et={};Et.ts=nl,Et.aac=sa;var vn=lt.ONE_SECOND_IN_TS,ci=188,Ui=71,_a=function(f,g){for(var _=0,v=ci,E,D;v<f.byteLength;){if(f[_]===Ui&&f[v]===Ui){switch(E=f.subarray(_,v),D=Et.ts.parseType(E,g.pid),D){case"pat":g.pid=Et.ts.parsePat(E);break;case"pmt":var K=Et.ts.parsePmt(E);g.table=g.table||{},Object.keys(K).forEach(function(X){g.table[X]=K[X]});break}_+=ci,v+=ci;continue}_++,v++}},rl=function(f,g,_){for(var v=0,E=ci,D,K,X,Z,ie,ce=!1;E<=f.byteLength;){if(f[v]===Ui&&(f[E]===Ui||E===f.byteLength)){switch(D=f.subarray(v,E),K=Et.ts.parseType(D,g.pid),K){case"pes":X=Et.ts.parsePesType(D,g.table),Z=Et.ts.parsePayloadUnitStartIndicator(D),X==="audio"&&Z&&(ie=Et.ts.parsePesTime(D),ie&&(ie.type="audio",_.audio.push(ie),ce=!0));break}if(ce)break;v+=ci,E+=ci;continue}v++,E++}for(E=f.byteLength,v=E-ci,ce=!1;v>=0;){if(f[v]===Ui&&(f[E]===Ui||E===f.byteLength)){switch(D=f.subarray(v,E),K=Et.ts.parseType(D,g.pid),K){case"pes":X=Et.ts.parsePesType(D,g.table),Z=Et.ts.parsePayloadUnitStartIndicator(D),X==="audio"&&Z&&(ie=Et.ts.parsePesTime(D),ie&&(ie.type="audio",_.audio.push(ie),ce=!0));break}if(ce)break;v-=ci,E-=ci;continue}v--,E--}},sl=function(f,g,_){for(var v=0,E=ci,D,K,X,Z,ie,ce,Ce,Ue,we=!1,Ze={data:[],size:0};E<f.byteLength;){if(f[v]===Ui&&f[E]===Ui){switch(D=f.subarray(v,E),K=Et.ts.parseType(D,g.pid),K){case"pes":if(X=Et.ts.parsePesType(D,g.table),Z=Et.ts.parsePayloadUnitStartIndicator(D),X==="video"&&(Z&&!we&&(ie=Et.ts.parsePesTime(D),ie&&(ie.type="video",_.video.push(ie),we=!0)),!_.firstKeyFrame)){if(Z&&Ze.size!==0){for(ce=new Uint8Array(Ze.size),Ce=0;Ze.data.length;)Ue=Ze.data.shift(),ce.set(Ue,Ce),Ce+=Ue.byteLength;if(Et.ts.videoPacketContainsKeyFrame(ce)){var at=Et.ts.parsePesTime(ce);at?(_.firstKeyFrame=at,_.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ze.size=0}Ze.data.push(D),Ze.size+=D.byteLength}break}if(we&&_.firstKeyFrame)break;v+=ci,E+=ci;continue}v++,E++}for(E=f.byteLength,v=E-ci,we=!1;v>=0;){if(f[v]===Ui&&f[E]===Ui){switch(D=f.subarray(v,E),K=Et.ts.parseType(D,g.pid),K){case"pes":X=Et.ts.parsePesType(D,g.table),Z=Et.ts.parsePayloadUnitStartIndicator(D),X==="video"&&Z&&(ie=Et.ts.parsePesTime(D),ie&&(ie.type="video",_.video.push(ie),we=!0));break}if(we)break;v-=ci,E-=ci;continue}v--,E--}},Kc=function(f,g){if(f.audio&&f.audio.length){var _=g;(typeof _>"u"||isNaN(_))&&(_=f.audio[0].dts),f.audio.forEach(function(D){D.dts=jr(D.dts,_),D.pts=jr(D.pts,_),D.dtsTime=D.dts/vn,D.ptsTime=D.pts/vn})}if(f.video&&f.video.length){var v=g;if((typeof v>"u"||isNaN(v))&&(v=f.video[0].dts),f.video.forEach(function(D){D.dts=jr(D.dts,v),D.pts=jr(D.pts,v),D.dtsTime=D.dts/vn,D.ptsTime=D.pts/vn}),f.firstKeyFrame){var E=f.firstKeyFrame;E.dts=jr(E.dts,v),E.pts=jr(E.pts,v),E.dtsTime=E.dts/vn,E.ptsTime=E.pts/vn}}},Do=function(f){for(var g=!1,_=0,v=null,E=null,D=0,K=0,X;f.length-K>=3;){var Z=Et.aac.parseType(f,K);switch(Z){case"timed-metadata":if(f.length-K<10){g=!0;break}if(D=Et.aac.parseId3TagSize(f,K),D>f.length){g=!0;break}E===null&&(X=f.subarray(K,K+D),E=Et.aac.parseAacTimestamp(X)),K+=D;break;case"audio":if(f.length-K<7){g=!0;break}if(D=Et.aac.parseAdtsSize(f,K),D>f.length){g=!0;break}v===null&&(X=f.subarray(K,K+D),v=Et.aac.parseSampleRate(X)),_++,K+=D;break;default:K++;break}if(g)return null}if(v===null||E===null)return null;var ie=vn/v,ce={audio:[{type:"audio",dts:E,pts:E},{type:"audio",dts:E+_*1024*ie,pts:E+_*1024*ie}]};return ce},Xc=function(f){var g={pid:null,table:null},_={};_a(f,g);for(var v in g.table)if(g.table.hasOwnProperty(v)){var E=g.table[v];switch(E){case mr.H264_STREAM_TYPE:_.video=[],sl(f,g,_),_.video.length===0&&delete _.video;break;case mr.ADTS_STREAM_TYPE:_.audio=[],rl(f,g,_),_.audio.length===0&&delete _.audio;break}}return _},ba=function(f,g){var _=Et.aac.isLikelyAacData(f),v;return _?v=Do(f):v=Xc(f),!v||!v.audio&&!v.video?null:(Kc(v,g),v)},Yc={inspect:ba,parseAudioPes_:rl};const bs=function(f,g){g.on("data",function(_){const v=_.initSegment;_.initSegment={data:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength};const E=_.data;_.data=E.buffer,f.postMessage({action:"data",segment:_,byteOffset:E.byteOffset,byteLength:E.byteLength},[_.data])}),g.on("done",function(_){f.postMessage({action:"done"})}),g.on("gopInfo",function(_){f.postMessage({action:"gopInfo",gopInfo:_})}),g.on("videoSegmentTimingInfo",function(_){const v={start:{decode:lt.videoTsToSeconds(_.start.dts),presentation:lt.videoTsToSeconds(_.start.pts)},end:{decode:lt.videoTsToSeconds(_.end.dts),presentation:lt.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:lt.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(v.prependedContentDuration=lt.videoTsToSeconds(_.prependedContentDuration)),f.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:v})}),g.on("audioSegmentTimingInfo",function(_){const v={start:{decode:lt.videoTsToSeconds(_.start.dts),presentation:lt.videoTsToSeconds(_.start.pts)},end:{decode:lt.videoTsToSeconds(_.end.dts),presentation:lt.videoTsToSeconds(_.end.pts)},baseMediaDecodeTime:lt.videoTsToSeconds(_.baseMediaDecodeTime)};_.prependedContentDuration&&(v.prependedContentDuration=lt.videoTsToSeconds(_.prependedContentDuration)),f.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:v})}),g.on("id3Frame",function(_){f.postMessage({action:"id3Frame",id3Frame:_})}),g.on("caption",function(_){f.postMessage({action:"caption",caption:_})}),g.on("trackinfo",function(_){f.postMessage({action:"trackinfo",trackInfo:_})}),g.on("audioTimingInfo",function(_){f.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:lt.videoTsToSeconds(_.start),end:lt.videoTsToSeconds(_.end)}})}),g.on("videoTimingInfo",function(_){f.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:lt.videoTsToSeconds(_.start),end:lt.videoTsToSeconds(_.end)}})}),g.on("log",function(_){f.postMessage({action:"log",log:_})})};class Ts{constructor(g,_){this.options=_||{},this.self=g,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new hf.Transmuxer(this.options),bs(this.self,this.transmuxer)}pushMp4Captions(g){this.captionParser||(this.captionParser=new un,this.captionParser.init());const _=new Uint8Array(g.data,g.byteOffset,g.byteLength),v=this.captionParser.parse(_,g.trackIds,g.timescales);this.self.postMessage({action:"mp4Captions",captions:v&&v.captions||[],logs:v&&v.logs||[],data:_.buffer},[_.buffer])}initMp4WebVttParser(g){this.webVttParser||(this.webVttParser=new pr);const _=new Uint8Array(g.data,g.byteOffset,g.byteLength);this.webVttParser.init(_)}getMp4WebVttText(g){this.webVttParser||(this.webVttParser=new pr);const _=new Uint8Array(g.data,g.byteOffset,g.byteLength),v=this.webVttParser.parseSegment(_);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:v||[],data:_.buffer},[_.buffer])}probeMp4StartTime({timescales:g,data:_}){const v=ys.startTime(g,_);this.self.postMessage({action:"probeMp4StartTime",startTime:v,data:_},[_.buffer])}probeMp4Tracks({data:g}){const _=ys.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:_,data:g},[g.buffer])}probeEmsgID3({data:g,offset:_}){const v=ys.getEmsgID3(g,_);this.self.postMessage({action:"probeEmsgID3",id3Frames:v,emsgData:g},[g.buffer])}probeTs({data:g,baseStartTime:_}){const v=typeof _=="number"&&!isNaN(_)?_*lt.ONE_SECOND_IN_TS:void 0,E=Yc.inspect(g,v);let D=null;E&&(D={hasVideo:E.video&&E.video.length===2||!1,hasAudio:E.audio&&E.audio.length===2||!1},D.hasVideo&&(D.videoStart=E.video[0].ptsTime),D.hasAudio&&(D.audioStart=E.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:D,data:g},[g.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(g){const _=new Uint8Array(g.data,g.byteOffset,g.byteLength);this.transmuxer.push(_)}reset(){this.transmuxer.reset()}setTimestampOffset(g){const _=g.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(lt.secondsToVideoTs(_)))}setAudioAppendStart(g){this.transmuxer.setAudioAppendStart(Math.ceil(lt.secondsToVideoTs(g.appendStart)))}setRemux(g){this.transmuxer.setRemux(g.remux)}flush(g){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(g){this.transmuxer.alignGopsWith(g.gopsToAlignWith.slice())}}self.onmessage=function(f){if(f.data.action==="init"&&f.data.options){this.messageHandlers=new Ts(self,f.data.options);return}this.messageHandlers||(this.messageHandlers=new Ts(self)),f.data&&f.data.action&&f.data.action!=="init"&&this.messageHandlers[f.data.action]&&this.messageHandlers[f.data.action](f.data)}}));var r5=fD(n5);const s5=(n,e,t)=>{const{type:i,initSegment:s,captions:o,captionStreams:l,metadata:d,videoFrameDtsTime:h,videoFramePtsTime:m}=n.data.segment;e.buffer.push({captions:o,captionStreams:l,metadata:d});const b=n.data.segment.boxes||{data:n.data.segment.data},w={type:i,data:new Uint8Array(b.data,b.data.byteOffset,b.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof h<"u"&&(w.videoFrameDtsTime=h),typeof m<"u"&&(w.videoFramePtsTime=m),t(w)},a5=({transmuxedData:n,callback:e})=>{n.buffer=[],e(n)},o5=(n,e)=>{e.gopInfo=n.data.gopInfo},gD=n=>{const{transmuxer:e,bytes:t,audioAppendStart:i,gopsToAlignWith:s,remux:o,onData:l,onTrackInfo:d,onAudioTimingInfo:h,onVideoTimingInfo:m,onVideoSegmentTimingInfo:b,onAudioSegmentTimingInfo:w,onId3:L,onCaptions:k,onDone:j,onEndedTimeline:A,onTransmuxerLog:I,isEndOfTimeline:P,segment:H,triggerSegmentEventFn:q}=n,Q={buffer:[]};let O=P;const N=J=>{e.currentTransmux===n&&(J.data.action==="data"&&s5(J,Q,l),J.data.action==="trackinfo"&&d(J.data.trackInfo),J.data.action==="gopInfo"&&o5(J,Q),J.data.action==="audioTimingInfo"&&h(J.data.audioTimingInfo),J.data.action==="videoTimingInfo"&&m(J.data.videoTimingInfo),J.data.action==="videoSegmentTimingInfo"&&b(J.data.videoSegmentTimingInfo),J.data.action==="audioSegmentTimingInfo"&&w(J.data.audioSegmentTimingInfo),J.data.action==="id3Frame"&&L([J.data.id3Frame],J.data.id3Frame.dispatchType),J.data.action==="caption"&&k(J.data.caption),J.data.action==="endedtimeline"&&(O=!1,A()),J.data.action==="log"&&I(J.data.log),J.data.type==="transmuxed"&&(O||(e.onmessage=null,a5({transmuxedData:Q,callback:j}),yD(e))))},F=()=>{const J={message:"Received an error message from the transmuxer worker",metadata:{errorType:ve.Error.StreamingFailedToTransmuxSegment,segmentInfo:qa({segment:H})}};j(null,J)};if(e.onmessage=N,e.onerror=F,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof o<"u"&&e.postMessage({action:"setRemux",remux:o}),t.byteLength){const J=t instanceof ArrayBuffer?t:t.buffer,x=t instanceof ArrayBuffer?0:t.byteOffset;q({type:"segmenttransmuxingstart",segment:H}),e.postMessage({action:"push",data:J,byteOffset:x,byteLength:t.byteLength},[J])}P&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},yD=n=>{n.currentTransmux=null,n.transmuxQueue.length&&(n.currentTransmux=n.transmuxQueue.shift(),typeof n.currentTransmux=="function"?n.currentTransmux():gD(n.currentTransmux))},QE=(n,e)=>{n.postMessage({action:e}),yD(n)},vD=(n,e)=>{if(!e.currentTransmux){e.currentTransmux=n,QE(e,n);return}e.transmuxQueue.push(QE.bind(null,e,n))},u5=n=>{vD("reset",n)},l5=n=>{vD("endTimeline",n)},_D=n=>{if(!n.transmuxer.currentTransmux){n.transmuxer.currentTransmux=n,gD(n);return}n.transmuxer.transmuxQueue.push(n)},c5=n=>{const e=new r5;e.currentTransmux=null,e.transmuxQueue=[];const t=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,t.call(e)),e.postMessage({action:"init",options:n}),e};var Yy={reset:u5,endTimeline:l5,transmux:_D,createTransmuxer:c5};const ru=function(n){const e=n.transmuxer,t=n.endAction||n.action,i=n.callback,s=hi({},n,{endAction:null,transmuxer:null,callback:null}),o=l=>{l.data.action===t&&(e.removeEventListener("message",o),l.data.data&&(l.data.data=new Uint8Array(l.data.data,n.byteOffset||0,n.byteLength||l.data.data.byteLength),n.data&&(n.data=l.data.data)),i(l.data))};if(e.addEventListener("message",o),n.data){const l=n.data instanceof ArrayBuffer;s.byteOffset=l?0:n.data.byteOffset,s.byteLength=n.data.byteLength;const d=[l?n.data:n.data.buffer];e.postMessage(s,d)}else e.postMessage(s)},wr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},bD="wvtt",Tv=n=>{n.forEach(e=>{e.abort()})},d5=n=>({bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}),h5=n=>{const e=n.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=n.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},w_=(n,e)=>{const{requestType:t}=e,i=Ka({requestType:t,request:e,error:n});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:wr.TIMEOUT,xhr:e,metadata:i}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:wr.ABORTED,xhr:e,metadata:i}:n?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:wr.FAILURE,xhr:e,metadata:i}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:wr.FAILURE,xhr:e,metadata:i}:null},ZE=(n,e,t,i)=>(s,o)=>{const l=o.response,d=w_(s,o);if(d)return t(d,n);if(l.byteLength!==16)return t({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:wr.FAILURE,xhr:o},n);const h=new DataView(l),m=new Uint32Array([h.getUint32(0),h.getUint32(4),h.getUint32(8),h.getUint32(12)]);for(let w=0;w<e.length;w++)e[w].bytes=m;const b={uri:o.uri};return i({type:"segmentkeyloadcomplete",segment:n,keyInfo:b}),t(null,n)},f5=(n,e)=>{e===bD&&n.transmuxer.postMessage({action:"initMp4WebVttParser",data:n.map.bytes})},p5=(n,e,t)=>{e===bD&&ru({action:"getMp4WebVttText",data:n.bytes,transmuxer:n.transmuxer,callback:({data:i,mp4VttCues:s})=>{n.bytes=i,t(null,n,{mp4VttCues:s})}})},TD=(n,e)=>{const t=Wv(n.map.bytes);if(t!=="mp4"){const i=n.map.resolvedUri||n.map.uri,s=t||"unknown";return e({internal:!0,message:`Found unsupported ${s} container for initialization segment at URL: ${i}`,code:wr.FAILURE,metadata:{mediaType:s}})}ru({action:"probeMp4Tracks",data:n.map.bytes,transmuxer:n.transmuxer,callback:({tracks:i,data:s})=>(n.map.bytes=s,i.forEach(function(o){n.map.tracks=n.map.tracks||{},!n.map.tracks[o.type]&&(n.map.tracks[o.type]=o,typeof o.id=="number"&&o.timescale&&(n.map.timescales=n.map.timescales||{},n.map.timescales[o.id]=o.timescale),o.type==="text"&&f5(n,o.codec))}),e(null))})},m5=({segment:n,finishProcessingFn:e,triggerSegmentEventFn:t})=>(i,s)=>{const o=w_(i,s);if(o)return e(o,n);const l=new Uint8Array(s.response);if(t({type:"segmentloaded",segment:n}),n.map.key)return n.map.encryptedBytes=l,e(null,n);n.map.bytes=l,TD(n,function(d){if(d)return d.xhr=s,d.status=s.status,e(d,n);e(null,n)})},g5=({segment:n,finishProcessingFn:e,responseType:t,triggerSegmentEventFn:i})=>(s,o)=>{const l=w_(s,o);if(l)return e(l,n);i({type:"segmentloaded",segment:n});const d=t==="arraybuffer"||!o.responseText?o.response:t5(o.responseText.substring(n.lastReachedChar||0));return n.stats=d5(o),n.key?n.encryptedBytes=new Uint8Array(d):n.bytes=new Uint8Array(d),e(null,n)},y5=({segment:n,bytes:e,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})=>{const j=n.map&&n.map.tracks||{},A=!!(j.audio&&j.video);let I=i.bind(null,n,"audio","start");const P=i.bind(null,n,"audio","end");let H=i.bind(null,n,"video","start");const q=i.bind(null,n,"video","end"),Q=()=>_D({bytes:e,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:A,onData:O=>{O.type=O.type==="combined"?"video":O.type,b(n,O)},onTrackInfo:O=>{t&&(A&&(O.isMuxed=!0),t(n,O))},onAudioTimingInfo:O=>{I&&typeof O.start<"u"&&(I(O.start),I=null),P&&typeof O.end<"u"&&P(O.end)},onVideoTimingInfo:O=>{H&&typeof O.start<"u"&&(H(O.start),H=null),q&&typeof O.end<"u"&&q(O.end)},onVideoSegmentTimingInfo:O=>{const N={pts:{start:O.start.presentation,end:O.end.presentation},dts:{start:O.start.decode,end:O.end.decode}};k({type:"segmenttransmuxingtiminginfoavailable",segment:n,timingInfo:N}),s(O)},onAudioSegmentTimingInfo:O=>{const N={pts:{start:O.start.pts,end:O.end.pts},dts:{start:O.start.dts,end:O.end.dts}};k({type:"segmenttransmuxingtiminginfoavailable",segment:n,timingInfo:N}),o(O)},onId3:(O,N)=>{l(n,O,N)},onCaptions:O=>{d(n,[O])},isEndOfTimeline:h,onEndedTimeline:()=>{m()},onTransmuxerLog:L,onDone:(O,N)=>{w&&(O.type=O.type==="combined"?"video":O.type,k({type:"segmenttransmuxingcomplete",segment:n}),w(N,n,O))},segment:n,triggerSegmentEventFn:k});ru({action:"probeTs",transmuxer:n.transmuxer,data:e,baseStartTime:n.baseStartTime,callback:O=>{n.bytes=e=O.data;const N=O.result;N&&(t(n,{hasAudio:N.hasAudio,hasVideo:N.hasVideo,isMuxed:A}),t=null),Q()}})},SD=({segment:n,bytes:e,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})=>{let j=new Uint8Array(e);if(U8(j)){n.isFmp4=!0;const{tracks:A}=n.map;if(A.text&&(!A.audio||!A.video)){b(n,{data:j,type:"text"}),p5(n,A.text.codec,w);return}const P={isFmp4:!0,hasVideo:!!A.video,hasAudio:!!A.audio};A.audio&&A.audio.codec&&A.audio.codec!=="enca"&&(P.audioCodec=A.audio.codec),A.video&&A.video.codec&&A.video.codec!=="encv"&&(P.videoCodec=A.video.codec),A.video&&A.audio&&(P.isMuxed=!0),t(n,P);const H=(q,Q)=>{b(n,{data:j,type:P.hasAudio&&!P.isMuxed?"audio":"video"}),Q&&Q.length&&l(n,Q),q&&q.length&&d(n,q),w(null,n,{})};ru({action:"probeMp4StartTime",timescales:n.map.timescales,data:j,transmuxer:n.transmuxer,callback:({data:q,startTime:Q})=>{e=q.buffer,n.bytes=j=q,P.hasAudio&&!P.isMuxed&&i(n,"audio","start",Q),P.hasVideo&&i(n,"video","start",Q),ru({action:"probeEmsgID3",data:j,transmuxer:n.transmuxer,offset:Q,callback:({emsgData:O,id3Frames:N})=>{if(e=O.buffer,n.bytes=j=O,!A.video||!O.byteLength||!n.transmuxer){H(void 0,N);return}ru({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:j,timescales:n.map.timescales,trackIds:[A.video.id],callback:F=>{e=F.data.buffer,n.bytes=j=F.data,F.logs.forEach(function(J){L(Ot(J,{stream:"mp4CaptionParser"}))}),H(F.captions,N)}})}})}});return}if(!n.transmuxer){w(null,n,{});return}if(typeof n.container>"u"&&(n.container=Wv(j)),n.container!=="ts"&&n.container!=="aac"){t(n,{hasAudio:!1,hasVideo:!1}),w(null,n,{});return}y5({segment:n,bytes:e,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})},xD=function({id:n,key:e,encryptedBytes:t,decryptionWorker:i,segment:s,doneFn:o},l){const d=m=>{if(m.data.source===n){i.removeEventListener("message",d);const b=m.data.decrypted;l(new Uint8Array(b.bytes,b.byteOffset,b.byteLength))}};i.onerror=()=>{const m="An error occurred in the decryption worker",b=qa({segment:s}),w={message:m,metadata:{error:new Error(m),errorType:ve.Error.StreamingFailedToDecryptSegment,segmentInfo:b,keyInfo:{uri:s.key.resolvedUri||s.map.key.resolvedUri}}};o(w,s)},i.addEventListener("message",d);let h;e.bytes.slice?h=e.bytes.slice():h=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(oD({source:n,encrypted:t,key:h,iv:e.iv}),[t.buffer,h.buffer])},v5=({decryptionWorker:n,segment:e,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})=>{k({type:"segmentdecryptionstart"}),xD({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:n,segment:e,doneFn:w},j=>{e.bytes=j,k({type:"segmentdecryptioncomplete",segment:e}),SD({segment:e,bytes:e.bytes,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})})},_5=({activeXhrs:n,decryptionWorker:e,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})=>{let j=0,A=!1;return(I,P)=>{if(!A){if(I)return A=!0,Tv(n),w(I,P);if(j+=1,j===n.length){const H=function(){if(P.encryptedBytes)return v5({decryptionWorker:e,segment:P,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k});SD({segment:P,bytes:P.bytes,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b,doneFn:w,onTransmuxerLog:L,triggerSegmentEventFn:k})};if(P.endOfAllRequests=Date.now(),P.map&&P.map.encryptedBytes&&!P.map.bytes)return k({type:"segmentdecryptionstart",segment:P}),xD({decryptionWorker:e,id:P.requestId+"-init",encryptedBytes:P.map.encryptedBytes,key:P.map.key,segment:P,doneFn:w},q=>{P.map.bytes=q,k({type:"segmentdecryptioncomplete",segment:P}),TD(P,Q=>{if(Q)return Tv(n),w(Q,P);H()})});H()}}}},b5=({loadendState:n,abortFn:e})=>t=>{t.target.aborted&&e&&!n.calledAbortFn&&(e(),n.calledAbortFn=!0)},T5=({segment:n,progressFn:e,trackInfoFn:t,timingInfoFn:i,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:m,dataFn:b})=>w=>{if(!w.target.aborted)return n.stats=Ot(n.stats,h5(w)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),e(w,n)},S5=({xhr:n,xhrOptions:e,decryptionWorker:t,segment:i,abortFn:s,progressFn:o,trackInfoFn:l,timingInfoFn:d,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:m,id3Fn:b,captionsFn:w,isEndOfTimeline:L,endedTimelineFn:k,dataFn:j,doneFn:A,onTransmuxerLog:I,triggerSegmentEventFn:P})=>{const H=[],q=_5({activeXhrs:H,decryptionWorker:t,trackInfoFn:l,timingInfoFn:d,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:m,id3Fn:b,captionsFn:w,isEndOfTimeline:L,endedTimelineFn:k,dataFn:j,doneFn:A,onTransmuxerLog:I,triggerSegmentEventFn:P});if(i.key&&!i.key.bytes){const J=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&J.push(i.map.key);const x=Ot(e,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),S=ZE(i,J,q,P),z={uri:i.key.resolvedUri};P({type:"segmentkeyloadstart",segment:i,keyInfo:z});const W=n(x,S);H.push(W)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const W=Ot(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),U=ZE(i,[i.map.key],q,P),Y={uri:i.map.key.resolvedUri};P({type:"segmentkeyloadstart",segment:i,keyInfo:Y});const ue=n(W,U);H.push(ue)}const x=Ot(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:_v(i.map),requestType:"segment-media-initialization"}),S=m5({segment:i,finishProcessingFn:q,triggerSegmentEventFn:P});P({type:"segmentloadstart",segment:i});const z=n(x,S);H.push(z)}const Q=Ot(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:_v(i),requestType:"segment"}),O=g5({segment:i,finishProcessingFn:q,responseType:Q.responseType,triggerSegmentEventFn:P});P({type:"segmentloadstart",segment:i});const N=n(Q,O);N.addEventListener("progress",T5({segment:i,progressFn:o,trackInfoFn:l,timingInfoFn:d,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:m,id3Fn:b,captionsFn:w,isEndOfTimeline:L,endedTimelineFn:k,dataFn:j})),H.push(N);const F={};return H.forEach(J=>{J.addEventListener("loadend",b5({loadendState:F,abortFn:s}))}),()=>Tv(H)},x5=zn("CodecUtils"),E5=function(n){const e=n.attributes||{};if(e.CODECS)return Tr(e.CODECS)},ED=(n,e)=>{const t=e.attributes||{};return n&&n.mediaGroups&&n.mediaGroups.AUDIO&&t.AUDIO&&n.mediaGroups.AUDIO[t.AUDIO]},C5=(n,e)=>{if(!ED(n,e))return!0;const t=e.attributes||{},i=n.mediaGroups.AUDIO[t.AUDIO];for(const s in i)if(!i[s].uri&&!i[s].playlists)return!0;return!1},vh=function(n){const e={};return n.forEach(({mediaType:t,type:i,details:s})=>{e[t]=e[t]||[],e[t].push(lw(`${i}${s}`))}),Object.keys(e).forEach(function(t){if(e[t].length>1){x5(`multiple ${t} codecs found as attributes: ${e[t].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[t]=null;return}e[t]=e[t][0]}),e},JE=function(n){let e=0;return n.audio&&e++,n.video&&e++,e},ic=function(n,e){const t=e.attributes||{},i=vh(E5(e)||[]);if(ED(n,e)&&!i.audio&&!C5(n,e)){const s=vh(cL(n,t.AUDIO)||[]);s.audio&&(i.audio=s.audio)}return i},zd=zn("PlaylistSelector"),eC=function(n){if(!n||!n.playlist)return;const e=n.playlist;return JSON.stringify({id:e.id,bandwidth:n.bandwidth,width:n.width,height:n.height,codecs:e.attributes&&e.attributes.CODECS||""})},_h=function(n,e){if(!n)return"";const t=te.getComputedStyle(n);return t?t[e]:""},su=function(n,e){const t=n.slice();n.sort(function(i,s){const o=e(i,s);return o===0?t.indexOf(i)-t.indexOf(s):o})},A_=function(n,e){let t,i;return n.attributes.BANDWIDTH&&(t=n.attributes.BANDWIDTH),t=t||te.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||te.Number.MAX_VALUE,t-i},w5=function(n,e){let t,i;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(t=n.attributes.RESOLUTION.width),t=t||te.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||te.Number.MAX_VALUE,t===i&&n.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?n.attributes.BANDWIDTH-e.attributes.BANDWIDTH:t-i};let CD=function(n,e,t,i,s,o){if(!n)return;const l={bandwidth:e,width:t,height:i,limitRenditionByPlayerDimensions:s};let d=n.playlists;fn.isAudioOnly(n)&&(d=o.getAudioTrackPlaylists_(),l.audioOnly=!0);let h=d.map(O=>{let N;const F=O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.width,J=O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.height;return N=O.attributes&&O.attributes.BANDWIDTH,N=N||te.Number.MAX_VALUE,{bandwidth:N,width:F,height:J,playlist:O}});su(h,(O,N)=>O.bandwidth-N.bandwidth),h=h.filter(O=>!fn.isIncompatible(O.playlist));let m=h.filter(O=>fn.isEnabled(O.playlist));m.length||(m=h.filter(O=>!fn.isDisabled(O.playlist)));const b=m.filter(O=>O.bandwidth*Ai.BANDWIDTH_VARIANCE<e);let w=b[b.length-1];const L=b.filter(O=>O.bandwidth===w.bandwidth)[0];if(s===!1){const O=L||m[0]||h[0];if(O&&O.playlist){let N="sortedPlaylistReps";return L&&(N="bandwidthBestRep"),m[0]&&(N="enabledPlaylistReps"),zd(`choosing ${eC(O)} using ${N} with options`,l),O.playlist}return zd("could not choose a playlist with options",l),null}const k=b.filter(O=>O.width&&O.height);su(k,(O,N)=>O.width-N.width);const j=k.filter(O=>O.width===t&&O.height===i);w=j[j.length-1];const A=j.filter(O=>O.bandwidth===w.bandwidth)[0];let I,P,H;A||(I=k.filter(O=>O.width>t||O.height>i),P=I.filter(O=>O.width===I[0].width&&O.height===I[0].height),w=P[P.length-1],H=P.filter(O=>O.bandwidth===w.bandwidth)[0]);let q;if(o.leastPixelDiffSelector){const O=k.map(N=>(N.pixelDiff=Math.abs(N.width-t)+Math.abs(N.height-i),N));su(O,(N,F)=>N.pixelDiff===F.pixelDiff?F.bandwidth-N.bandwidth:N.pixelDiff-F.pixelDiff),q=O[0]}const Q=q||H||A||L||m[0]||h[0];if(Q&&Q.playlist){let O="sortedPlaylistReps";return q?O="leastPixelDiffRep":H?O="resolutionPlusOneRep":A?O="resolutionBestRep":L?O="bandwidthBestRep":m[0]&&(O="enabledPlaylistReps"),zd(`choosing ${eC(Q)} using ${O} with options`,l),Q.playlist}return zd("could not choose a playlist with options",l),null};const tC=function(){let n=this.useDevicePixelRatio&&te.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),CD(this.playlists.main,this.systemBandwidth,parseInt(_h(this.tech_.el(),"width"),10)*n,parseInt(_h(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)},A5=function(n){let e=-1,t=-1;if(n<0||n>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&te.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),e<0&&(e=this.systemBandwidth,t=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==t&&(e=n*this.systemBandwidth+(1-n)*e,t=this.systemBandwidth),CD(this.playlists.main,e,parseInt(_h(this.tech_.el(),"width"),10)*i,parseInt(_h(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},D5=function(n){const{main:e,currentTime:t,bandwidth:i,duration:s,segmentDuration:o,timeUntilRebuffer:l,currentTimeline:d,syncController:h}=n,m=e.playlists.filter(j=>!fn.isIncompatible(j));let b=m.filter(fn.isEnabled);b.length||(b=m.filter(j=>!fn.isDisabled(j)));const L=b.filter(fn.hasAttribute.bind(null,"BANDWIDTH")).map(j=>{const I=h.getSyncPoint(j,s,d,t)?1:2,H=fn.estimateSegmentRequestTime(o,i,j)*I-l;return{playlist:j,rebufferingImpact:H}}),k=L.filter(j=>j.rebufferingImpact<=0);return su(k,(j,A)=>A_(A.playlist,j.playlist)),k.length?k[0]:(su(L,(j,A)=>j.rebufferingImpact-A.rebufferingImpact),L[0]||null)},O5=function(){const n=this.playlists.main.playlists.filter(fn.isEnabled);return su(n,(t,i)=>A_(t,i)),n.filter(t=>!!ic(this.playlists.main,t).video)[0]||null},R5=n=>{let e=0,t;return n.bytes&&(t=new Uint8Array(n.bytes),n.segments.forEach(i=>{t.set(i,e),e+=i.byteLength})),t};function wD(n){try{return new URL(n).pathname.split("/").slice(-2).join("/")}catch{return""}}const k5=function(n,e,t){if(!n[t]){e.trigger({type:"usage",name:"vhs-608"});let i=t;/^cc708_/.test(t)&&(i="SERVICE"+t.split("_")[1]);const s=e.textTracks().getTrackById(i);if(s)n[t]=s;else{const o=e.options_.vhs&&e.options_.vhs.captionServices||{};let l=t,d=t,h=!1;const m=o[i];m&&(l=m.label,d=m.language,h=m.default),n[t]=e.addRemoteTextTrack({kind:"captions",id:i,default:h,label:l,language:d},!1).track}}},M5=function({inbandTextTracks:n,captionArray:e,timestampOffset:t}){if(!e)return;const i=te.WebKitDataCue||te.VTTCue;e.forEach(s=>{const o=s.stream;s.content?s.content.forEach(l=>{const d=new i(s.startTime+t,s.endTime+t,l.text);d.line=l.line,d.align="left",d.position=l.position,d.positionAlign="line-left",n[o].addCue(d)}):n[o].addCue(new i(s.startTime+t,s.endTime+t,s.text))})},L5=function(n){Object.defineProperties(n.frame,{id:{get(){return ve.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get(){return ve.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get(){return ve.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})},P5=({inbandTextTracks:n,metadataArray:e,timestampOffset:t,videoDuration:i})=>{if(!e)return;const s=te.WebKitDataCue||te.VTTCue,o=n.metadataTrack_;if(!o||(e.forEach(b=>{const w=b.cueTime+t;typeof w!="number"||te.isNaN(w)||w<0||!(w<1/0)||!b.frames||!b.frames.length||b.frames.forEach(L=>{const k=new s(w,w,L.value||L.url||L.data||"");k.frame=L,k.value=L,L5(k),o.addCue(k)})}),!o.cues||!o.cues.length))return;const l=o.cues,d=[];for(let b=0;b<l.length;b++)l[b]&&d.push(l[b]);const h=d.reduce((b,w)=>{const L=b[w.startTime]||[];return L.push(w),b[w.startTime]=L,b},{}),m=Object.keys(h).sort((b,w)=>Number(b)-Number(w));m.forEach((b,w)=>{const L=h[b],k=isFinite(i)?i:b,j=Number(m[w+1])||k;L.forEach(A=>{A.endTime=j})})},N5={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},I5=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),B5=({inbandTextTracks:n,dateRanges:e})=>{const t=n.metadataTrack_;if(!t)return;const i=te.WebKitDataCue||te.VTTCue;e.forEach(s=>{for(const o of Object.keys(s)){if(I5.has(o))continue;const l=new i(s.startTime,s.endTime,"");l.id=s.id,l.type="com.apple.quicktime.HLS",l.value={key:N5[o],data:s[o]},(o==="scte35Out"||o==="scte35In")&&(l.value.data=new Uint8Array(l.value.data.match(/[\da-f]{2}/gi)).buffer),t.addCue(l)}s.processDateRange()})},iC=(n,e,t)=>{n.metadataTrack_||(n.metadataTrack_=t.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ve.browser.IS_ANY_SAFARI||(n.metadataTrack_.inBandMetadataTrackDispatchType=e))},Wl=function(n,e,t){let i,s;if(t&&t.cues)for(i=t.cues.length;i--;)s=t.cues[i],s.startTime>=n&&s.endTime<=e&&t.removeCue(s)},U5=function(n){const e=n.cues;if(!e)return;const t={};for(let i=e.length-1;i>=0;i--){const s=e[i],o=`${s.startTime}-${s.endTime}-${s.text}`;t[o]?n.removeCue(s):t[o]=s}},F5=(n,e,t)=>{if(typeof e>"u"||e===null||!n.length)return[];const i=Math.ceil((e-t+3)*ja.ONE_SECOND_IN_TS);let s;for(s=0;s<n.length&&!(n[s].pts>i);s++);return n.slice(s)},q5=(n,e,t)=>{if(!e.length)return n;if(t)return e.slice();const i=e[0].pts;let s=0;for(s;s<n.length&&!(n[s].pts>=i);s++);return n.slice(0,s).concat(e)},j5=(n,e,t,i)=>{const s=Math.ceil((e-i)*ja.ONE_SECOND_IN_TS),o=Math.ceil((t-i)*ja.ONE_SECOND_IN_TS),l=n.slice();let d=n.length;for(;d--&&!(n[d].pts<=o););if(d===-1)return l;let h=d+1;for(;h--&&!(n[h].pts<=s););return h=Math.max(h,0),l.splice(h,d-h+1),l},H5=function(n,e){if(!n&&!e||!n&&e||n&&!e)return!1;if(n===e)return!0;const t=Object.keys(n).sort(),i=Object.keys(e).sort();if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++){const o=t[s];if(o!==i[s]||n[o]!==e[o])return!1}return!0},z5=function(n,e,t){e=e||[];const i=[];let s=0;for(let o=0;o<e.length;o++){const l=e[o];if(n===l.timeline&&(i.push(o),s+=l.duration,s>t))return o}return i.length===0?0:i[i.length-1]},Gl=1,G5=500,nC=n=>typeof n=="number"&&isFinite(n),Gd=1/60,V5=(n,e,t)=>n!=="main"||!e||!t?null:!t.hasAudio&&!t.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!t.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&t.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,$5=(n,e,t)=>{let i=e-Ai.BACK_BUFFER_LENGTH;n.length&&(i=Math.max(i,n.start(0)));const s=e-t;return Math.min(s,i)},Yo=n=>{const{startOfSegment:e,duration:t,segment:i,part:s,playlist:{mediaSequence:o,id:l,segments:d=[]},mediaIndex:h,partIndex:m,timeline:b}=n,w=d.length-1;let L="mediaIndex/partIndex increment";n.getMediaInfoForTime?L=`getMediaInfoForTime (${n.getMediaInfoForTime})`:n.isSyncRequest&&(L="getSyncSegmentCandidate (isSyncRequest)"),n.independent&&(L+=` with independent ${n.independent}`);const k=typeof m=="number",j=n.segment.uri?"segment":"pre-segment",A=k?VA({preloadSegment:i})-1:0;return`${j} [${o+h}/${o+w}]`+(k?` part [${m}/${A}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(k?` part start/end [${s.start} => ${s.end}]`:"")+` startOfSegment [${e}] duration [${t}] timeline [${b}] selected by [${L}] playlist [${l}]`},rC=n=>`${n}TimingInfo`,K5=({segmentTimeline:n,currentTimeline:e,startOfSegment:t,buffered:i,overrideCheck:s})=>!s&&n===e?null:n<e?t:i.length?i.end(i.length-1):t,Sv=({timelineChangeController:n,currentTimeline:e,segmentTimeline:t,loaderType:i,audioDisabled:s})=>{if(e===t)return!1;if(i==="audio"){const o=n.lastTimelineChange({type:"main"});return!o||o.to!==t}if(i==="main"&&s){const o=n.pendingTimelineChange({type:"audio"});return!(o&&o.to===t)}return!1},X5=n=>{if(!n)return!1;const e=n.pendingTimelineChange({type:"audio"}),t=n.pendingTimelineChange({type:"main"}),i=e&&t,s=i&&e.to!==t.to;return!!(i&&e.from!==-1&&t.from!==-1&&s)},Y5=n=>{const e=n.timelineChangeController_.pendingTimelineChange({type:"audio"}),t=n.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&t&&e.to<t.to},js=n=>{const e=n.pendingSegment_;if(!e)return;if(Sv({timelineChangeController:n.timelineChangeController_,currentTimeline:n.currentTimeline_,segmentTimeline:e.timeline,loaderType:n.loaderType_,audioDisabled:n.audioDisabled_})&&X5(n.timelineChangeController_)){if(Y5(n)){n.timelineChangeController_.trigger("audioTimelineBehind");return}n.timelineChangeController_.trigger("fixBadTimelineChange")}},W5=n=>{let e=0;return["video","audio"].forEach(function(t){const i=n[`${t}TimingInfo`];if(!i)return;const{start:s,end:o}=i;let l;typeof s=="bigint"||typeof o=="bigint"?l=te.BigInt(o)-te.BigInt(s):typeof s=="number"&&typeof o=="number"&&(l=o-s),typeof l<"u"&&l>e&&(e=l)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},sC=({segmentDuration:n,maxDuration:e})=>n?Math.round(n)>e+Er:!1,Q5=(n,e)=>{if(e!=="hls")return null;const t=W5({audioTimingInfo:n.audioTimingInfo,videoTimingInfo:n.videoTimingInfo});if(!t)return null;const i=n.playlist.targetDuration,s=sC({segmentDuration:t,maxDuration:i*2}),o=sC({segmentDuration:t,maxDuration:i}),l=`Segment with index ${n.mediaIndex} from playlist ${n.playlist.id} has a duration of ${t} when the reported duration is ${n.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||o?{severity:s?"warn":"info",message:l}:null},qa=({type:n,segment:e})=>{if(!e)return;const t=!!(e.key||e.map&&e.map.ke),i=!!(e.map&&!e.map.bytes),s=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:n||e.type,uri:e.resolvedUri||e.uri,start:s,duration:e.duration,isEncrypted:t,isMediaInitialization:i}};class xv extends ve.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=zn(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():js(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(hi({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():js(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(hi({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():js(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():js(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return Yy.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&te.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,te.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Yy.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Oi();if(this.loaderType_==="main"){const{hasAudio:t,hasVideo:i,isMuxed:s}=e;if(i&&t&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const i=yh(e);let s=this.initSegments_[i];return t&&!s&&e.bytes&&(this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,t=!1){if(!e)return null;const i=uD(e);let s=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!s&&e.bytes&&(this.keyCache_[i]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});const o={resolvedUri:(s||e).resolvedUri};return s&&(o.bytes=s.bytes),o}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const i=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let o=null;if(i&&(i.id?o=i.id:i.uri&&(o=i.uri)),this.logger_(`playlist update [${o} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${Ky(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const l=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${l}]`),this.mediaIndex!==null)if(this.mediaIndex-=l,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){const h=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=h}}s&&(s.mediaIndex-=l,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&Yy.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,i=()=>{},s=!1){if(t===1/0&&(t=this.duration_()),t<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let o=1;const l=()=>{o--,o===0&&i()};(s||!this.audioDisabled_)&&(o++,this.sourceUpdater_.removeAudio(e,t,l)),(s||this.loaderType_==="main")&&(this.gopBuffer_=j5(this.gopBuffer_,e,t,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(e,t,l));for(const d in this.inbandTextTracks_)Wl(e,t,this.inbandTextTracks_[d]);Wl(e,t,this.segmentMetadataTrack_),l()}monitorBuffer_(){this.checkBufferTimeout_&&te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=te.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=te.setTimeout(this.monitorBufferTick_.bind(this),G5)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:qa({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){if(!t||!this.mediaSource_)return!1;const s=typeof e=="number"&&t.segments[e],o=e+1===t.segments.length,l=!s||!s.parts||i+1===s.parts.length;return t.endList&&this.mediaSource_.readyState==="open"&&o&&l}chooseNextRequest_(){const e=this.buffered_(),t=Ky(e)||0,i=S_(e,this.currentTime_()),s=!this.hasPlayed_()&&i>=1,o=i>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||s||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(d.isSyncRequest)d.mediaIndex=z5(this.currentTimeline_,l,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${d.mediaIndex}`);else if(this.mediaIndex!==null){const L=l[this.mediaIndex],k=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=L.end?L.end:t,L.parts&&L.parts[k+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=k+1):d.mediaIndex=this.mediaIndex+1}else{let L,k,j;const A=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${A}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${t}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const I=this.getSyncInfoFromMediaSequenceSync_(A);if(!I){const P="No sync info found while using media sequence sync";return this.error({message:P,metadata:{errorType:ve.Error.StreamingFailedToSelectNextSegment,error:new Error(P)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${I.start} --> ${I.end})`),L=I.segmentIndex,k=I.partIndex,j=I.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const I=fn.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:A,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});L=I.segmentIndex,k=I.partIndex,j=I.startTime}d.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${A}`:`currentTime ${A}`,d.mediaIndex=L,d.startOfSegment=j,d.partIndex=k,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${d.mediaIndex} `)}const h=l[d.mediaIndex];let m=h&&typeof d.partIndex=="number"&&h.parts&&h.parts[d.partIndex];if(!h||typeof d.partIndex=="number"&&!m)return null;typeof d.partIndex!="number"&&h.parts&&(d.partIndex=0,m=h.parts[0]);const b=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&m&&!b&&!m.independent)if(d.partIndex===0){const L=l[d.mediaIndex-1],k=L.parts&&L.parts.length&&L.parts[L.parts.length-1];k&&k.independent&&(d.mediaIndex-=1,d.partIndex=L.parts.length-1,d.independent="previous segment")}else h.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");const w=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=l.length-1&&w&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,d.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(d))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const i=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!i)return null;if(!i.isAppended)return i;const s=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return s?(s.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),s):null}generateSegmentInfo_(e){const{independent:t,playlist:i,mediaIndex:s,startOfSegment:o,isSyncRequest:l,partIndex:d,forceTimestampOffset:h,getMediaInfoForTime:m}=e,b=i.segments[s],w=typeof d=="number"&&b.parts[d],L={requestId:"segment-loader-"+Math.random(),uri:w&&w.resolvedUri||b.resolvedUri,mediaIndex:s,partIndex:w?d:null,isSyncRequest:l,startOfSegment:o,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:b.timeline,duration:w&&w.duration||b.duration,segment:b,part:w,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:m,independent:t},k=typeof h<"u"?h:this.isPendingTimestampOffset_;L.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:b.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:k});const j=Ky(this.sourceUpdater_.audioBuffered());return typeof j=="number"&&(L.audioAppendStart=j-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(L.gopsToAlignWith=F5(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),L}timestampOffsetForSegment_(e){return K5(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),i=e.bandwidth,s=this.pendingSegment_.duration,o=fn.estimateSegmentRequestTime(s,i,this.playlist_,e.bytesReceived),l=pN(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(o<=l)return;const d=D5({main:this.vhs_.playlists.main,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:l,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!d)return;const m=o-l-d.rebufferingImpact;let b=.5;l<=Er&&(b=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||m<b)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*Ai.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Yo(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:i,hasVideo:s}=t,o={segmentInfo:qa({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:s}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:o}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(t)||(t=t||{},H5(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():js(this))))}handleTimingInfo_(e,t,i,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const o=this.pendingSegment_,l=rC(t);o[l]=o[l]||{},o[l][i]=s,this.logger_(`timinginfo: ${t} - ${i} - ${s}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():js(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(t.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));return}const s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};t.forEach(l=>{o[l.stream]=o[l.stream]||{startTime:1/0,captions:[],endTime:0};const d=o[l.stream];d.startTime=Math.min(d.startTime,l.startTime+s),d.endTime=Math.max(d.endTime,l.endTime+s),d.captions.push(l)}),Object.keys(o).forEach(l=>{const{startTime:d,endTime:h,captions:m}=o[l],b=this.inbandTextTracks_;this.logger_(`adding cues from ${d} -> ${h} for ${l}`),k5(b,this.vhs_.tech_,l),Wl(d,h,b[l]),M5({captionArray:m,inbandTextTracks:b,timestampOffset:s})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i));return}this.addMetadataToTextTrack(i,t,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(t=>t())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(t=>t())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Sv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:i,hasVideo:s,isMuxed:o}=t;return!(s&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!o&&!e.audioTimingInfo||Sv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){js(this),this.callQueue_.push(this.handleData_.bind(this,e,t));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[rC(t.type)].start;else{const s=this.getCurrentMediaInfo_(),o=this.loaderType_==="main"&&s&&s.hasVideo;let l;o&&(l=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:l,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const s=this.chooseNextRequest_();if(s.mediaIndex!==i.mediaIndex||s.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}updateAppendInitSegmentStatus(e,t){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:i,playlist:s}){if(i){const o=yh(i);if(this.activeInitSegmentId_===o)return null;t=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i},s){const o=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ha(o).join(", ")),l.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ha(l).join(", "));const d=o.length?o.start(0):0,h=o.length?o.end(o.length-1):0,m=l.length?l.start(0):0,b=l.length?l.end(l.length-1):0;if(h-d<=Gl&&b-m<=Gl){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Ha(o).join(", ")}, video buffer: ${Ha(l).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:i}));const L=this.currentTime_()-Gl;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${L}`),this.remove(0,L,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Gl}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=te.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Gl*1e3)},!0)}handleAppendError_({segmentInfo:e,type:t,bytes:i},s){if(s){if(s.code===iD){this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error({message:`${t} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ve.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:i,data:s,bytes:o}){if(!o){const d=[s];let h=s.byteLength;i&&(d.unshift(i),h+=i.byteLength),o=R5({bytes:h,segments:d})}const l={segmentInfo:qa({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:l}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:o}))}handleSegmentTimingInfo_(e,t,i){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,o=`${e}TimingInfo`;s[o]||(s[o]={}),s[o].transmuxerPrependedSeconds=i.prependedContentDuration||0,s[o].transmuxedPresentationStart=i.start.presentation,s[o].transmuxedDecodeStart=i.start.decode,s[o].transmuxedPresentationEnd=i.end.presentation,s[o].transmuxedDecodeEnd=i.end.decode,s[o].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,t){const{type:i,data:s}=t;if(!s||!s.byteLength||i==="audio"&&this.audioDisabled_)return;const o=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:o,data:s})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){js(this),this.loadQueue_.push(()=>{const t=hi({},e,{forceTimestampOffset:!0});hi(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),s=this.mediaIndex!==null,o=e.timeline!==this.currentTimeline_&&e.timeline>0,l=i||s&&o;this.logger_(`Requesting
${wD(e.uri)}
${Yo(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=S5({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:l,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:d,level:h,stream:m})=>{this.logger_(`${Yo(e)} logged from transmuxer stream ${m} as a ${h}: ${d}`)},triggerSegmentEventFn:({type:d,segment:h,keyInfo:m,trackInfo:b,timingInfo:w})=>{const k={segmentInfo:qa({segment:h})};m&&(k.keyInfo=m),b&&(k.trackInfo=b),w&&(k.timingInfo=w),this.trigger({type:d,metadata:k})}})}trimBackBuffer_(e){const t=$5(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,i=e.part,s=e.segment.key||e.segment.map&&e.segment.map.key,o=e.segment.map&&!e.segment.map.bytes,l={resolvedUri:i?i.resolvedUri:t.resolvedUri,byterange:i?i.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:s,isMediaInitialization:o},d=e.playlist.segments[e.mediaIndex-1];if(d&&d.timeline===t.timeline&&(d.videoTimingInfo?l.baseStartTime=d.videoTimingInfo.transmuxedDecodeEnd:d.audioTimingInfo&&(l.baseStartTime=d.audioTimingInfo.transmuxedDecodeEnd)),t.key){const h=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);l.key=this.segmentKey(t.key),l.key.iv=h}return t.map&&(l.map=this.initSegmentForMap(t.map)),l}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<Gd){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Gd}`);return}const i={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_||t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===wr.ABORTED)return;if(this.pause(),e.code===wr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,t.stats),s.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=q5(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);t!==null&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:i,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:o,useVideoTimingInfo:l,videoTimingInfo:d,audioTimingInfo:h}){if(typeof e<"u")return e;if(!l)return h.start;const m=t.segments[i-1];return i===0||!m||typeof m.start>"u"||m.end!==s+o?s:d.start}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:s,isMuxed:o}=t,l=this.loaderType_==="main"&&s,d=!this.audioDisabled_&&i&&!o;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}l&&e.waitingOnAppends++,d&&e.waitingOnAppends++,l&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=V5(this.loaderType_,this.getCurrentMediaInfo_(),e);return t?(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:t&&typeof t.transmuxedDecodeStart=="number"?t.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),s=this.loaderType_==="main"&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;s&&(e.timingInfo.end=typeof s.end=="number"?s.end:s.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const h={segmentInfo:qa({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:h})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const t=Q5(e,this.sourceType_);if(t&&(t.severity==="warn"?ve.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Yo(e)}`);return}this.logger_(`Appended ${Yo(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,s=e.part,o=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,l=s&&s.end&&this.currentTime_()-s.end>e.playlist.partTargetDuration*3;if(o||l){this.logger_(`bad ${o?"segment":"part"} ${Yo(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Gd){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Gd}`);return}const t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,s=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(s-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,i=t.start,s=t.end;if(!nC(i)||!nC(s))return;Wl(i,s,this.segmentMetadataTrack_);const o=te.WebKitDataCue||te.VTTCue,l={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:s},d=JSON.stringify(l),h=new o(i,s,d);h.value=l,this.segmentMetadataTrack_.addCue(h)}}function is(){}const AD=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toUpperCase())},Z5=["video","audio"],Ev=(n,e)=>{const t=e[`${n}Buffer`];return t&&t.updating||e.queuePending[n]},J5=(n,e)=>{for(let t=0;t<e.length;t++){const i=e[t];if(i.type==="mediaSource")return null;if(i.type===n)return t}return null},au=(n,e)=>{if(e.queue.length===0)return;let t=0,i=e.queue[t];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),au("audio",e),au("video",e));return}if(n!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||Ev(n,e))){if(i.type!==n){if(t=J5(n,e.queue),t===null)return;i=e.queue[t]}if(e.queue.splice(t,1),e.queuePending[n]=i,i.action(n,e),!i.doneFn){e.queuePending[n]=null,au(n,e);return}}},DD=(n,e)=>{const t=e[`${n}Buffer`],i=AD(n);t&&(t.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),t.removeEventListener("error",e[`on${i}Error_`]),e.codecs[n]=null,e[`${n}Buffer`]=null)},Sr=(n,e)=>n&&e&&Array.prototype.indexOf.call(n.sourceBuffers,e)!==-1,xn={appendBuffer:(n,e,t)=>(i,s)=>{const o=s[`${i}Buffer`];if(Sr(s.mediaSource,o)){s.logger_(`Appending segment ${e.mediaIndex}'s ${n.length} bytes to ${i}Buffer`);try{o.appendBuffer(n)}catch(l){s.logger_(`Error with code ${l.code} `+(l.code===iD?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),s.queuePending[i]=null,t(l)}}},remove:(n,e)=>(t,i)=>{const s=i[`${t}Buffer`];if(Sr(i.mediaSource,s)){i.logger_(`Removing ${n} to ${e} from ${t}Buffer`);try{s.remove(n,e)}catch{i.logger_(`Remove ${n} to ${e} from ${t}Buffer failed`)}}},timestampOffset:n=>(e,t)=>{const i=t[`${e}Buffer`];Sr(t.mediaSource,i)&&(t.logger_(`Setting ${e}timestampOffset to ${n}`),i.timestampOffset=n)},callback:n=>(e,t)=>{n()},endOfStream:n=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${n||""})`);try{e.mediaSource.endOfStream(n)}catch(t){ve.log.warn("Failed to call media source endOfStream",t)}}},duration:n=>e=>{e.logger_(`Setting mediaSource duration to ${n}`);try{e.mediaSource.duration=n}catch(t){ve.log.warn("Failed to set media source duration",t)}},abort:()=>(n,e)=>{if(e.mediaSource.readyState!=="open")return;const t=e[`${n}Buffer`];if(Sr(e.mediaSource,t)){e.logger_(`calling abort on ${n}Buffer`);try{t.abort()}catch(i){ve.log.warn(`Failed to abort on ${n}Buffer`,i)}}},addSourceBuffer:(n,e)=>t=>{const i=AD(n),s=uu(e);t.logger_(`Adding ${n}Buffer with codec ${e} to mediaSource`);const o=t.mediaSource.addSourceBuffer(s);o.addEventListener("updateend",t[`on${i}UpdateEnd_`]),o.addEventListener("error",t[`on${i}Error_`]),t.codecs[n]=e,t[`${n}Buffer`]=o},removeSourceBuffer:n=>e=>{const t=e[`${n}Buffer`];if(DD(n,e),!!Sr(e.mediaSource,t)){e.logger_(`Removing ${n}Buffer with codec ${e.codecs[n]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(t)}catch(i){ve.log.warn(`Failed to removeSourceBuffer ${n}Buffer`,i)}}},changeType:n=>(e,t)=>{const i=t[`${e}Buffer`],s=uu(n);if(!Sr(t.mediaSource,i))return;const o=n.substring(0,n.indexOf(".")),l=t.codecs[e];if(l.substring(0,l.indexOf("."))===o)return;const h={codecsChangeInfo:{from:l,to:n}};t.trigger({type:"codecschange",metadata:h}),t.logger_(`changing ${e}Buffer codec from ${l} to ${n}`);try{i.changeType(s),t.codecs[e]=n}catch(m){h.errorType=ve.Error.StreamingCodecsChangeError,h.error=m,m.metadata=h,t.error_=m,t.trigger("error"),ve.log.warn(`Failed to changeType on ${e}Buffer`,m)}}},En=({type:n,sourceUpdater:e,action:t,doneFn:i,name:s})=>{e.queue.push({type:n,action:t,doneFn:i,name:s}),au(n,e)},aC=(n,e)=>t=>{const i=e[`${n}Buffered`](),s=dN(i);if(e.logger_(`received "updateend" event for ${n} Source Buffer: `,s),e.queuePending[n]){const o=e.queuePending[n].doneFn;e.queuePending[n]=null,o&&o(e[`${n}Error_`])}au(n,e)};class OD extends ve.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>au("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=zn("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=aC("video",this),this.onAudioUpdateEnd_=aC("audio",this),this.onVideoError_=t=>{this.videoError_=t},this.onAudioError_=t=>{this.audioError_=t},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){En({type:"mediaSource",sourceUpdater:this,action:xn.addSourceBuffer(e,t),name:"addSourceBuffer"})}abort(e){En({type:e,sourceUpdater:this,action:xn.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ve.log.error("removeSourceBuffer is not supported!");return}En({type:"mediaSource",sourceUpdater:this,action:xn.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ve.browser.IS_FIREFOX&&te.MediaSource&&te.MediaSource.prototype&&typeof te.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return te.SourceBuffer&&te.SourceBuffer.prototype&&typeof te.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){if(!this.canChangeType()){ve.log.error("changeType is not supported!");return}En({type:e,sourceUpdater:this,action:xn.changeType(t),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(t=>{const i=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,i);this.canChangeType()&&this.changeType(t,i)})}appendBuffer(e,t){const{segmentInfo:i,type:s,bytes:o}=e;if(this.processedAppend_=!0,s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,t]),this.logger_(`delayed audio append of ${o.length} until video append`);return}const l=t;if(En({type:s,sourceUpdater:this,action:xn.appendBuffer(o,i||{mediaIndex:-1},l),doneFn:t,name:"appendBuffer"}),s==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const d=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${d.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,d.forEach(h=>{this.appendBuffer.apply(this,h)})}}audioBuffered(){return Sr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Oi()}videoBuffered(){return Sr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Oi()}buffered(){const e=Sr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Sr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():fN(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=is){En({type:"mediaSource",sourceUpdater:this,action:xn.duration(e),name:"duration",doneFn:t})}endOfStream(e=null,t=is){typeof e!="string"&&(e=void 0),En({type:"mediaSource",sourceUpdater:this,action:xn.endOfStream(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,i=is){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}En({type:"audio",sourceUpdater:this,action:xn.remove(e,t),doneFn:i,name:"remove"})}removeVideo(e,t,i=is){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}En({type:"video",sourceUpdater:this,action:xn.remove(e,t),doneFn:i,name:"remove"})}updating(){return!!(Ev("audio",this)||Ev("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(En({type:"audio",sourceUpdater:this,action:xn.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(En({type:"video",sourceUpdater:this,action:xn.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&En({type:"audio",sourceUpdater:this,action:xn.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&En({type:"video",sourceUpdater:this,action:xn.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Z5.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>DD(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const oC=n=>decodeURIComponent(escape(String.fromCharCode.apply(null,n))),eI=n=>{const e=new Uint8Array(n);return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},uC=new Uint8Array(`

`.split("").map(n=>n.charCodeAt(0)));class tI extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class iI extends xv{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Oi();const e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return Oi([[t,i]])}initSegmentForMap(e,t=!1){if(!e)return null;const i=yh(e);let s=this.initSegments_[i];if(t&&!s&&e.bytes){const o=uC.byteLength+e.bytes.byteLength,l=new Uint8Array(o);l.set(e.bytes),l.set(uC,e.bytes.byteLength),this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:l}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,t){Wl(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const t=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",t),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===wr.TIMEOUT&&this.handleTimeout_(),e.code===wr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const s=this.pendingSegment_,o=i.mp4VttCues&&i.mp4VttCues.length;o&&(s.mp4VttCues=i.mp4VttCues),this.saveBandwidthRelatedStats_(s.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const l=s.segment;if(l.map&&(l.map.bytes=t.map.bytes),s.bytes=t.bytes,typeof te.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}l.requested=!0;try{this.parseVTTCues_(s)}catch(d){this.stopForError({message:d.message,metadata:{errorType:ve.Error.StreamingVttParserError,error:d}});return}if(o||this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=l.duration,s.cues.forEach(d=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new te.VTTCue(d.startTime,d.endTime,d.text):d)}),U5(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,t){const i=e&&e.type==="vtt",s=t&&t.type==="text";i&&s&&super.handleData_(e,t)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const t=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(i=>{const s=i.start+t,o=i.end+t,l=new te.VTTCue(s,o,i.cueText);i.settings&&i.settings.split(" ").forEach(d=>{const h=d.split(":"),m=h[0],b=h[1];l[m]=isNaN(b)?b:Number(b)}),e.cues.push(l)})}parseVTTCues_(e){let t,i=!1;if(typeof te.WebVTT!="function")throw new tI;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof te.TextDecoder=="function"?t=new te.TextDecoder("utf8"):(t=te.WebVTT.StringDecoder(),i=!0);const s=new te.WebVTT.Parser(te,te.vttjs,t);if(s.oncue=e.cues.push.bind(e.cues),s.ontimestampmap=l=>{e.timestampmap=l},s.onparsingerror=l=>{ve.log.warn("Error encountered when parsing cues: "+l.message)},e.segment.map){let l=e.segment.map.bytes;i&&(l=oC(l)),s.parse(l)}let o=e.bytes;i&&(o=oC(o)),s.parse(o),s.flush()}updateTimeMapping_(e,t,i){const s=e.segment;if(!t)return;if(!e.cues.length){s.empty=!0;return}const{MPEGTS:o,LOCAL:l}=e.timestampmap,h=o/ja.ONE_SECOND_IN_TS-l+t.mapping;if(e.cues.forEach(m=>{const b=m.endTime-m.startTime,w=this.handleRollover_(m.startTime+h,t.time);m.startTime=Math.max(w,0),m.endTime=Math.max(w+b,0)}),!i.syncInfo){const m=e.cues[0].startTime,b=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(m,b-s.duration)}}}handleRollover_(e,t){if(t===null)return e;let i=e*ja.ONE_SECOND_IN_TS;const s=t*ja.ONE_SECOND_IN_TS;let o;for(s<i?o=-8589934592:o=8589934592;Math.abs(i-s)>4294967296;)i+=o;return i/ja.ONE_SECOND_IN_TS}}const nI=function(n,e){const t=n.cues;for(let i=0;i<t.length;i++){const s=t[i];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},rI=function(n,e,t=0){if(!n.segments)return;let i=t,s;for(let o=0;o<n.segments.length;o++){const l=n.segments[o];if(s||(s=nI(e,i+l.duration/2)),s){if("cueIn"in l){s.endTime=i,s.adEndTime=i,i+=l.duration,s=null;continue}if(i<s.endTime){i+=l.duration;continue}s.endTime+=l.duration}else if("cueOut"in l&&(s=new te.VTTCue(i,i+l.duration,l.cueOut),s.adStartTime=i,s.adEndTime=i+parseFloat(l.cueOut),e.addCue(s)),"cueOutCont"in l){const[d,h]=l.cueOutCont.split("/").map(parseFloat);s=new te.VTTCue(i,i+l.duration,""),s.adStartTime=i-d,s.adEndTime=s.adStartTime+h,e.addCue(s)}i+=l.duration}};class lC{constructor({start:e,end:t,segmentIndex:i,partIndex:s=null,appended:o=!1}){this.start_=e,this.end_=t,this.segmentIndex_=i,this.partIndex_=s,this.appended_=o}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class sI{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class RD{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,t){const{mediaSequence:i,segments:s}=e;if(this.isReliable_=this.isReliablePlaylist_(i,s),!!this.isReliable_)return this.updateStorage_(s,i,this.calculateBaseTime_(i,s,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const s of i)if(s.isInRange(e))return s}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,i){const s=new Map;let o=`
`,l=i,d=t;this.start_=l,e.forEach((h,m)=>{const b=this.storage_.get(d),w=l,L=w+h.duration,k=!!(b&&b.segmentSyncInfo&&b.segmentSyncInfo.isAppended),j=new lC({start:w,end:L,appended:k,segmentIndex:m});h.syncInfo=j;let A=l;const I=(h.parts||[]).map((P,H)=>{const q=A,Q=A+P.duration,O=!!(b&&b.partsSyncInfo&&b.partsSyncInfo[H]&&b.partsSyncInfo[H].isAppended),N=new lC({start:q,end:Q,appended:O,segmentIndex:m,partIndex:H});return A=Q,o+=`Media Sequence: ${d}.${H} | Range: ${q} --> ${Q} | Appended: ${O}
`,P.syncInfo=N,N});s.set(d,new sI(j,I)),o+=`${wD(h.resolvedUri)} | Media Sequence: ${d} | Range: ${w} --> ${L} | Appended: ${k}
`,d++,l=L}),this.end_=l,this.storage_=s,this.diagnostics_=o}calculateBaseTime_(e,t,i){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const s=Math.min(...this.storage_.keys());if(e<s){const o=s-e;let l=this.storage_.get(s).segmentSyncInfo.start;for(let d=0;d<o;d++){const h=t[d];l-=h.duration}return l}return i}isReliablePlaylist_(e,t){return e!=null&&Array.isArray(t)&&t.length}}class cC extends RD{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t,i){if(!this.storage_.size){const s=this.parent_.getSyncInfoForMediaSequence(e);return s?s.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t,i)}}const aI=86400,Wy=[{name:"VOD",run:(n,e,t,i,s)=>t!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(n,e,t,i,s,o)=>{const l=n.getMediaSequenceSync(o);if(!l||!l.isReliable)return null;const d=l.getSyncInfoForTime(s);return d?{time:d.start,partIndex:d.partIndex,segmentIndex:d.segmentIndex}:null}},{name:"ProgramDateTime",run:(n,e,t,i,s)=>{if(!Object.keys(n.timelineToDatetimeMappings).length)return null;let o=null,l=null;const d=pv(e);s=s||0;for(let h=0;h<d.length;h++){const m=e.endList||s===0?h:d.length-(h+1),b=d[m],w=b.segment,L=n.timelineToDatetimeMappings[w.timeline];if(!L||!w.dateTimeObject)continue;let j=w.dateTimeObject.getTime()/1e3+L;if(w.parts&&typeof b.partIndex=="number")for(let I=0;I<b.partIndex;I++)j+=w.parts[I].duration;const A=Math.abs(s-j);if(l!==null&&(A===0||l<A))break;l=A,o={time:j,segmentIndex:b.segmentIndex,partIndex:b.partIndex}}return o}},{name:"Segment",run:(n,e,t,i,s)=>{let o=null,l=null;s=s||0;const d=pv(e);for(let h=0;h<d.length;h++){const m=e.endList||s===0?h:d.length-(h+1),b=d[m],w=b.segment,L=b.part&&b.part.start||w&&w.start;if(w.timeline===i&&typeof L<"u"){const k=Math.abs(s-L);if(l!==null&&l<k)break;(!o||l===null||l>=k)&&(l=k,o={time:L,segmentIndex:b.segmentIndex,partIndex:b.partIndex})}}return o}},{name:"Discontinuity",run:(n,e,t,i,s)=>{let o=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length){let l=null;for(let d=0;d<e.discontinuityStarts.length;d++){const h=e.discontinuityStarts[d],m=e.discontinuitySequence+d+1,b=n.discontinuities[m];if(b){const w=Math.abs(s-b.time);if(l!==null&&l<w)break;(!o||l===null||l>=w)&&(l=w,o={time:b.time,segmentIndex:h,partIndex:null})}}}return o}},{name:"Playlist",run:(n,e,t,i,s)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class oI extends ve.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new RD,i=new cC(t),s=new cC(t);this.mediaSequenceStorage_={main:t,audio:i,vtt:s},this.logger_=zn("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,i,s,o){if(t!==1/0)return Wy.find(({name:h})=>h==="VOD").run(this,e,t);const l=this.runStrategies_(e,t,i,s,o);if(!l.length)return null;for(const d of l){const{syncPoint:h,strategy:m}=d,{segmentIndex:b,time:w}=h;if(b<0)continue;const L=e.segments[b],k=w,j=k+L.duration;if(this.logger_(`Strategy: ${m}. Current time: ${s}. selected segment: ${b}. Time: [${k} -> ${j}]}`),s>=k&&s<j)return this.logger_("Found sync point with exact match: ",h),h}return this.selectSyncPoint_(l,{key:"time",value:s})}getExpiredTime(e,t){if(!e||!e.segments)return null;const i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;const s=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+tc({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:s.segmentIndex,endIndex:0}))}runStrategies_(e,t,i,s,o){const l=[];for(let d=0;d<Wy.length;d++){const h=Wy[d],m=h.run(this,e,t,i,s,o);m&&(m.strategy=h.name,l.push({strategy:h.name,syncPoint:m}))}return l}selectSyncPoint_(e,t){let i=e[0].syncPoint,s=Math.abs(e[0].syncPoint[t.key]-t.value),o=e[0].strategy;for(let l=1;l<e.length;l++){const d=Math.abs(e[l].syncPoint[t.key]-t.value);d<s&&(s=d,i=e[l].syncPoint,o=e[l].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${o}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,t){const i=t.mediaSequence-e.mediaSequence;if(i>aI){ve.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let s=i-1;s>=0;s--){const o=e.segments[s];if(o&&typeof o.start<"u"){t.syncInfo={mediaSequence:e.mediaSequence+s,time:o.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],i=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),s=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const o=s.dateTimeObject;s.discontinuity&&t&&o&&(this.timelineToDatetimeMappings[s.timeline]=-(o.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,i){const s=e.segment,o=e.part;let l=this.timelines[e.timeline],d,h;if(typeof e.timestampOffset=="number")l={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=l,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${l.time}] [mapping: ${l.mapping}]`)),d=e.startOfSegment,h=t.end+l.mapping;else if(l)d=t.start+l.mapping,h=t.end+l.mapping;else return!1;return o&&(o.start=d,o.end=h),(!s.start||d<s.start)&&(s.start=d),s.end=h,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let s=0;s<t.discontinuityStarts.length;s++){const o=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,d=o-e.mediaIndex,h=Math.abs(d);if(!this.discontinuities[l]||this.discontinuities[l].accuracy>h){let m;d<0?m=i.start-tc({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:o}):m=i.end+tc({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:o}),this.discontinuities[l]={time:m,accuracy:h}}}}dispose(){this.trigger("dispose"),this.off()}}class uI extends ve.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:i}){return typeof t=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:i}){if(typeof t=="number"&&typeof i=="number"){this.lastTimelineChanges_[e]={type:e,from:t,to:i},delete this.pendingTimelineChanges_[e];const s={timelineChangeInfo:{from:t,to:i}};this.trigger({type:"timelinechange",metadata:s})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const lI=pD(mD(function(){var n=function(){function A(){this.listeners={}}var I=A.prototype;return I.on=function(H,q){this.listeners[H]||(this.listeners[H]=[]),this.listeners[H].push(q)},I.off=function(H,q){if(!this.listeners[H])return!1;var Q=this.listeners[H].indexOf(q);return this.listeners[H]=this.listeners[H].slice(0),this.listeners[H].splice(Q,1),Q>-1},I.trigger=function(H){var q=this.listeners[H];if(q)if(arguments.length===2)for(var Q=q.length,O=0;O<Q;++O)q[O].call(this,arguments[1]);else for(var N=Array.prototype.slice.call(arguments,1),F=q.length,J=0;J<F;++J)q[J].apply(this,N)},I.dispose=function(){this.listeners={}},I.pipe=function(H){this.on("data",function(q){H.push(q)})},A}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(A){return A.subarray(0,A.byteLength-A[A.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const t=function(){const A=[[[],[],[],[],[]],[[],[],[],[],[]]],I=A[0],P=A[1],H=I[4],q=P[4];let Q,O,N;const F=[],J=[];let x,S,z,W,U,Y;for(Q=0;Q<256;Q++)J[(F[Q]=Q<<1^(Q>>7)*283)^Q]=Q;for(O=N=0;!H[O];O^=x||1,N=J[N]||1)for(W=N^N<<1^N<<2^N<<3^N<<4,W=W>>8^W&255^99,H[O]=W,q[W]=O,z=F[S=F[x=F[O]]],Y=z*16843009^S*65537^x*257^O*16843008,U=F[W]*257^W*16843008,Q=0;Q<4;Q++)I[Q][O]=U=U<<24^U>>>8,P[Q][W]=Y=Y<<24^Y>>>8;for(Q=0;Q<5;Q++)I[Q]=I[Q].slice(0),P[Q]=P[Q].slice(0);return A};let i=null;class s{constructor(I){i||(i=t()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let P,H,q;const Q=this._tables[0][4],O=this._tables[1],N=I.length;let F=1;if(N!==4&&N!==6&&N!==8)throw new Error("Invalid aes key size");const J=I.slice(0),x=[];for(this._key=[J,x],P=N;P<4*N+28;P++)q=J[P-1],(P%N===0||N===8&&P%N===4)&&(q=Q[q>>>24]<<24^Q[q>>16&255]<<16^Q[q>>8&255]<<8^Q[q&255],P%N===0&&(q=q<<8^q>>>24^F<<24,F=F<<1^(F>>7)*283)),J[P]=J[P-N]^q;for(H=0;P;H++,P--)q=J[H&3?P:P-4],P<=4||H<4?x[H]=q:x[H]=O[0][Q[q>>>24]]^O[1][Q[q>>16&255]]^O[2][Q[q>>8&255]]^O[3][Q[q&255]]}decrypt(I,P,H,q,Q,O){const N=this._key[1];let F=I^N[0],J=q^N[1],x=H^N[2],S=P^N[3],z,W,U;const Y=N.length/4-2;let ue,ee=4;const C=this._tables[1],le=C[0],$=C[1],T=C[2],M=C[3],se=C[4];for(ue=0;ue<Y;ue++)z=le[F>>>24]^$[J>>16&255]^T[x>>8&255]^M[S&255]^N[ee],W=le[J>>>24]^$[x>>16&255]^T[S>>8&255]^M[F&255]^N[ee+1],U=le[x>>>24]^$[S>>16&255]^T[F>>8&255]^M[J&255]^N[ee+2],S=le[S>>>24]^$[F>>16&255]^T[J>>8&255]^M[x&255]^N[ee+3],ee+=4,F=z,J=W,x=U;for(ue=0;ue<4;ue++)Q[(3&-ue)+O]=se[F>>>24]<<24^se[J>>16&255]<<16^se[x>>8&255]<<8^se[S&255]^N[ee++],z=F,F=J,J=x,x=S,S=z}}class o extends n{constructor(){super(n),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(I){this.jobs.push(I),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const l=function(A){return A<<24|(A&65280)<<8|(A&16711680)>>8|A>>>24},d=function(A,I,P){const H=new Int32Array(A.buffer,A.byteOffset,A.byteLength>>2),q=new s(Array.prototype.slice.call(I)),Q=new Uint8Array(A.byteLength),O=new Int32Array(Q.buffer);let N,F,J,x,S,z,W,U,Y;for(N=P[0],F=P[1],J=P[2],x=P[3],Y=0;Y<H.length;Y+=4)S=l(H[Y]),z=l(H[Y+1]),W=l(H[Y+2]),U=l(H[Y+3]),q.decrypt(S,z,W,U,O,Y),O[Y]=l(O[Y]^N),O[Y+1]=l(O[Y+1]^F),O[Y+2]=l(O[Y+2]^J),O[Y+3]=l(O[Y+3]^x),N=S,F=z,J=W,x=U;return Q};class h{constructor(I,P,H,q){const Q=h.STEP,O=new Int32Array(I.buffer),N=new Uint8Array(I.byteLength);let F=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(O.subarray(F,F+Q),P,H,N)),F=Q;F<O.length;F+=Q)H=new Uint32Array([l(O[F-4]),l(O[F-3]),l(O[F-2]),l(O[F-1])]),this.asyncStream_.push(this.decryptChunk_(O.subarray(F,F+Q),P,H,N));this.asyncStream_.push(function(){q(null,e(N))})}static get STEP(){return 32e3}decryptChunk_(I,P,H,q){return function(){const Q=d(I,P,H);q.set(Q,I.byteOffset)}}}var m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b;typeof window<"u"?b=window:typeof m<"u"?b=m:typeof self<"u"?b=self:b={};var w=b,L=function(I){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(I):I&&I.buffer instanceof ArrayBuffer},k=w.BigInt||Number;k("0x1"),k("0x100"),k("0x10000"),k("0x1000000"),k("0x100000000"),k("0x10000000000"),k("0x1000000000000"),k("0x100000000000000"),k("0x10000000000000000"),function(){var A=new Uint16Array([65484]),I=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);return I[0]===255?"big":I[0]===204?"little":"unknown"}();const j=function(A){const I={};return Object.keys(A).forEach(P=>{const H=A[P];L(H)?I[P]={bytes:H.buffer,byteOffset:H.byteOffset,byteLength:H.byteLength}:I[P]=H}),I};self.onmessage=function(A){const I=A.data,P=new Uint8Array(I.encrypted.bytes,I.encrypted.byteOffset,I.encrypted.byteLength),H=new Uint32Array(I.key.bytes,I.key.byteOffset,I.key.byteLength/4),q=new Uint32Array(I.iv.bytes,I.iv.byteOffset,I.iv.byteLength/4);new h(P,H,q,function(Q,O){self.postMessage(j({source:I.source,decrypted:O}),[O.buffer])})}}));var cI=fD(lI);const dI=n=>{let e=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},kD=(n,e)=>{n.abort(),n.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Cv=(n,e)=>{e.activePlaylistLoader=n,n.load()},hI=(n,e)=>()=>{const{segmentLoaders:{[n]:t,main:i},mediaTypes:{[n]:s}}=e,o=s.activeTrack(),l=s.getActiveGroup(),d=s.activePlaylistLoader,h=s.lastGroup_;if(!(l&&h&&l.id===h.id)&&(s.lastGroup_=l,s.lastTrack_=o,kD(t,s),!(!l||l.isMainPlaylist))){if(!l.playlistLoader){d&&i.resetEverything();return}t.resyncLoader(),Cv(l.playlistLoader,s)}},fI=(n,e)=>()=>{const{segmentLoaders:{[n]:t},mediaTypes:{[n]:i}}=e;i.lastGroup_=null,t.abort(),t.pause()},pI=(n,e)=>()=>{const{mainPlaylistLoader:t,segmentLoaders:{[n]:i,main:s},mediaTypes:{[n]:o}}=e,l=o.activeTrack(),d=o.getActiveGroup(),h=o.activePlaylistLoader,m=o.lastTrack_;if(!(m&&l&&m.id===l.id)&&(o.lastGroup_=d,o.lastTrack_=l,kD(i,o),!!d)){if(d.isMainPlaylist){if(!l||!m||l.id===m.id)return;const b=e.vhs.playlistController_,w=b.selectPlaylist();if(b.media()===w)return;o.logger_(`track change. Switching main audio from ${m.id} to ${l.id}`),t.pause(),s.resetEverything(),b.fastQualityChange_(w);return}if(n==="AUDIO"){if(!d.playlistLoader){s.setAudio(!0),s.resetEverything();return}i.setAudio(!0),s.setAudio(!1)}if(h===d.playlistLoader){Cv(d.playlistLoader,o);return}i.track&&i.track(l),i.resetEverything(),Cv(d.playlistLoader,o)}},bh={AUDIO:(n,e)=>()=>{const{mediaTypes:{[n]:t},excludePlaylist:i}=e,s=t.activeTrack(),o=t.activeGroup(),l=(o.filter(h=>h.default)[0]||o[0]).id,d=t.tracks[l];if(s===d){i({error:{message:"Problem encountered loading the default audio track."}});return}ve.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const h in t.tracks)t.tracks[h].enabled=t.tracks[h]===d;t.onTrackChanged()},SUBTITLES:(n,e)=>()=>{const{mediaTypes:{[n]:t}}=e;ve.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=t.activeTrack();i&&(i.mode="disabled"),t.onTrackChanged()}},dC={AUDIO:(n,e,t)=>{if(!e)return;const{tech:i,requestOptions:s,segmentLoaders:{[n]:o}}=t;e.on("loadedmetadata",()=>{const l=e.media();o.playlist(l,s),(!i.paused()||l.endList&&i.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),s),i.paused()||o.load()}),e.on("error",bh[n](n,t))},SUBTITLES:(n,e,t)=>{const{tech:i,requestOptions:s,segmentLoaders:{[n]:o},mediaTypes:{[n]:l}}=t;e.on("loadedmetadata",()=>{const d=e.media();o.playlist(d,s),o.track(l.activeTrack()),(!i.paused()||d.endList&&i.preload()!=="none")&&o.load()}),e.on("loadedplaylist",()=>{o.playlist(e.media(),s),i.paused()||o.load()}),e.on("error",bh[n](n,t))}},mI={AUDIO:(n,e)=>{const{vhs:t,sourceType:i,segmentLoaders:{[n]:s},requestOptions:o,main:{mediaGroups:l},mediaTypes:{[n]:{groups:d,tracks:h,logger_:m}},mainPlaylistLoader:b}=e,w=Sc(b.main);(!l[n]||Object.keys(l[n]).length===0)&&(l[n]={main:{default:{default:!0}}},w&&(l[n].main.default.playlists=b.main.playlists));for(const L in l[n]){d[L]||(d[L]=[]);for(const k in l[n][L]){let j=l[n][L][k],A;if(w?(m(`AUDIO group '${L}' label '${k}' is a main playlist`),j.isMainPlaylist=!0,A=null):i==="vhs-json"&&j.playlists?A=new Zo(j.playlists[0],t,o):j.resolvedUri?A=new Zo(j.resolvedUri,t,o):j.playlists&&i==="dash"?A=new bv(j.playlists[0],t,o,b):A=null,j=Ot({id:k,playlistLoader:A},j),dC[n](n,j.playlistLoader,e),d[L].push(j),typeof h[k]>"u"){const I=new ve.AudioTrack({id:k,kind:dI(j),enabled:!1,language:j.language,default:j.default,label:k});h[k]=I}}}s.on("error",bh[n](n,e))},SUBTITLES:(n,e)=>{const{tech:t,vhs:i,sourceType:s,segmentLoaders:{[n]:o},requestOptions:l,main:{mediaGroups:d},mediaTypes:{[n]:{groups:h,tracks:m}},mainPlaylistLoader:b}=e;for(const w in d[n]){h[w]||(h[w]=[]);for(const L in d[n][w]){if(!i.options_.useForcedSubtitles&&d[n][w][L].forced)continue;let k=d[n][w][L],j;if(s==="hls")j=new Zo(k.resolvedUri,i,l);else if(s==="dash"){if(!k.playlists.filter(I=>I.excludeUntil!==1/0).length)return;j=new bv(k.playlists[0],i,l,b)}else s==="vhs-json"&&(j=new Zo(k.playlists?k.playlists[0]:k.resolvedUri,i,l));if(k=Ot({id:L,playlistLoader:j},k),dC[n](n,k.playlistLoader,e),h[w].push(k),typeof m[L]>"u"){const A=t.addRemoteTextTrack({id:L,kind:"subtitles",default:k.default&&k.autoselect,language:k.language,label:L},!1).track;m[L]=A}}}o.on("error",bh[n](n,e))},"CLOSED-CAPTIONS":(n,e)=>{const{tech:t,main:{mediaGroups:i},mediaTypes:{[n]:{groups:s,tracks:o}}}=e;for(const l in i[n]){s[l]||(s[l]=[]);for(const d in i[n][l]){const h=i[n][l][d];if(!/^(?:CC|SERVICE)/.test(h.instreamId))continue;const m=t.options_.vhs&&t.options_.vhs.captionServices||{};let b={label:d,language:h.language,instreamId:h.instreamId,default:h.default&&h.autoselect};if(m[b.instreamId]&&(b=Ot(b,m[b.instreamId])),b.default===void 0&&delete b.default,s[l].push(Ot({id:d},h)),typeof o[d]>"u"){const w=t.addRemoteTextTrack({id:b.instreamId,kind:"captions",default:b.default,language:b.language,label:b.label},!1).track;o[d]=w}}}}},MD=(n,e)=>{for(let t=0;t<n.length;t++)if(C_(e,n[t])||n[t].playlists&&MD(n[t].playlists,e))return!0;return!1},gI=(n,e)=>t=>{const{mainPlaylistLoader:i,mediaTypes:{[n]:{groups:s}}}=e,o=i.media();if(!o)return null;let l=null;o.attributes[n]&&(l=s[o.attributes[n]]);const d=Object.keys(s);if(!l)if(n==="AUDIO"&&d.length>1&&Sc(e.main))for(let h=0;h<d.length;h++){const m=s[d[h]];if(MD(m,o)){l=m;break}}else s.main?l=s.main:d.length===1&&(l=s[d[0]]);return typeof t>"u"?l:t===null||!l?null:l.filter(h=>h.id===t.id)[0]||null},yI={AUDIO:(n,e)=>()=>{const{mediaTypes:{[n]:{tracks:t}}}=e;for(const i in t)if(t[i].enabled)return t[i];return null},SUBTITLES:(n,e)=>()=>{const{mediaTypes:{[n]:{tracks:t}}}=e;for(const i in t)if(t[i].mode==="showing"||t[i].mode==="hidden")return t[i];return null}},vI=(n,{mediaTypes:e})=>()=>{const t=e[n].activeTrack();return t?e[n].activeGroup(t):null},_I=n=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(m=>{mI[m](m,n)});const{mediaTypes:e,mainPlaylistLoader:t,tech:i,vhs:s,segmentLoaders:{["AUDIO"]:o,main:l}}=n;["AUDIO","SUBTITLES"].forEach(m=>{e[m].activeGroup=gI(m,n),e[m].activeTrack=yI[m](m,n),e[m].onGroupChanged=hI(m,n),e[m].onGroupChanging=fI(m,n),e[m].onTrackChanged=pI(m,n),e[m].getActiveGroup=vI(m,n)});const d=e.AUDIO.activeGroup();if(d){const m=(d.filter(w=>w.default)[0]||d[0]).id;e.AUDIO.tracks[m].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}t.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(m=>e[m].onGroupChanged())}),t.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(m=>e[m].onGroupChanging())});const h=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",h),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",()=>{i.audioTracks().removeEventListener("change",h),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const m in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[m])},bI=()=>{const n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{n[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:is,activeTrack:is,getActiveGroup:is,onGroupChanged:is,onTrackChanged:is,lastTrack_:null,logger_:zn(`MediaGroups[${e}]`)}}),n};class hC{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=hn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(t=>[t.ID,t])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class TI extends ve.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new hC,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=zn("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const i=t.serverUri||t.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=hn(e,i),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const i=e?t:this.getRequestURI(t);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const s={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:s}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(o,l)=>{if(o){if(l.status===410){this.logger_(`manifest request 410 ${o}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(l.status===429){const m=l.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${o}.`),this.logger_(`content steering will retry in ${m} seconds.`),this.startTTLTimeout_(parseInt(m,10));return}this.logger_(`manifest failed to load ${o}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:s});let d;try{d=JSON.parse(this.request_.responseText)}catch(m){const b={errorType:ve.Error.StreamingContentSteeringParserError,error:m};this.trigger({type:"error",metadata:b})}this.assignSteeringProperties_(d);const h={contentSteeringInfo:s.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:h}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const t=new te.URL(e),i=new te.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const t=JSON.parse(te.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new te.URL(e),i=this.getPathway(),s=this.getBandwidth_();if(i){const o=`_${this.manifestType_}_pathway`;t.searchParams.set(o,i)}if(s){const o=`_${this.manifestType_}_throughput`;t.searchParams.set(o,s)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(s=>{for(const o of s)if(this.availablePathways_.has(o))return o;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=s=>this.excludedSteeringManifestURLs.has(s);if(this.proxyServerUrl_){const s=this.setProxyServerUrl_(e);if(!t(s))return s}const i=this.setSteeringParams_(e);return t(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const t=e*1e3;this.ttlTimeout_=te.setTimeout(()=>{this.requestSteeringManifest()},t)}clearTTLTimeout_(){te.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new hC}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(hn(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const SI=(n,e)=>{let t=null;return(...i)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(null,i)},e)}},xI=10;let Hs;const EI=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],CI=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},wI=function({currentPlaylist:n,buffered:e,currentTime:t,nextPlaylist:i,bufferLowWaterLine:s,bufferHighWaterLine:o,duration:l,bufferBasedABR:d,log:h}){if(!i)return ve.log.warn("We received no playlist to switch to. Please check your stream."),!1;const m=`allowing switch ${n&&n.id||"null"} -> ${i.id}`;if(!n)return h(`${m} as current playlist is not set`),!0;if(i.id===n.id)return!1;const b=!!Qo(e,t).length;if(!n.endList)return!b&&typeof n.partTargetDuration=="number"?(h(`not ${m} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(h(`${m} as current playlist is live`),!0);const w=S_(e,t),L=d?Ai.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Ai.MAX_BUFFER_LOW_WATER_LINE;if(l<L)return h(`${m} as duration < max low water line (${l} < ${L})`),!0;const k=i.attributes.BANDWIDTH,j=n.attributes.BANDWIDTH;if(k<j&&(!d||w<o)){let A=`${m} as next bandwidth < current bandwidth (${k} < ${j})`;return d&&(A+=` and forwardBuffer < bufferHighWaterLine (${w} < ${o})`),h(A),!0}if((!d||k>j)&&w>=s){let A=`${m} as forwardBuffer >= bufferLowWaterLine (${w} >= ${s})`;return d&&(A+=` and next bandwidth > current bandwidth (${k} > ${j})`),h(A),!0}return h(`not ${m} as no switching criteria met`),!1};class AI extends ve.EventTarget{constructor(e){super(),this.fastQualityChange_=SI(this.fastQualityChange_.bind(this),100);const{src:t,withCredentials:i,tech:s,bandwidth:o,externVhs:l,useCueTags:d,playlistExclusionDuration:h,enableLowInitialPlaylist:m,sourceType:b,cacheEncryptionKeys:w,bufferBasedABR:L,leastPixelDiffSelector:k,captionServices:j,experimentalUseMMS:A}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:I}=e;(I===null||typeof I>"u")&&(I=1/0),Hs=l,this.bufferBasedABR=!!L,this.leastPixelDiffSelector=!!k,this.withCredentials=i,this.tech_=s,this.vhs_=s.vhs,this.player_=e.player_,this.sourceType_=b,this.useCueTags_=d,this.playlistExclusionDuration=h,this.maxPlaylistRetries=I,this.enableLowInitialPlaylist=m,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:I,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=bI(),A&&te.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new te.ManagedMediaSource,this.usingManagedMediaSource_=!0,ve.log("Using ManagedMediaSource")):te.MediaSource&&(this.mediaSource=new te.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Oi(),this.hasPlayed_=!1,this.syncController_=new oI(e),this.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new cI,this.sourceUpdater_=new OD(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new uI,this.keyStatusMap_=new Map;const P={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:j,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:w,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new bv(t,this.vhs_,Ot(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Zo(t,this.vhs_,Ot(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new xv(Ot(P,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new xv(Ot(P,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new iI(Ot(P,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((Q,O)=>{function N(){s.off("vttjserror",F),Q()}function F(){s.off("vttjsloaded",N),O()}s.one("vttjsloaded",N),s.one("vttjserror",F),s.addWebVttScript_()})}),e);const H=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new TI(this.vhs_.xhr,H),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),EI.forEach(Q=>{this[Q+"_"]=CI.bind(this,Q)}),this.logger_=zn("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const q=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(q,()=>{const Q=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-Q,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return e===-1||t===-1?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,i){const s=this.media(),o=s&&(s.id||s.uri),l=e&&(e.id||e.uri);if(o&&o!==l){this.logger_(`switch media ${o} -> ${l} from ${t}`);const d={renditionInfo:{id:l,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:d}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const t=this.mediaTypes_[e],i=t?t.activeGroup():null,s=this.contentSteeringController_.getPathway();if(i&&s){const l=(i.length?i[0].playlists:i.playlists).filter(d=>d.attributes.serviceLocation===s);l.length&&this.mediaTypes_[e].activePlaylistLoader.media(l[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=te.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(te.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const i=e.mediaGroups.AUDIO,s=Object.keys(i);let o;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)o=this.mediaTypes_.AUDIO.activeTrack();else{const d=i.main||s.length&&i[s[0]];for(const h in d)if(d[h].default){o={label:h};break}}if(!o)return t;const l=[];for(const d in i)if(i[d][o.label]){const h=i[d][o.label];if(h.playlists&&h.playlists.length)l.push.apply(l,h.playlists);else if(h.uri)l.push(h);else if(e.playlists.length)for(let m=0;m<e.playlists.length;m++){const b=e.playlists[m];b.attributes&&b.attributes.AUDIO&&b.attributes.AUDIO===d&&l.push(b)}}return l.length?l:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const t=this.mainPlaylistLoader_.media(),i=t.targetDuration*1.5*1e3;mv(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,t.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.mainSegmentLoader_.load()),_I({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),t),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;t=this.initialMedia_}this.handleUpdatedMediaPlaylist(t)}),this.mainPlaylistLoader_.on("error",()=>{const t=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:t.playlist,error:t})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const t=this.mainPlaylistLoader_.media(),i=t.targetDuration*1.5*1e3;mv(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const t=this.mainPlaylistLoader_.media();if(t.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(t)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(t=>{this.mainPlaylistLoader_.on(t,i=>{this.player_.trigger(hi({},i))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const i=e.mediaGroups||{};let s=!0;const o=Object.keys(i.AUDIO);for(const l in i.AUDIO)for(const d in i.AUDIO[l])i.AUDIO[l][d].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Hs.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),o.length&&Object.keys(i.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),s=this.bufferLowWaterLine(),o=this.bufferHighWaterLine(),l=this.tech_.buffered();return wI({buffered:l,currentTime:i,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:o,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const i=this.audioSegmentLoader_.pendingSegment_;if(!i||!i.segment||!i.segment.syncInfo)return;const s=i.segment.syncInfo.end+.01;this.tech_.setCurrentTime(s)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:xI}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(i=>{this.mainSegmentLoader_.on(i,s=>{this.player_.trigger(hi({},s))}),this.audioSegmentLoader_.on(i,s=>{this.player_.trigger(hi({},s))}),this.subtitleSegmentLoader_.on(i,s=>{this.player_.trigger(hi({},s))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const i=t.end(0);let s=i;if(e.start){const o=e.start.timeOffset;o<0?s=Math.max(i+o,t.start(0)):s=Math.min(i,o)}this.trigger("firstplay"),this.tech_.setCurrentTime(s)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,t=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();!t||t.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const s=Hs.Playlist.playlistEnd(e,i),o=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return s-o<=Cr;const d=l.end(l.length-1);return d-o<=Cr&&s-d<=Cr}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||t.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const s=this.mainPlaylistLoader_.main.playlists,o=s.filter(Zh),l=o.length===1&&o[0]===e;if(s.length===1&&i!==1/0)return ve.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(l);if(l){if(this.main().contentSteering){const j=this.pathwayAttribute_(e),A=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(j),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(j)},A);return}let k=!1;s.forEach(j=>{if(j===e)return;const A=j.excludeUntil;typeof A<"u"&&A!==1/0&&(k=!0,delete j.excludeUntil)}),k&&(ve.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let d;e.playlistErrors_>this.maxPlaylistRetries?d=1/0:d=Date.now()+i*1e3,e.excludeUntil=d,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const h=this.selectPlaylist();if(!h){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const m=t.internal?this.logger_:ve.log.warn,b=t.message?" "+t.message:"";m(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${b} Switching to playlist ${h.id}.`),h.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const w=h.targetDuration/2*1e3||5*1e3,L=typeof h.lastRequest=="number"&&Date.now()-h.lastRequest<=w;return this.switchMedia_(h,"exclude",l||L)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const i=[],s=e==="all";(s||e==="main")&&i.push(this.mainPlaylistLoader_);const o=[];(s||e==="audio")&&o.push("AUDIO"),(s||e==="subtitle")&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(l=>{const d=this.mediaTypes_[l]&&this.mediaTypes_[l].activePlaylistLoader;d&&i.push(d)}),["main","audio","subtitle"].forEach(l=>{const d=this[`${l}SegmentLoader_`];d&&(e===l||e==="all")&&i.push(d)}),i.forEach(l=>t.forEach(d=>{typeof l[d]=="function"&&l[d]()}))}setCurrentTime(e){const t=Qo(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(t&&t.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Hs.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,t){const i=e.media();if(!i)return null;const s=this.syncController_.getMediaSequenceSync(t);if(s&&s.isReliable){const d=s.start,h=s.end;if(!isFinite(d)||!isFinite(h))return null;const m=Hs.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i),b=Math.max(0,h-m);return b<d?null:Oi([[d,b]])}const o=this.syncController_.getExpiredTime(i,this.duration());if(o===null)return null;const l=Hs.Playlist.seekable(i,o,Hs.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i));return l.length?l:null}computeFinalSeekable_(e,t){if(!t)return e;const i=e.start(0),s=e.end(0),o=t.start(0),l=t.end(0);return o>s||i>l?e:Oi([[Math.max(i,o),Math.min(s,l)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let t;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!t))return;const i=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,t),!this.seekable_||i&&i.length&&this.seekable_.length&&i.start(0)===this.seekable_.start(0)&&i.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${zA(this.seekable_)}]`);const s={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:s}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}const t=this.tech_.buffered();let i=Hs.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(i=Math.max(i,t.end(t.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const t=this.mediaTypes_[e].groups;for(const i in t)t[i].forEach(s=>{s.playlistLoader&&s.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!t||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=ic(this.main(),t),s={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(s.video=i.video||e.main.videoCodec||hL),e.main.isMuxed&&(s.video+=`,${i.audio||e.main.audioCodec||Jx}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||o)&&(s.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||Jx,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!s.audio&&!s.video){this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const l=(m,b)=>m?Ql(b,this.usingManagedMediaSource_):Ry(b),d={};let h;if(["video","audio"].forEach(function(m){if(s.hasOwnProperty(m)&&!l(e[m].isFmp4,s[m])){const b=e[m].isFmp4?"browser":"muxer";d[b]=d[b]||[],d[b].push(s[m]),m==="audio"&&(h=b)}}),o&&h&&t.attributes.AUDIO){const m=t.attributes.AUDIO;this.main().playlists.forEach(b=>{(b.attributes&&b.attributes.AUDIO)===m&&b!==t&&(b.excludeUntil=1/0)}),this.logger_(`excluding audio group ${m} as ${h} does not support codec(s): "${s.audio}"`)}if(Object.keys(d).length){const m=Object.keys(d).reduce((b,w)=>(b&&(b+=", "),b+=`${w} does not support codec(s): "${d[w].join(",")}"`,b),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:m},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const m=[];if(["video","audio"].forEach(b=>{const w=(Tr(this.sourceUpdater_.codecs[b]||"")[0]||{}).type,L=(Tr(s[b]||"")[0]||{}).type;w&&L&&w.toLowerCase()!==L.toLowerCase()&&m.push(`"${this.sourceUpdater_.codecs[b]}" -> "${s[b]}"`)}),m.length){this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${m.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return s}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach(i=>{const s=e[i];if(t.indexOf(s.id)!==-1)return;t.push(s.id);const o=ic(this.main,s),l=[];o.audio&&!Ry(o.audio)&&!Ql(o.audio,this.usingManagedMediaSource_)&&l.push(`audio codec ${o.audio}`),o.video&&!Ry(o.video)&&!Ql(o.video,this.usingManagedMediaSource_)&&l.push(`video codec ${o.video}`),o.text&&o.text==="stpp.ttml.im1t"&&l.push(`text codec ${o.text}`),l.length&&(s.excludeUntil=1/0,this.logger_(`excluding ${s.id} for unsupported: ${l.join(", ")}`))})}excludeIncompatibleVariants_(e){const t=[],i=this.main().playlists,s=vh(Tr(e)),o=JE(s),l=s.video&&Tr(s.video)[0]||null,d=s.audio&&Tr(s.audio)[0]||null;Object.keys(i).forEach(h=>{const m=i[h];if(t.indexOf(m.id)!==-1||m.excludeUntil===1/0)return;t.push(m.id);const b=[],w=ic(this.mainPlaylistLoader_.main,m),L=JE(w);if(!(!w.audio&&!w.video)){if(L!==o&&b.push(`codec count "${L}" !== "${o}"`),!this.sourceUpdater_.canChangeType()){const k=w.video&&Tr(w.video)[0]||null,j=w.audio&&Tr(w.audio)[0]||null;k&&l&&k.type.toLowerCase()!==l.type.toLowerCase()&&b.push(`video codec "${k.type}" !== "${l.type}"`),j&&d&&j.type.toLowerCase()!==d.type.toLowerCase()&&b.push(`audio codec "${j.type}" !== "${d.type}"`)}b.length&&(m.excludeUntil=1/0,this.logger_(`excluding ${m.id}: ${b.join(" && ")}`))}})}updateAdCues_(e){let t=0;const i=this.seekable();i.length&&(t=i.start(0)),rI(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=Ai.GOAL_BUFFER_LENGTH,i=Ai.GOAL_BUFFER_LENGTH_RATE,s=Math.max(t,Ai.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,s)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=Ai.BUFFER_LOW_WATER_LINE,i=Ai.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(t,Ai.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(t,Ai.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.bufferBasedABR?o:s)}bufferHighWaterLine(){return Ai.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){iC(this.inbandTextTracks_,"com.apple.streaming",this.tech_),B5({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,i){const s=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();iC(this.inbandTextTracks_,e,this.tech_),P5({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:s,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(t=>{this.contentSteeringController_.on(t,i=>{this.trigger(hi({},i))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const t=this.main();(this.contentSteeringController_.didDASHTagChange(t.uri,t.contentSteering)||(()=>{const o=this.contentSteeringController_.getAvailablePathways(),l=[];for(const d of t.playlists){const h=d.attributes.serviceLocation;if(h&&(l.push(h),!o.has(h)))return!0}return!!(!l.length&&o.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const i=this.main().playlists,s=new Set;let o=!1;Object.keys(i).forEach(l=>{const d=i[l],h=this.pathwayAttribute_(d),m=h&&e!==h;d.excludeUntil===1/0&&d.lastExcludeReason_==="content-steering"&&!m&&(delete d.excludeUntil,delete d.lastExcludeReason_,o=!0);const w=!d.excludeUntil&&d.excludeUntil!==1/0;!s.has(d.id)&&m&&w&&(s.add(d.id),d.excludeUntil=1/0,d.lastExcludeReason_="content-steering",this.logger_(`excluding ${d.id} for ${d.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(l=>{const d=this.mediaTypes_[l];if(d.activePlaylistLoader){const h=d.activePlaylistLoader.media_;h&&h.attributes.serviceLocation!==e&&(o=!0)}}),o&&this.changeSegmentPathway_()}handlePathwayClones_(){const t=this.main().playlists,i=this.contentSteeringController_.currentPathwayClones,s=this.contentSteeringController_.nextPathwayClones;if(i&&i.size||s&&s.size){for(const[l,d]of i.entries())s.get(l)||(this.mainPlaylistLoader_.updateOrDeleteClone(d),this.contentSteeringController_.excludePathway(l));for(const[l,d]of s.entries()){const h=i.get(l);if(!h){t.filter(b=>b.attributes["PATHWAY-ID"]===d["BASE-ID"]).forEach(b=>{this.mainPlaylistLoader_.addClonePathway(d,b)}),this.contentSteeringController_.addAvailablePathway(l);continue}this.equalPathwayClones_(h,d)||(this.mainPlaylistLoader_.updateOrDeleteClone(d,!0),this.contentSteeringController_.addAvailablePathway(l))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...s])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const i=e["URI-REPLACEMENT"].PARAMS,s=t["URI-REPLACEMENT"].PARAMS;for(const o in i)if(i[o]!==s[o])return!1;for(const o in s)if(i[o]!==s[o])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const s=this.mainPlaylistLoader_.getKeyIdSet(i);!s||!s.size||s.forEach(o=>{const l="usable",d=this.keyStatusMap_.has(o)&&this.keyStatusMap_.get(o)===l,h=i.lastExcludeReason_===t&&i.excludeUntil===1/0;d?d&&h&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_(`enabling playlist ${i.id} because key ID ${o} is ${l}`)):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==t&&(i.excludeUntil=1/0,i.lastExcludeReason_=t,this.logger_(`excluding playlist ${i.id} because the key ID ${o} doesn't exist in the keyStatusMap or is not ${l}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const s=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,o=i.excludeUntil===1/0&&i.lastExcludeReason_===t;s&&o&&(delete i.excludeUntil,ve.log.warn(`enabling non-HD playlist ${i.id} because all playlists were excluded due to ${t} key IDs`))})}addKeyStatus_(e,t){const o=(typeof e=="string"?e:eI(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${o} added to the keyStatusMap`),this.keyStatusMap_.set(o,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const DI=(n,e,t)=>i=>{const s=n.main.playlists[e],o=E_(s),l=Zh(s);if(typeof i>"u")return l;i?delete s.disabled:s.disabled=!0;const d={renditionInfo:{id:e,bandwidth:s.attributes.BANDWIDTH,resolution:s.attributes.RESOLUTION,codecs:s.attributes.CODECS},cause:"fast-quality"};return i!==l&&!o&&(i?(t(s),n.trigger({type:"renditionenabled",metadata:d})):n.trigger({type:"renditiondisabled",metadata:d})),i};class OI{constructor(e,t,i){const{playlistController_:s}=e,o=s.fastQualityChange_.bind(s);if(t.attributes){const l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=ic(s.main(),t),this.playlist=t,this.id=i,this.enabled=DI(e.playlists,t.id,o)}}const RI=function(n){n.representations=()=>{const e=n.playlistController_.main(),t=Sc(e)?n.playlistController_.getAudioTrackPlaylists_():e.playlists;return t?t.filter(i=>!E_(i)).map((i,s)=>new OI(n,i,i.id)):[]}},fC=["seeking","seeked","pause","playing","error"];class kI extends ve.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=zn("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),l=this.playlistController_,d=["main","subtitle","audio"],h={};d.forEach(b=>{h[b]={reset:()=>this.resetSegmentDownloads_(b),updateend:()=>this.checkSegmentDownloads_(b)},l[`${b}SegmentLoader_`].on("appendsdone",h[b].updateend),l[`${b}SegmentLoader_`].on("playlistupdate",h[b].reset),this.tech_.on(["seeked","seeking"],h[b].reset)});const m=b=>{["main","audio"].forEach(w=>{l[`${w}SegmentLoader_`][b]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),m("off"))},this.clearSeekingAppendCheck_=()=>m("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),m("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(fC,o),this.tech_.on("canplay",i),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(fC,o),this.tech_.off("canplay",i),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),d.forEach(b=>{l[`${b}SegmentLoader_`].off("appendsdone",h[b].updateend),l[`${b}SegmentLoader_`].off("playlistupdate",h[b].reset),this.tech_.off(["seeked","seeking"],h[b].reset)}),this.checkCurrentTimeTimeout_&&te.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&te.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=te.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,i=t[`${e}SegmentLoader_`],s=i.buffered_(),o=mN(this[`${e}Buffered_`],s);if(this[`${e}Buffered_`]=s,o){const l={bufferedRanges:s};t.trigger({type:"bufferedrangeschanged",metadata:l}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Ha(s)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Cr>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Oi([this.lastRecordedTime,e]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const t=this.seekable(),i=this.tech_.currentTime(),s=this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let o;if(s&&(o=t.end(t.length-1)),this.beforeSeekableWindow_(t,i)){const j=t.start(0);o=j+(j===t.end(0)?0:Cr)}if(typeof o<"u")return this.logger_(`Trying to seek outside of seekable at time ${i} with seekable range ${zA(t)}. Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0;const l=this.playlistController_.sourceUpdater_,d=this.tech_.buffered(),h=l.audioBuffer?l.audioBuffered():null,m=l.videoBuffer?l.videoBuffered():null,b=this.media(),w=b.partTargetDuration?b.partTargetDuration:(b.targetDuration-Er)*2,L=[h,m];for(let j=0;j<L.length;j++){if(!L[j])continue;if(S_(L[j],i)<w)return!1}const k=Hd(d,i);return k.length===0?!1:(o=k.start(0)+Cr,this.logger_(`Buffered region starts (${k.start(0)})  just beyond seek point (${i}). Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),i=Qo(t,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const d=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${d}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(d),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,s=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const l=Hd(s,t);return l.length>0?(this.logger_(`Stopped at ${t} and seeking to ${l.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0):!1}afterSeekableWindow_(e,t,i,s=!1){if(!e.length)return!1;let o=e.end(e.length-1)+Cr;const l=!i.endList,d=typeof i.partTargetDuration=="number";return l&&(d||s)&&(o=e.end(e.length-1)+i.targetDuration*3),t>o}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:i}){if(!e)return;let s;if(e.length&&t.length){const o=Qo(e,i-3),l=Qo(e,i),d=Qo(t,i);d.length&&!l.length&&o.length&&(s={start:o.end(0),end:d.end(0)})}else Hd(e,i).length||(s=this.gapFromVideoUnderflow_(e,i));return s?(this.logger_(`Encountered a gap in video from ${s.start} to ${s.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const t=this.tech_.buffered(),i=this.tech_.currentTime(),s=Hd(t,i);if(this.resetTimeUpdate_(),s.length===0||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+Er);const o={gapInfo:{from:i,to:s.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:o}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const i=hN(e);for(let s=0;s<i.length;s++){const o=i.start(s),l=i.end(s);if(t-o<4&&t-o>2)return{start:o,end:l}}return null}}const MI={errorInterval:30,getSource(n){const t=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return n(t)}},LD=function(n,e){let t=0,i=0;const s=Ot(MI,e);n.ready(()=>{n.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const o=function(){i&&n.currentTime(i)},l=function(b){b!=null&&(i=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",o),n.src(b),n.trigger({type:"usage",name:"vhs-error-reload"}),n.play())},d=function(){if(Date.now()-t<s.errorInterval*1e3){n.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){ve.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return t=Date.now(),s.getSource.call(n,l)},h=function(){n.off("loadedmetadata",o),n.off("error",d),n.off("dispose",h)},m=function(b){h(),LD(n,b)};n.on("error",d),n.on("dispose",h),n.reloadSourceOnError=m},LI=function(n){LD(this,n)};var PD="3.16.2",PI="7.1.0",NI="1.3.1",II="7.2.0",BI="4.0.2";const ti={PlaylistLoader:Zo,Playlist:fn,utils:FN,STANDARD_PLAYLIST_SELECTOR:tC,INITIAL_PLAYLIST_SELECTOR:O5,lastBandwidthSelector:tC,movingAverageBandwidthSelector:A5,comparePlaylistBandwidth:A_,comparePlaylistResolution:w5,xhr:aD()};Object.keys(Ai).forEach(n=>{Object.defineProperty(ti,n,{get(){return ve.log.warn(`using Vhs.${n} is UNSAFE be sure you know what you are doing`),Ai[n]},set(e){if(ve.log.warn(`using Vhs.${n} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ve.log.warn(`value of Vhs.${n} must be greater than or equal to 0`);return}Ai[n]=e}})});const ND="videojs-vhs",ID=function(n,e){const t=e.media();let i=-1;for(let s=0;s<n.length;s++)if(n[s].id===t.id){i=s;break}n.selectedIndex_=i,n.trigger({selectedIndex:i,type:"change"})},UI=function(n,e){e.representations().forEach(t=>{n.addQualityLevel(t)}),ID(n,e.playlists)};ti.canPlaySource=function(){return ve.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const FI=(n,e,t)=>{if(!n)return n;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=vh(Tr(e.attributes.CODECS))),t&&t.attributes&&t.attributes.CODECS&&(i.audio=t.attributes.CODECS);const s=uu(i.video),o=uu(i.audio),l={};for(const d in n)l[d]={},o&&(l[d].audioContentType=o),s&&(l[d].videoContentType=s),e.contentProtection&&e.contentProtection[d]&&e.contentProtection[d].pssh&&(l[d].pssh=e.contentProtection[d].pssh),typeof n[d]=="string"&&(l[d].url=n[d]);return Ot(n,l)},qI=(n,e)=>n.reduce((t,i)=>{if(!i.contentProtection)return t;const s=e.reduce((o,l)=>{const d=i.contentProtection[l];return d&&d.pssh&&(o[l]={pssh:d.pssh}),o},{});return Object.keys(s).length&&t.push(s),t},[]),jI=({player:n,sourceKeySystems:e,audioMedia:t,mainPlaylists:i})=>{if(!n.eme.initializeMediaKeys)return Promise.resolve();const s=t?i.concat([t]):i,o=qI(s,Object.keys(e)),l=[],d=[];return o.forEach(h=>{d.push(new Promise((m,b)=>{n.tech_.one("keysessioncreated",m)})),l.push(new Promise((m,b)=>{n.eme.initializeMediaKeys({keySystems:h},w=>{if(w){b(w);return}m()})}))}),Promise.race([Promise.all(l),Promise.race(d)])},HI=({player:n,sourceKeySystems:e,media:t,audioMedia:i})=>{const s=FI(e,t,i);return s?(n.currentSource().keySystems=s,s&&!n.eme?(ve.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},BD=()=>{if(!te.localStorage)return null;const n=te.localStorage.getItem(ND);if(!n)return null;try{return JSON.parse(n)}catch{return null}},zI=n=>{if(!te.localStorage)return!1;let e=BD();e=e?Ot(e,n):n;try{te.localStorage.setItem(ND,JSON.stringify(e))}catch{return!1}return e},GI=n=>n.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(n.substring(n.indexOf(",")+1)):n,UD=(n,e)=>{n._requestCallbackSet||(n._requestCallbackSet=new Set),n._requestCallbackSet.add(e)},FD=(n,e)=>{n._responseCallbackSet||(n._responseCallbackSet=new Set),n._responseCallbackSet.add(e)},qD=(n,e)=>{n._requestCallbackSet&&(n._requestCallbackSet.delete(e),n._requestCallbackSet.size||delete n._requestCallbackSet)},jD=(n,e)=>{n._responseCallbackSet&&(n._responseCallbackSet.delete(e),n._responseCallbackSet.size||delete n._responseCallbackSet)};ti.supportsNativeHls=function(){if(!Fe||!Fe.createElement)return!1;const n=Fe.createElement("video");return ve.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(n.canPlayType(t))}):!1}();ti.supportsNativeDash=function(){return!Fe||!Fe.createElement||!ve.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Fe.createElement("video").canPlayType("application/dash+xml"))}();ti.supportsTypeNatively=n=>n==="hls"?ti.supportsNativeHls:n==="dash"?ti.supportsNativeDash:!1;ti.isSupported=function(){return ve.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};ti.xhr.onRequest=function(n){UD(ti.xhr,n)};ti.xhr.onResponse=function(n){FD(ti.xhr,n)};ti.xhr.offRequest=function(n){qD(ti.xhr,n)};ti.xhr.offResponse=function(n){jD(ti.xhr,n)};const VI=ve.getComponent("Component");class HD extends VI{constructor(e,t,i){if(super(t,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=zn("VhsHandler"),t.options_&&t.options_.playerId){const s=ve.getPlayer(t.options_.playerId);this.player_=s}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Fe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],s=>{const o=Fe.fullscreenElement||Fe.webkitFullscreenElement||Fe.mozFullScreenElement||Fe.msFullscreenElement;o&&o.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Ot(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=BD();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Ai.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ai.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const t=this.options_.customPixelRatio;typeof t=="number"&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;this.setOptions_(),this.options_.src=GI(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ti,this.options_.sourceType=dw(t),this.options_.seekTo=o=>{this.tech_.setCurrentTime(o)},this.options_.player_=this.player_,this.playlistController_=new AI(this.options_);const i=Ot({liveRangeSafeTimeDelta:Cr},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new kI(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const o=ve.players[this.tech_.options_.playerId];let l=this.playlistController_.error;typeof l=="object"&&!l.code?l.code=3:typeof l=="string"&&(l={message:l,code:3}),o.error(l)});const s=this.options_.bufferBasedABR?ti.movingAverageBandwidthSelector(.55):ti.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=ti.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(o){this.playlistController_.selectPlaylist=o.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(o){this.playlistController_.mainSegmentLoader_.throughput.rate=o,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let o=this.playlistController_.mainSegmentLoader_.bandwidth;const l=te.navigator.connection||te.navigator.mozConnection||te.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&l){const h=l.downlink*1e3*1e3;h>=d&&o>=d?o=Math.max(o,h):o=h}return o},set(o){this.playlistController_.mainSegmentLoader_.bandwidth=o,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const o=1/(this.bandwidth||1);let l;return this.throughput>0?l=1/this.throughput:l=0,Math.floor(1/(o+l))},set(){ve.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ha(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ha(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&zI({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{RI(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=te.URL.createObjectURL(this.playlistController_.mediaSource),(ve.browser.IS_ANY_SAFARI||ve.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),jI({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(t=>{this.logger_("error while creating EME key session",t),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=HI({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!t){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ve.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{UI(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{ID(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":PD,"mux.js":PI,"mpd-parser":NI,"m3u8-parser":II,"aes-decrypter":BI}}version(){return this.constructor.version()}canChangeType(){return OD.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&te.URL.revokeObjectURL&&(te.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return $N({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,i=!0,s=2){return dD({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{UD(this.xhr,e)},this.xhr.onResponse=e=>{FD(this.xhr,e)},this.xhr.offRequest=e=>{qD(this.xhr,e)},this.xhr.offResponse=e=>{jD(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],t=["gapjumped","playedrangeschanged"];e.forEach(i=>{this.playlistController_.on(i,s=>{this.player_.trigger(hi({},s))})}),t.forEach(i=>{this.playbackWatcher_.on(i,s=>{this.player_.trigger(hi({},s))})})}}const Th={name:"videojs-http-streaming",VERSION:PD,canHandleSource(n,e={}){const t=Ot(ve.options,e);return!t.vhs.experimentalUseMMS&&!Ql("avc1.4d400d,mp4a.40.2",!1)?!1:Th.canPlayType(n.type,t)},handleSource(n,e,t={}){const i=Ot(ve.options,t);return e.vhs=new HD(n,e,i),e.vhs.xhr=aD(),e.vhs.setupXhrHooks_(),e.vhs.src(n.src,n.type),e.vhs},canPlayType(n,e){const t=dw(n);if(!t)return"";const i=Th.getOverrideNative(e);return!ti.supportsTypeNatively(t)||i?"maybe":""},getOverrideNative(n={}){const{vhs:e={}}=n,t=!(ve.browser.IS_ANY_SAFARI||ve.browser.IS_IOS),{overrideNative:i=t}=e;return i}},$I=()=>Ql("avc1.4d400d,mp4a.40.2",!0);$I()&&ve.getTech("Html5").registerSourceHandler(Th,0);ve.VhsHandler=HD;ve.VhsSourceHandler=Th;ve.Vhs=ti;ve.use||ve.registerComponent("Vhs",ti);ve.options.vhs=ve.options.vhs||{};(!ve.getPlugin||!ve.getPlugin("reloadSourceOnError"))&&ve.registerPlugin("reloadSourceOnError",LI);const KI=()=>{var m;const n=Ks(),e=Tu(),t=De.useRef(null),i=De.useRef(null),[s,o]=De.useState(!1),l=(m=n.state)==null?void 0:m.videoUrl,{ref:d,focused:h}=ni.useFocusable({onEnterPress:()=>e(-1)});return De.useEffect(()=>{if(!l){console.error(" No video found, redirecting..."),e("/");return}console.log(" Video URL received:",l);const b=setTimeout(()=>{t.current&&!i.current&&(i.current=ve(t.current,{controls:!0,autoplay:!0,fluid:!0,sources:[{src:l,type:"video/mp4"}]}),o(!0))},100);return()=>{clearTimeout(b),i.current&&(i.current.dispose(),i.current=null)}},[l,e]),l?Ke.jsxs("div",{className:"video-container",children:[Ke.jsx("button",{ref:d,onClick:()=>e(-1),style:{position:"absolute",top:"10px",left:"10px",padding:"10px",backgroundColor:h?"rgba(0,0,0,0.5)":"white",border:"none",cursor:"pointer",fontSize:"16px",zIndex:1e3},children:" Back"}),!s&&Ke.jsx("p",{style:{color:"white"},children:"Loading Video..."}),Ke.jsx("video",{ref:t,className:"video-js vjs-default-skin"})]}):Ke.jsx("p",{style:{color:"white",textAlign:"center"},children:"No video found."})},XI=()=>{const n=Tu(),{ref:e,focusKey:t}=ni.useFocusable({focusKey:"portrait-view-more-page"}),{ref:i,focused:s}=ni.useFocusable({focusKey:"portrait-back-button",onEnterPress:()=>n(-1)});return Ke.jsx(ni.FocusContext.Provider,{value:t,children:Ke.jsxs("div",{ref:e,className:"view-more-page",style:{padding:"20px"},children:[Ke.jsx("h2",{children:"More Portrait Content"}),Ke.jsx("p",{children:"This is where portrait content would be displayed."}),Ke.jsx("div",{ref:i,className:`back-button ${s?"focused":""}`,style:{marginTop:"20px",padding:"10px 20px",border:"2px solid #000",display:"inline-block",backgroundColor:s?"#ccc":"#fff",cursor:"pointer"},children:"Back"})]})})},YI=()=>{const n=Tu(),{ref:e,focusKey:t}=ni.useFocusable({focusKey:"landscape-view-more-page"}),{ref:i,focused:s}=ni.useFocusable({focusKey:"landscape-back-button",onEnterPress:()=>n(-1)});return Ke.jsx(ni.FocusContext.Provider,{value:t,children:Ke.jsxs("div",{ref:e,className:"view-more-page",style:{padding:"20px"},children:[Ke.jsx("h2",{children:"More Landscape Content"}),Ke.jsx("p",{children:"This is where landscape content would be displayed."}),Ke.jsx("div",{ref:i,className:`back-button ${s?"focused":""}`,style:{marginTop:"20px",padding:"10px 20px",border:"2px solid #000",display:"inline-block",backgroundColor:s?"#ccc":"#fff",cursor:"pointer"},children:"Back"})]})})},WI=()=>Ke.jsx(Sk,{children:Ke.jsxs(JR,{children:[Ke.jsx(Vl,{path:"/",element:Ke.jsx(UM,{})}),Ke.jsx(Vl,{path:"/player",element:Ke.jsx(KI,{})}),Ke.jsx(Vl,{path:"/view-more/portrait",element:Ke.jsx(XI,{})}),Ke.jsx(Vl,{path:"/view-more/landscape",element:Ke.jsx(YI,{})})]})});ni.init({debug:!0,visualDebug:!1,distanceCalculationMethod:"center"});lR.createRoot(document.getElementById("root")).render(Ke.jsx(De.StrictMode,{children:Ke.jsx(WI,{})}));
